{"version":3,"sources":["_constants/user.constants.js","SharedComponents/AuthContext/AuthContext.js","_helpers/history.js","_services/SharedFunctions.js","_services/SharedModals.js","_constants/actionTypes.constants.js","_actions/categoryActions.js","_assets/Images/new_logo.jpg","SharedComponents/Navbar/Navbar.js","_helpers/axiosBaseURL.js","Pages/Login/layouts.js","Pages/Login/Login.js","_assets/Images/No_Image.jpg","Pages/Homepage/Category.js","_actions/productActions.js","Pages/Homepage/CategoryList.js","_assets/Images/HomepageImages/Image_1.png","_assets/Images/HomepageImages/Image_2.png","_assets/Images/HomepageImages/Image_3.png","Pages/Homepage/HomepageCarousel.js","_constants/orderStatus.constants.js","Pages/HomepageAdmin/Functions.js","_actions/incompleteOrderActions.js","_actions/completeOrderActions.js","SharedComponents/Modals/Modals.js","Pages/HomepageAdmin/Modals.js","Pages/HomepageAdmin/HomepageAdminOrder.js","Pages/HomepageAdmin/HomepageAdminOrderList.js","Pages/HomepageAdmin/ProductAdmin.js","Pages/HomepageAdmin/ProductListAdmin.js","Pages/HomepageAdmin/HomepageAdmin.js","Pages/EditCustomer/FormLayout.js","Pages/EditCustomer/EditCustomer.js","_helpers/utils.js","Pages/Products/Product.js","Pages/Products/ProductsList.js","SharedComponents/Categories/CategoriesFunctions.js","Pages/Products/Products.js","Pages/Products/ProductImagesCarousel.js","_constants/cart.constants.js","_actions/cartActions.js","Pages/Products/ProductMainTitle.js","Pages/Products/ProductDescription.js","Pages/Products/ProductDetails.js","_actions/companyInfoActions.js","Pages/DeliveryDispatch/DeliveryDispatch.js","Pages/ContactUs/ContactUs.js","Pages/TermsConditions/TermsConditions.js","Pages/Blog/Blog.js","Pages/EmailRequest/EmailRequest.js","Pages/ReenterPassword/ReenterPassword.js","SharedComponents/Form/FormItem.js","Pages/MyAccount/MyAccount.js","Pages/Cart/CartItem.js","Pages/Cart/CartProducts.js","_assets/Images/visa.png","_assets/Images/mastercard.jpg","Pages/Cart/CartPage.js","_assets/Images/Alipay.png","Pages/Checkout/CheckoutShipping.js","Pages/Checkout/CheckoutSecurePayment.js","Pages/Checkout/CheckoutReviewOrder.js","Pages/Checkout/CheckoutOrderComplete.js","Pages/Checkout/PaymentCancelled.js","Pages/ManageOrdersCustomer/OrderView.js","Pages/ManageOrdersCustomer/ManageOrdersCustomer.js","Pages/ManageOrdersCustomer/Functions.js","Pages/Order/Helpers/Functions.js","Pages/Order/Helpers/PageConstants.js","Pages/Order/Forms/NewItemForm/NewItemForm.js","Pages/Order/Helpers/Modals.js","Pages/Order/Forms/POForm/POForm2.js","Pages/Order/Forms/POForm/POForm1.js","Pages/Order/Forms/POForm/POForm1View.js","Pages/Order/Order.js","Pages/CurrentOrders/OrderRow.js","Pages/CurrentOrders/CurrentOrders.js","Pages/CurrentOrders/Functions.js","Pages/ProcessedOrders/Functions.js","Pages/ProcessedOrders/Modals.js","Pages/ProcessedOrders/ProcessedOrders.js","Pages/EditCompanyInfo/FormLayout.js","Pages/EditCompanyInfo/Modals.js","Pages/EditCompanyInfo/Functions.js","Pages/EditCompanyInfo/EditCompanyInfo.js","Pages/ManageProducts/ProductTableRows.js","Pages/ManageProducts/ManageProducts.js","Pages/ManageProducts/Functions.js","Pages/AddEditProduct/PageStates.js","Pages/AddEditProduct/Modals.js","Pages/AddEditProduct/Functions.js","Pages/AddEditProduct/AddEditProduct.js","Pages/ManageCategories/Helpers/Modals.js","Pages/ManageCategories/Helpers/Functions.js","Pages/ManageCategories/ManageCategories.js","_routers/config.js","Pages/Homepage/Homepage.js","_routers/PrivateRoute.js","SharedComponents/Footer/FooterMenu.js","SharedComponents/Footer/FooterMenuMobile.js","SharedComponents/Footer/FooterMain.js","App/App.js","Misc/reportWebVitals.js","_reducers/productReducer.js","_reducers/productDetailsReducer.js","_reducers/categoryReducer.js","_reducers/companyInfoReducer.js","_reducers/completeOrdersReducer.js","_reducers/incompleteOrdersReducer.js","_reducers/cartReducer.js","_reducers/index.js","_helpers/store.js","index.js"],"names":["userConstants","AuthContext","createContext","AuthUpdateContext","useAuth","useContext","useAuthUpdate","AuthProvider","children","useState","user","JSON","parse","localStorage","getItem","setItem","stringify","roles","initialAuth","authType","setAuthType","Provider","value","USER","history","createBrowserHistory","getCategoryName","id","categories","category","find","_id","undefined","c_name","onlyNumbers","e","form","field","index","subfield","reg","str","target","field_obj","arr","getFieldValue","sub_obj","test","makeNumber","setFieldsValue","i","length","isNaN","substring","filterEmail","orders","c_email","setOrdersList","filteredOrders","filter","order","Modal","warning","title","content","onOk","removeSpaceLogic","validateEmail","email","String","toLowerCase","_logout","updateAuth","push","GET_PRODUCTS","GET_PRODUCT","DEFAULT_ORDER","LOADING_PRODUCTS","DELETE_PRODUCT","EDIT_PRODUCT","ADD_PRODUCT","ERROR","SET_LOADING","GET_CATEGORIES","GET_SUB_CATEGORIES","ERROR_CATEGORIES","LOADING_CATEGORIES","EMPTY_CATEGORIES","GET_COMPANY_INFO","SET_COMPANY_INFO","LOADING_COMPANY_INFO","GET_COMPLETE_ORDERS","LOADING_COMPLETE_ORDERS","DELETE_COMPLETE_ORDER","ERROR_COMPLETE_ORDERS","ADD_COMPLETE_ORDER","EDIT_COMPLETE_ORDER","GET_INCOMPLETE_ORDERS","LOADING_INCOMPLETE_ORDERS","DELETE_INCOMPLETE_ORDERS","ERROR_INCOMPLETE_ORDERS","ADD_TRACKING","ADD_INCOMPLETE_ORDER","EDIT_INCOMPLETE_ORDER","getAllCategories","dispatch","setCategoriesLoading","axios","get","then","res","data","type","payload","catch","err","console","log","SubMenu","Menu","Navbar","useDispatch","auth","userDetails","setUserDetails","parentCategoires","setParentCategories","childCategories","setChildCategories","useSelector","state","categoryState","emptyCategories","empty","itemCount","cartState","items","isLoading","loading","useEffect","parents","c","path","config","headers","authorization","access_token","defaults","baseURL","response","status","logout","customerMenu","Item","to","accountSpecificMenu","accountMenu","onClick","accountMenuMobile","className","icon","UserOutlined","first_name","categoriesMenu","map","p","sub_categories","ourProductsDropdown","ourProductsSubmenuMobile","login","loginMobile","overlay","orderDropdown","productsDropdown","mainMenu","count","showZero","style","backgroundColor","ShoppingCartOutlined","mainMenuMobile","MenuOutlined","logoLink","mode","selectable","disabled","src","image","alt","layout","labelCol","span","wrapperCol","actionButtonsLayout","Login","setLoading","useForm","name","label","rules","required","message","whitespace","validateTrigger","maxLength","validator","_","password","s","isWhiteSpace","Promise","resolve","post","reject","Error","Password","cursor","color","marginRight","htmlType","Category","props","img","altImage","getAllProducts","setIsLoading","products","setLoadingProductDetails","setDefaultOrder","val","CategoryList","error","productsList","productState","page","setPage","currentCategories","setCurrentCategories","isChild","setIsChild","changeCategoryType","childrenOfParent","maxNumberOfPages","Math","ceil","rederableCats","slice","c_id","cat","child","noImage","product","p_categories","p_image_uri","getCategoryImage","toString","textAlign","size","current","defaultCurrent","total","onChange","HomepageCarousel","position","autoplay","image_1","image_2","image_3","orderStatusConstants","navigateAddOrder","window","scrollTo","getIncompleteOrders","token","setIncompleteOrdersLoading","addTracking","trackingDetails","success","getCompleteOrders","setCompleteOrdersLoading","deleteConfirm","p_code","confirm","okText","okType","succes","deleteProduct","deleteOrderSuccess","po_number","info","deleteOrderFail","deleteOrderConfirm","deleteCompleteOrder","deleteIncompleteOrder","sumbitTrackingFailed","confirmSubmitTracking","tracking","tracking_number","carrier","HomepageAdminOrder","date","Date","issued_date","dateString","getDate","getMonth","getFullYear","trackingNumberDiv","onFinish","validateFields","values","onFinishFailed","paddingTop","placeholder","width","DeleteOutlined","EditOutlined","HomepageAdminOrderList","loadingOrders","errorLoadingOrders","renderableOrders","o","orderProps","Product","categoryName","height","p_name","p_price","ProductList","rederableProducts","productProps","errorLoading","HomepageAdmin","radioState","setRadioState","completeOrders","completeOrdersState","errorLoadingCompleteOrders","loadingCompleteOrders","incompleteOrders","incompleteOrdersState","errorLoadingIncompleteOrders","loadingIncompleteOrders","productListProps","ordersListProps","radioToggle","checked","complete","location","navigateFullList","tailLayout","offset","EditCustomer","paddingLeft","paddingBottom","Search","allowClear","enterButton","fontWeight","formatNumber","amount","round","Number","EPSILON","Intl","NumberFormat","currency","currencyDisplay","format","Meta","Card","productDetails","descriptionWithPrice","p_description","trim","tabIndex","cover","placeholderImg","p_price_id","description","ProductsList","grid","gutter","xs","sm","md","lg","xl","xxl","pagination","showSizeChanger","dataSource","Object","renderItem","item","addSubCategories","categoriesList","forEach","parent","key","includes","splice","indexOf","getCategoriesHierarchy","insideAllCategories","copyOfCategories","x","rootParents","Option","Select","Products","loadingCategory","errorCategory","loadingProduct","errorProduct","filteredAndSorted","setFilterAndSorted","setFilter","sorted","setSorted","filterAndSortProduct","filteredSortedProducts","sort","a","b","productToCompare","sortValue","sortProduct","class","treeData","defaultValue","treeDefaultExpandAll","onSelect","SortAscendingOutlined","SortDescendingOutlined","RiseOutlined","FallOutlined","ProductImagesCarousel","dotPosition","returnVal","uri","contentCarousel","ADD_TO_CART","CLEAR_CART","REMOVE_ITEMS","INCREASE_QUANTITY","DECREASE_QUANTITY","SET_SHIPPING_INFO","SET_ERROR","LOAD_STRIPE","UPDATE_ITEM_INFO","clearCart","setError","quantityOptions","connect","addToCart","quantity","specialRequirements","productSize","special_requirements","p_size","TextArea","Input","setQuantity","setSpecialRequirements","setProductSize","selectionGenerator","options","onChangeCallback","setDefault","element","item_code","p_unit","htmlFor","rows","showCount","ShoppingOutlined","ProductDescription","ProductDetails","productDetailsState","queryString","search","URLSearchParams","getProductCode","productCode","align","getCompanyInfo","DeliveryDispatch","companyInfo","companyInfoState","keys","constructor","c_delivery","Title","Typography","ContactUs","callback","inputs","setInputs","handleSubmit","event","preventDefault","alert","handleInputChange","persist","useContactUs","onSubmit","level","PhoneFilled","EnvironmentFilled","TermsConditions","Blog","c_blog","EmailRequest","fontSize","showEmailSent","somethingWentWrong","ReenterPassword","useParams","toolTipVisible","setToolTipVisible","visible","onFocus","confirmPassword","new_password","body","inputTypeMapping","input","GenerateFormItem","inputType","isRequired","inputName","requiredMessage","FormComponent","Content","Layout","formElements","increase","increaseQuantity","decrease","decreaseQuantity","editable","quantityState","setQuantityState","objectFit","unit_price","PlusOutlined","MinusOutlined","autoSize","minRows","maxRows","line_items","removeItems","invalid_pcodes","updateItemInfo","li","validPCodes","setValidPCodes","invalidProducts","setInvalidProducts","productInfo","setProductInfo","setLoadingState","invalidRemoved","setInvalidRemoved","p_codes","valid_pcodes","invalid1","invalid2","filterInavlidProducts","invalidProds","itemList","colSpan","ExclamationCircleOutlined","prod","cartItems","subTotal","GST","freightCharge","grandTotal","visa","mastercard","Step","Steps","address","setShipping","Form","direction","addressPayload","po_attention_to","fullname","po_address_line1","address_line1","po_address_line2","address_line2","po_suburb","suburb","po_state","po_postcode","postcode","emailPayload","errorInfo","requiredMark","initialValues","CaretLeftOutlined","min","max","float","fetchCheckoutSession","fetch","method","json","stripe","loadStripeAction","publicKey","loadStripe","fetchConfig","paymentOnClick","sessionId","redirectToCheckout","clear","CheckCircleFilled","CloseCircleFilled","PaymentCancelled","removeItem","justify","OrderView","itemRow","setCurrentOrder","po_postal_code","po_country","OptGroup","ManageOrdersCustomer","setOrders","ordersOriginal","setOrdersOriginal","currentOrder","noOrders","setNoOrders","row","hasOwnProperty","sortedOrders","v","filterOrders","sortOrders","setUndefinedValues","newOrder","lenth","MODE","EDIT","VIEW","ADD","NewItemForm","AddItemModal","new_item","new_items","unshift","new_order","setOrder","setNewItemFormVisible","resetFields","onCancel","_addIncompleteOrder","cancelText","addIncompleteOrder","addSuccess","addFail","reload","editSuccess","editFail","POForm2","deleteOrderItem","hidden","showDeleteConfirm","onBlur","temp_order","border","POForm1","orderOriginal","date_S","updateOrderText","section_1_a","section_1_b","POForm1View","Order","compeletOrders","setOrderOriginal","setMode","newItemFormVisible","form_1","form_2","confirmSubmit","showNoItemsPresent","editedOrder","createAddress","createOrderAdd","createOrderEdit","prev","curr","completeLength","incompleteLength","_editOrder","addItemModal_props","form_1_props","form_2_props","toggleButton","margin","submitUndoButtons","showUndo","display","OrderRow","promise_1","promise_2","all","CheckCircleOutlined","CurrentOrders","ordersList","orderList","handleOrder","onSearch","document","getElementById","ProcessedOrders","postCompanyInfo","newInfo","EditCompanyInfo","setCompanyInfo","dataLoading","setDataLoading","c_number","c_address","c_TandC","c_about","setFormValues","confirmEdit","ProductTableRows","ManageProducts","processedProductsList","handleFilter","productTableRowsProps","selectCategories","tableLayout","imageModal","file","fileList","updateFileList","setProduct","onRemove","addFailPcode","newProduct","formData","editProduct","_editProduct","confirmAdd","addProduct","_addProduct","onPreview","url","reader","FileReader","readAsDataURL","originFileObj","onload","result","beforeUpload","isJpgOrPng","isLt2M","pop","newFileList","uid","startsWith","new_p_image_uri","AddEditProduct","pageState","setPageState","originalImageListLength","setOriginalImageListLength","newPage","setNewPage","sizeOptions","setSizeOptions","_getProduct","checkBlob","getProduct","p_units_sold","addUriToFileList","sizeOptionsList","danger","temp","deleteSizeOption","encType","number_of_new_images","FormData","append","URL","createObjectURL","createFormDataEdit","product_b","numberOfNewImages","originalFileLength","product_a","createFormData","removeSpaces","getValueFromEvent","listType","addSizeOption","onPriceChange","confirmAddingCategory","newCategory","categoryParentPath","c_description","categoryDescription","successModal","setFields","errors","errorModal","addCategory","confirmDeleteCategory","categoryToDelete","delete","encodeURI","deleteCategory","routes","component","exact","SaveOutlined","Cart","CheckoutShipping","CheckoutSecurePayment","CheckoutReviewOrder","CheckoutOrderComplete","form_add_category","form_delete_category","createPathForCategory","node","extra","resize","PrivateRoute","Component","rest","hasRole","some","role","render","FooterMenu","FooterMenuMobile","FooterMain","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","initState","productReducer","findIndex","productDetailsReducer","categoryReducer","companyInfoReducer","completeOrdersReducer","newArray","incompleteOrdersReducer","tempArr","tempObj","address_init","initialState","cartReducer","action","addedItem","newTotal","newItems","invalid","price_id","allReducers","combineReducers","store","createStore","applyMiddleware","thunk","ReactDOM"],"mappings":"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","file":"static/js/main.2a58a424.chunk.js","sourcesContent":["export const userConstants = {\r\n    ROLE_GUEST: \"ROLE_GUEST\",\r\n    ROLE_ADMIN: \"ROLE_ADMIN\",\r\n    ROLE_CUSTOMER: \"ROLE_CUSTOMER\"\r\n};\r\n","import { useState, useContext, createContext } from \"react\"\r\nimport { userConstants } from '../../_constants/user.constants';\r\n\r\nconst AuthContext = createContext();\r\nconst AuthUpdateContext = createContext();\r\n\r\nexport function useAuth(){\r\n    return useContext(AuthContext);\r\n}\r\n\r\nexport function useAuthUpdate(){\r\n    return useContext(AuthUpdateContext);\r\n}\r\n\r\nconst initialAuth = () => {\r\n    const user = JSON.parse(localStorage.getItem('SUPERFIN_USER'));\r\n    if(user === null){\r\n        localStorage.setItem('SUPERFIN_USER', JSON.stringify({roles: [userConstants.ROLE_GUEST]}));\r\n        return {roles: [userConstants.ROLE_GUEST]};\r\n    } \r\n    return user;\r\n}\r\n\r\nconst AuthProvider = ({children}) => {\r\n    const [authType, setAuthType] = useState(initialAuth());\r\n\r\n    const updateAuth = USER => {\r\n        setAuthType(USER);\r\n    }\r\n\r\n    return(\r\n        <AuthContext.Provider value={authType}>\r\n            <AuthUpdateContext.Provider value={updateAuth}>\r\n                {children}\r\n            </AuthUpdateContext.Provider>\r\n        </AuthContext.Provider>\r\n    );\r\n}\r\n\r\nexport default AuthProvider;","import { createBrowserHistory } from 'history';\r\n\r\nexport const history = createBrowserHistory();","import { emailNotFound } from './SharedModals';\r\nimport { userConstants } from '../_constants/user.constants'; \r\nimport { history } from '../_helpers/history';\r\n\r\nexport const getCategoryName = (id, categories) => {\r\n    const category = categories.find(category => {\r\n        return category._id === id;\r\n    });\r\n    \r\n    if(category === undefined) return \"Category Not Found\"\r\n    else return category.c_name;    \r\n}\r\n\r\n//Event handler that only allows numbers as input\r\nexport const onlyNumbers = (e, form, field, index, subfield) => {\r\n    const reg = /^[0-9]*$/;\r\n    const str = e.target.value;\r\n    let field_obj = {};\r\n\r\n    if(typeof index !== 'undefined'){\r\n        let arr = form.getFieldValue(field);\r\n        let sub_obj = arr[index];\r\n        \r\n        if (str === '' || reg.test(str)) sub_obj[subfield] = str;  \r\n        else sub_obj[subfield] = makeNumber(str);\r\n        field_obj[field] = arr;    \r\n    }\r\n\r\n    else{\r\n        if (str === '' || reg.test(str)) field_obj[field] = str;     \r\n        else field_obj[field] = makeNumber(str); \r\n    }\r\n    form.setFieldsValue(field_obj);\r\n}\r\n\r\n//Removes characters that are not numbers from a string\r\nexport const makeNumber = str => {\r\n    for(let i = 0; i < str.length; i++){\r\n        if(isNaN(str[i]) || str[i]===\" \"){\r\n            str = str.substring(0, i) + str.substring(i+1, str.length);\r\n            i--;\r\n        }\r\n    }\r\n    return str;\r\n}\r\n\r\n//filters orders by email for current and previous orders pages\r\nexport const filterEmail = (orders, c_email, setOrdersList) => {\r\n    const filteredOrders =  orders.filter(order => {\r\n        return order.c_email === c_email;\r\n    });\r\n\r\n    if(filteredOrders.length !== 0) setOrdersList(filteredOrders);\r\n    else emailNotFound();\r\n}\r\n\r\nexport const removeSpaces = (e, form, field) => {\r\n    const reg = /^[a-z0-9A-Z]+$/;\r\n    const str = e.target.value\r\n    let field_obj = {};\r\n\r\n    if (str === '' || reg.test(str))field_obj[field] = str;\r\n    else field_obj[field] = removeSpaceLogic(str);\r\n\r\n    form.setFieldsValue(field_obj);\r\n}\r\n\r\nexport const removeSpaceLogic = str => { \r\n    for(let i = 0; i < str.length; i++){\r\n        if(str[i]===\" \" || !/^[a-z0-9A-Z]+$/.test(str[i])){\r\n            str = str.substring(0, i) + str.substring(i+1, str.length);\r\n            i--;\r\n        }\r\n    }\r\n    return str;\r\n}\r\n\r\nexport const isWhiteSpace = s => {\r\n    for(let i = 0; i < s.length; i++) if(s[i] !== ' ') return false;\r\n    return true;\r\n}\r\n\r\nexport const validateEmail = email => {\r\n    const re = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n    return re.test(String(email).toLowerCase());\r\n}\r\n\r\nexport const checkPasswordStrength = password => {\r\n    const re = /^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9])(?=.*?[#?!@$%^&*-]).{8,}$/\r\n    return re.test(password);\r\n}\r\n\r\nexport const _logout = updateAuth => {\r\n    localStorage.setItem('SUPERFIN_USER', JSON.stringify({roles: [userConstants.ROLE_GUEST]}));\r\n    updateAuth({roles: [userConstants.ROLE_GUEST]});\r\n    history.push('/login');\r\n}\r\n\r\n\r\n","import { Modal } from 'antd';\r\n\r\nexport const emailNotFound = () => {\r\n    Modal.warning({\r\n        title: 'Email not found',\r\n        content: (\r\n            <div>\r\n                <p>Please check the spelling is correct</p>\r\n            </div>\r\n        ),\r\n        onOk() {},\r\n    });\r\n  }","//Product Action Types\r\nexport const GET_PRODUCTS = \"GET_PRODUCTS\";\r\nexport const GET_PRODUCT = \"GET_PRODUCT\";\r\nexport const DEFAULT_ORDER = \"DEFAULT_ORDER\";\r\nexport const LOADING_PRODUCTS = \"LOADING_PRODUCTS\";\r\nexport const DELETE_PRODUCT = \"DELETE_PRODUCT\";\r\nexport const EDIT_PRODUCT = \"EDIT_PRODUCT\"\r\nexport const ADD_PRODUCT = \"ADD_PRODUCT\";\r\nexport const ERROR = \"ERROR\";\r\nexport const SET_LOADING = \"SET_LOADING\";\r\n\r\n//Category Action Types\r\nexport const GET_CATEGORIES = \"GET_CATEGORIES\";\r\nexport const GET_SUB_CATEGORIES = \"GET_SUB_CATEGORIES\";\r\nexport const ERROR_CATEGORIES = \"ERROR_CATEGORIES\";\r\nexport const LOADING_CATEGORIES = \"LOADING_CATEGORIES\";\r\nexport const EMPTY_CATEGORIES = \"EMPTY_CATEGORIES\";\r\n\r\n//Company Info Action Types\r\nexport const GET_COMPANY_INFO = \"GET_COMPANY_INFO\";\r\nexport const SET_COMPANY_INFO = \"SET_COMPANY_INFO\";\r\nexport const LOADING_COMPANY_INFO = \"LOADING_COMPANY_INFO\";\r\n\r\n//Complete Orders Action Types \r\nexport const GET_COMPLETE_ORDERS = \"GET_COMPLETE_ORDERS\";\r\nexport const LOADING_COMPLETE_ORDERS = \"LOADING_COMPLETE_ORDERS\";\r\nexport const DELETE_COMPLETE_ORDER = \"DELETE_COMPLETE_ORDER\";\r\nexport const ERROR_COMPLETE_ORDERS = \"ERROR_COMPLETE_ORDERS\";\r\nexport const ADD_COMPLETE_ORDER = \"ADD_COMPLETE_ORDER\";\r\nexport const EDIT_COMPLETE_ORDER = \"EDIT_COMPLETE_ORDER\";\r\n\r\n//Incomplete Order Action Types\r\nexport const GET_INCOMPLETE_ORDERS = \"GET_INCOMPLETE_ORDERS\";\r\nexport const LOADING_INCOMPLETE_ORDERS = \"LOADING_INCOMPLETE_ORDERS\";\r\nexport const DELETE_INCOMPLETE_ORDERS = \"DELETE_INCOMPLETE_ORDERS\";\r\nexport const ERROR_INCOMPLETE_ORDERS = \"ERROR_INCOMPLETE_ORDERS\";\r\nexport const EDIT_INCOMPLETE_ORDERS = \"EDIT_INCOMPLETE_ORDERS\";\r\nexport const ADD_TRACKING = \"ADD_TRACKING\";\r\nexport const ADD_INCOMPLETE_ORDER = \"ADD_INCOMPLETE_ORDER\";\r\nexport const EDIT_INCOMPLETE_ORDER = \"EDIT_INCOMPLETE_ORDER\";\r\n\r\n","import axios from 'axios';\r\nimport { \r\n    GET_CATEGORIES, \r\n    GET_SUB_CATEGORIES, \r\n    LOADING_CATEGORIES, \r\n    ERROR_CATEGORIES, \r\n    EMPTY_CATEGORIES \r\n} from '../_constants/actionTypes.constants';\r\n\r\nexport const getAllCategories = () => dispatch => {\r\n    dispatch(setCategoriesLoading());\r\n    \r\n    axios.get('/api/categories/all-categories')\r\n    .then(res => {\r\n        if(res.data.length === 0){\r\n            dispatch({\r\n                type: EMPTY_CATEGORIES\r\n            });\r\n        }\r\n        else{\r\n            dispatch({\r\n                type: GET_CATEGORIES,\r\n                payload: res.data\r\n            });\r\n        }\r\n    })\r\n    .catch(err => {\r\n        console.log(err);\r\n        dispatch({\r\n            type: ERROR_CATEGORIES\r\n        });\r\n    })\r\n}\r\n\r\nexport const getAllChildren = (category_name) => dispatch => {\r\n    dispatch(setCategoriesLoading());\r\n    if (category_name.length !== 0 && category_name !== \"\") {\r\n        axios.get('/api/categories/all-children?c_name=' + encodeURI(category_name))\r\n        .then(res => {\r\n            if(res.data.length === 0){\r\n                dispatch({\r\n                    type: EMPTY_CATEGORIES\r\n                });\r\n            }\r\n            else{\r\n                dispatch({\r\n                    type: GET_SUB_CATEGORIES,\r\n                    payload: res.data\r\n                });\r\n            }\r\n        })\r\n        .catch(err => {\r\n            console.log(err);\r\n            dispatch({\r\n                type: ERROR_CATEGORIES\r\n            });\r\n        })\r\n    } else {\r\n        console.error(\"Category name must not be empty!\")\r\n    }\r\n    \r\n}\r\n\r\nexport const setCategoriesLoading = () => {\r\n    return {\r\n        type:LOADING_CATEGORIES,\r\n    }\r\n}\r\n\r\n","export default __webpack_public_path__ + \"static/media/new_logo.462ce060.jpg\";","import { Menu, Dropdown, Badge } from 'antd';\r\nimport { UserOutlined, ShoppingCartOutlined, MenuOutlined } from '@ant-design/icons';\r\nimport React, { useState, useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { useSelector, useDispatch  } from 'react-redux';\r\nimport { useAuthUpdate, useAuth } from '../AuthContext/AuthContext';\r\nimport { _logout } from '../../_services/SharedFunctions';\r\nimport { userConstants } from '../../_constants/user.constants';\r\nimport { getAllCategories } from '../../_actions/categoryActions';\r\nimport image from '../../_assets/Images/new_logo.jpg'\r\nimport { history } from '../../_helpers/history';\r\nimport axios from 'axios';\r\nimport { baseURL } from '../../_helpers/axiosBaseURL';\r\n\r\n\r\nconst { SubMenu } = Menu;\r\n\r\n\r\n\r\n\r\n\r\nexport default function Navbar(){\r\n    const dispatch = useDispatch();\r\n    const updateAuth = useAuthUpdate();             //authorization data\r\n    const auth = useAuth();\r\n\r\n    const [userDetails, setUserDetails] = useState({});             //stores users detials to access their name\r\n\r\n    const [parentCategoires, setParentCategories] = useState([]);         //categories in local state\r\n    const [childCategories, setChildCategories] = useState([]);\r\n\r\n    const categories = useSelector(state => state.categoryState.categories);           //categories in redux-store\r\n    const emptyCategories = useSelector(state => state.categoryState.empty);\r\n\r\n    // update the number of items for Cart(itemCount) icon\r\n    const itemCount = useSelector(state => state.cartState.items.length);\r\n    // check if the order is being processed\r\n    const isLoading = useSelector(state => state.cartState.loading);\r\n\r\n    useEffect(() => {                                                      \r\n        if(!categories.length && !emptyCategories) dispatch(getAllCategories());    //for populating categories\r\n        else{   \r\n            if(!parentCategoires.length){\r\n                const parents = categories.filter(c => {\r\n                    return c.path === null;\r\n                });\r\n                setParentCategories(parents);\r\n            }\r\n            if(!childCategories.length){\r\n                const children = categories.filter(c => {\r\n                    return c.path !== null;\r\n                });\r\n                setChildCategories(children);\r\n            }\r\n        }\r\n    }, [categories.length, dispatch, categories, childCategories.length, emptyCategories, parentCategoires.length]);\r\n\r\n    useEffect(() => {   //for populating the welcome name    \r\n        if(auth.roles[0] !== userConstants.ROLE_GUEST && JSON.stringify(userDetails) === '{}'){\r\n\r\n            const config = { headers:{ authorization : `Bearer ${auth.access_token}` }};\r\n            axios.defaults.baseURL = baseURL;\r\n\r\n            axios.get('api/user/', config)\r\n            .then(res => { setUserDetails(res.data) })\r\n            .catch(err => {\r\n                console.log(err);\r\n                if(err.response.status === 401) _logout(updateAuth);\r\n            });\r\n        } \r\n        else if(auth.roles[0] === userConstants.ROLE_GUEST && JSON.stringify(userDetails) !== '{}') setUserDetails({});   //very important condition\r\n    }, [auth, updateAuth, userDetails]);\r\n \r\n    const logout = () => {         \r\n        _logout(updateAuth);\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n    const customerMenu = (                  //menus to be conditionally rendered \r\n        <>\r\n        <Menu.Item>\r\n            <Link to=\"/myAccount\"> My Account </Link>\r\n        </Menu.Item>\r\n        <Menu.Item>\r\n            <Link to=\"/products\"> Browse Products </Link>\r\n        </Menu.Item>\r\n        <Menu.Item>\r\n            <Link to=\"/cart\"> View Cart </Link>\r\n        </Menu.Item>\r\n        <Menu.Item>\r\n            <Link to=\"/manageOrders\"> Manage Orders </Link>\r\n        </Menu.Item>\r\n        <Menu.Item>\r\n            <Link to=\"/editCustomer\"> Edit Profile </Link>\r\n        </Menu.Item>\r\n        </>\r\n    );\r\n\r\n\r\n    let accountSpecificMenu = <></>;\r\n    if(auth.roles[0] === userConstants.ROLE_CUSTOMER) accountSpecificMenu = customerMenu;\r\n\r\n    // Account Menu\r\n    const accountMenu = (\r\n        <Menu>\r\n            {accountSpecificMenu}\r\n            <Menu.Item onClick={logout}>Logout</Menu.Item>\r\n        </Menu>\r\n    );\r\n\r\n    const accountMenuMobile = (\r\n        <SubMenu \r\n            key=\"AccountMenuMobile\" \r\n            className=\"submenu-background\"  \r\n            icon={<UserOutlined />} \r\n            title={\"Welcome, \" + userDetails.first_name}\r\n        >\r\n            {accountSpecificMenu}\r\n            <Menu.Item onClick={logout}>Logout</Menu.Item>\r\n        </SubMenu>\r\n    );\r\n  \r\n    const categoriesMenu = parentCategoires.map(p => {                  //dynamic category drop down\r\n        const sub_categories = childCategories\r\n            .filter(c => { return c.path === `,${p.c_name},`})\r\n            .map(c => {\r\n                return <Menu.Item key={c._id}>{c.c_name}</Menu.Item>\r\n            });\r\n            return (\r\n                <SubMenu key={p._id} title={p.c_name}>{sub_categories}</SubMenu>\r\n            );\r\n    })\r\n\r\n    const ourProductsDropdown = ( //Our Products dropdown\r\n        <Menu>\r\n            <Menu.Item>\r\n                <Link to=\"/\">\r\n                    <b>Shop By Category</b>\r\n                </Link>\r\n            </Menu.Item>\r\n                {categoriesMenu}\r\n            <Menu.Item>\r\n            <Link to=\"/products\">\r\n                <b>{\"View all Products  >\"}</b>\r\n            </Link>\r\n            </Menu.Item>\r\n        </Menu>\r\n    );\r\n\r\n  const ourProductsSubmenuMobile = ( //Our Products Submenu\r\n        <SubMenu key=\"OurProductsSubmenu\" className=\"submenu-background\" title=\"Our Products\">\r\n            <Menu.Item>\r\n                <Link to=\"/products/categories\">\r\n                    <b>Shop By Category</b>\r\n                </Link>\r\n            </Menu.Item>\r\n            {categoriesMenu}\r\n            <Menu.Item>\r\n                <Link to=\"/products\">\r\n                    <b>{\"View all Products  >\"}</b>\r\n                </Link>\r\n            </Menu.Item>\r\n        </SubMenu>\r\n  );\r\n\r\n  //Login/Welcome, User menu item that changes based on whether user is logged in or not\r\n\r\n    let login = ( \r\n        <Menu.Item key = \"Login\" icon={<UserOutlined />}>\r\n            <Link to=\"/login\"> Login/Sign up </Link>\r\n        </Menu.Item>\r\n    );\r\n    let loginMobile = login;\r\n\r\n    if(auth.roles[0] === userConstants.ROLE_CUSTOMER){\r\n        login = (\r\n            <Menu.Item key = \"Welcome\"  icon={<UserOutlined />}>\r\n                <Dropdown overlay={accountMenu}>\r\n                    <span> Welcome, {userDetails.first_name} </span>\r\n                </Dropdown>\r\n            </Menu.Item>\r\n        );\r\n        loginMobile = (<>{accountMenuMobile}</>);\r\n    }\r\n    else if(auth.roles[0] ===userConstants.ROLE_ADMIN){\r\n        login = (\r\n            <Menu.Item onClick={logout} key = \"Welcome\"  icon={<UserOutlined />}>\r\n                <span> Logout </span>\r\n            </Menu.Item>\r\n        );\r\n        loginMobile = (<>{accountMenuMobile}</>);\r\n    }\r\n\r\n    const orderDropdown = (\r\n        <Menu>\r\n            <Menu.Item>\r\n                <Link to=\"/currentOrders\">Current Orders</Link>\r\n            </Menu.Item>\r\n\r\n            <Menu.Item>\r\n                <Link to=\"/order\">Add Order</Link>\r\n            </Menu.Item>\r\n\r\n            <Menu.Item>\r\n                <Link to=\"/processedOrders\">Processed Orders</Link>\r\n            </Menu.Item>\r\n        </Menu>\r\n    );\r\n\r\n    const productsDropdown = (\r\n        <Menu>\r\n            <Menu.Item>\r\n                <Link to=\"/manageProducts\">Manage Products</Link>\r\n            </Menu.Item>\r\n\r\n            <Menu.Item>\r\n                <Link to=\"/editAddProducts\">Add Product</Link>\r\n            </Menu.Item>\r\n        </Menu>\r\n    );\r\n\r\n    let mainMenu = (\r\n        <>\r\n            <Menu.Item key=\"Products\">\r\n                <Dropdown overlay={ourProductsDropdown}>\r\n                    <span>Our Products</span>\r\n                </Dropdown>\r\n            </Menu.Item >\r\n\r\n            <Menu.Item key=\"Delivery\">\r\n                <Link to=\"/deliveryDispatch\"> Delivery and Dispatch </Link>\r\n            </Menu.Item>\r\n\r\n            <Menu.Item key=\"Blog\">\r\n                <Link to=\"/blog\"> Blog </Link>\r\n            </Menu.Item>\r\n\r\n            <Menu.Item key=\"Cart\" \r\n                icon = {\r\n                    <Badge count={itemCount} showZero style={{backgroundColor: \"#EB6E00\"}} >\r\n                        <ShoppingCartOutlined />\r\n                    </Badge>          \r\n                }\r\n            >\r\n                <Link to=\"/cart\"> Cart </Link>\r\n            </Menu.Item>\r\n        </>\r\n    );\r\n\r\n    let mainMenuMobile = (\r\n        <SubMenu key=\"SubMenuMoreDetails\" icon={<MenuOutlined />} title=\"Menu\">\r\n            {ourProductsSubmenuMobile}\r\n\r\n            <Menu.Item key=\"Delivery\">\r\n                <Link to=\"/deliveryDispatch\"> Delivery and Dispatch </Link>\r\n            </Menu.Item>\r\n\r\n            <Menu.Item key=\"Blog\">\r\n                <Link to=\"/blog\"> Blog </Link>\r\n            </Menu.Item>\r\n        </SubMenu>\r\n    );\r\n\r\n    if(auth.roles[0] === userConstants.ROLE_ADMIN){\r\n        mainMenu = (\r\n            <>\r\n                <Menu.Item key=\"Orders\">\r\n                    <Dropdown overlay={orderDropdown}>\r\n                        <span>Orders</span>\r\n                    </Dropdown>\r\n                </Menu.Item>\r\n\r\n                <Menu.Item key=\"Products\">\r\n                    <Dropdown overlay={productsDropdown}>\r\n                        <span>Products</span>\r\n                    </Dropdown>\r\n                </Menu.Item>\r\n\r\n                <Menu.Item key=\"EditCustomer\">\r\n                    <Link to=\"/manageCategories\">Manage Product Categories</Link>\r\n                </Menu.Item>\r\n\r\n                <Menu.Item key=\"EditCompany\">\r\n                    <Link to=\"/editCompanyInformation\">Edit Company Information</Link>\r\n                </Menu.Item>\r\n            </>\r\n        );\r\n    }\r\n\r\n    let logoLink = '/';           //logo link for homepage navigation\r\n    if(auth.roles[0] === userConstants.ROLE_ADMIN) logoLink = '/admin';\r\n\r\n\r\n\r\n\r\n  \r\n    return (\r\n        <>\r\n            {\r\n                isLoading \r\n                ?\r\n                // don't allow the user to navigate if true\r\n                <Menu className=\"Navbar box-shadow\" mode=\"horizontal\" selectable={false}>\r\n                    <Menu.Item key=\"Logo\" id=\"Logo\" selectable=\"false\" disabled={true}>\r\n                        <img src={image} alt=\"Logo\" onClick={() => { history.push(logoLink)}}/>\r\n                    </Menu.Item>\r\n                </Menu>\r\n                :\r\n                <>\r\n                    <Menu className=\"Navbar box-shadow\" mode=\"horizontal\" selectable={false}>\r\n                        <Menu.Item key=\"Logo\" id=\"Logo\" selectable=\"false\">\r\n                            {\r\n                                auth.roles[0] === userConstants.ROLE_ADMIN\r\n                                ?\r\n                                <Link to=\"/admin\">\r\n                                    <img src={image} alt=\"Logo\" />\r\n                                </Link>\r\n                                :\r\n                                <Link to=\"/\">\r\n                                    <img src={image} alt=\"Logo\" />\r\n                                </Link>\r\n                            }\r\n                        </Menu.Item>\r\n\r\n                        {mainMenu}\r\n\r\n                        {login}\r\n                    </Menu>\r\n\r\n                    <Menu className=\"Navbar-Mobile\" mode=\"inline\" selectable={false} onClick={() => {history.push(logoLink)}}>\r\n                        <Menu.Item key=\"Logo\" id=\"Logo\">\r\n                            {\r\n                                auth.roles[0] === userConstants.ROLE_ADMIN\r\n                                ?\r\n                                <Link to=\"/admin\">\r\n                                    <img src={image} alt=\"Logo\" />\r\n                                </Link>\r\n                                :\r\n                                <Link to=\"/\">\r\n                                    <img src={image} alt=\"Logo\" />\r\n                                </Link>\r\n                            }\r\n                        </Menu.Item>\r\n\r\n                        {mainMenuMobile}\r\n\r\n                        <Menu.Item key=\"Cart\" icon = {<ShoppingCartOutlined/>}>\r\n                            <Link to=\"/cart\"> Cart </Link>\r\n                        </Menu.Item>\r\n\r\n                        {loginMobile}\r\n                    </Menu>\r\n                </>\r\n            }\r\n        </>\r\n    );\r\n}\r\n","export const baseURL = \"http://localhost:5000\";             //need to change this later","export const layout = {\r\n    labelCol: {\r\n      span: 8\r\n    },\r\n    wrapperCol: {\r\n      span: 14\r\n    }\r\n};\r\n\r\nexport const actionButtonsLayout = {\r\n    wrapperCol: {\r\n        span: 22\r\n    }\r\n};","import { Form, Input, Button } from 'antd';\r\nimport { history } from '../../_helpers/history';\r\nimport {useState} from 'react';\r\nimport { useAuthUpdate } from '../../SharedComponents/AuthContext/AuthContext';\r\nimport axios from 'axios';\r\nimport { useForm } from 'antd/lib/form/Form';\r\nimport { layout, actionButtonsLayout } from './layouts'; \r\nimport { isWhiteSpace, validateEmail } from '../../_services/SharedFunctions';\r\nimport { userConstants } from '../../_constants/user.constants';\r\n\r\n\r\nconst Login = () => {\r\n    const [loading, setLoading] = useState(false);\r\n    const [form] = useForm();\r\n    const updateAuth = useAuthUpdate();\r\n\r\n\r\n    const login = (_, password) => {\r\n        const email = form.getFieldValue('email');\r\n\r\n        if(!password || isWhiteSpace(password) || !validateEmail(email)) return Promise.resolve();\r\n\r\n        setLoading(true);\r\n\r\n        const user = {\r\n            email: email.toLowerCase(),\r\n            password: password\r\n        }\r\n        \r\n        return axios.post('api/auth/sign_in', user)\r\n        .then(res => {\r\n            setLoading(false);\r\n            localStorage.setItem('SUPERFIN_USER', JSON.stringify(res.data));\r\n            updateAuth(res.data);\r\n            if(res.data.roles[0] === userConstants.ROLE_ADMIN) history.push('/admin');\r\n            else history.push('/');\r\n        })\r\n        .catch(err => {\r\n            console.log(err);\r\n            setLoading(false);\r\n            return Promise.reject(new Error('Could not find email or password our system!'));\r\n        });\r\n    }\r\n\r\n\r\n    \r\n\r\n    return(\r\n        <div>\r\n            <div className=\"page-title-holder with-divider center-page\">\r\n                <h1>Login</h1>\r\n            </div>\r\n        \r\n            <Form\r\n                {...layout}\r\n                name=\"authentication-form\"\r\n                form={form}\r\n            >\r\n                 <Form.Item\r\n                        label=\"Email\"\r\n                        name=\"email\"\r\n                        rules={[\r\n                            {   \r\n                                type: 'email',\r\n                                required: true,\r\n                                message: 'Please input valid email!',\r\n                                whitespace: true,\r\n                                validateTrigger: \"onSubmit\"\r\n                            },\r\n                        ]}\r\n                    >\r\n                        <Input maxLength={100}/>\r\n                    </Form.Item>\r\n\r\n                    <Form.Item\r\n                        label=\"Password\"\r\n                        name=\"password\"\r\n                        rules={[\r\n                            {\r\n                                required: true,\r\n                                message: 'Please input your password!',\r\n                                whitespace: true\r\n                            },\r\n                        \r\n                            {\r\n                                validator: login,\r\n                                validateTrigger: \"onSubmit\"\r\n                            }\r\n                        ]}\r\n                    >\r\n                        <Input.Password maxLength={100}/>\r\n                    </Form.Item >\r\n\r\n                <Form.Item {...actionButtonsLayout}>\r\n                    <span style={{cursor: 'pointer', color: '#EB6E00', marginRight: '17px'}} onClick={() => {history.push('/emailRequest')}}>Forgot Password ?</span>\r\n                </Form.Item>\r\n\r\n                <Form.Item {...actionButtonsLayout} >\r\n                    <Button style={{marginRight: '17px'}} loading={loading} type=\"primary\" htmlType=\"submit\">Login</Button>\r\n                </Form.Item>\r\n\r\n                <Form.Item {...actionButtonsLayout}>\r\n                    <span>Don't have an account yet ? &nbsp; <Button type=\"link\" >Create an Account</Button></span>\r\n                </Form.Item>\r\n            </Form>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Login;\r\n","export default __webpack_public_path__ + \"static/media/No_Image.04e9798e.jpg\";","import '../../_assets/CSS/pages/Homepage/Category.css';\r\nimport altImage from \"../../_assets/Images/No_Image.jpg\"\r\n\r\nconst Category = props => {\r\n    const category  = props;\r\n    const onClick = props.onClick;\r\n    const img = props.image;\r\n\r\n    return (\r\n        <div className=\"Category-Container\" onClick={() => {onClick(props.c_name)}}>\r\n            <img className = \"Category-Image-Text\"\r\n                src={img}\r\n                alt={altImage}\r\n            />\r\n            <b className = \"Category-Image-Text\">{category.c_name}</b>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Category;","import { \r\n    GET_PRODUCTS, \r\n    GET_PRODUCT, \r\n    DEFAULT_ORDER, \r\n    LOADING_PRODUCTS,\r\n    DELETE_PRODUCT, \r\n    ERROR, \r\n    EDIT_PRODUCT, \r\n    ADD_PRODUCT,\r\n    SET_LOADING,\r\n} from '../_constants/actionTypes.constants';\r\nimport axios from 'axios';\r\nimport { _logout } from '../_services/SharedFunctions';\r\n\r\n/*\r\nconst config = {\r\n    headers: {\r\n        'content-type': 'multipart/form-data'\r\n    }\r\n}*/\r\n\r\nexport const getAllProducts = () => dispatch  => {\r\n    dispatch(setIsLoading(true));\r\n\r\n    axios.get('api/products/all-product')\r\n    .then(res => {\r\n        dispatch({\r\n            type: GET_PRODUCTS,\r\n            payload: res.data.products\r\n        })\r\n    })\r\n    .catch(() => {\r\n        dispatch(setIsLoading(false));\r\n        dispatch({\r\n            type: ERROR\r\n        })\r\n    });\r\n};\r\n\r\nexport const getProductDetails = p_code => dispatch => {\r\n    dispatch(setLoadingProductDetails(true));\r\n    axios.post('api/products/product-by-id', {\r\n        p_code: p_code\r\n    }).then(res => {\r\n        dispatch({\r\n            type: GET_PRODUCT,\r\n            payload: res.data\r\n        })\r\n    })\r\n    .catch(() => {\r\n        dispatch(setLoadingProductDetails(false));\r\n        dispatch({\r\n            type: ERROR\r\n        })\r\n    });\r\n};\r\n\r\nexport const setLoadingProductDetails = () => {\r\n    return {type: SET_LOADING}\r\n}\r\n\r\nexport const setDefaultOrder = () => {\r\n    return {\r\n        type: DEFAULT_ORDER\r\n    }\r\n}\r\n\r\nexport const deleteProduct = (p_code, access_token, updateAuth) => dispatch => {\r\n    const config = { headers:{ authorization : `Bearer ${access_token}` }};\r\n    return axios.post('api/products/delete-product', {\r\n        p_code: p_code\r\n    }, config)\r\n    .then(res => {\r\n        if(res.data.succes){                            //This may need to be changed to 'success'\r\n            dispatch({\r\n                type: DELETE_PRODUCT,\r\n                payload: p_code\r\n            })\r\n        }\r\n    })\r\n    .catch(err => {\r\n        console.log(err);\r\n        if(err.response.status === 401) _logout(updateAuth);\r\n    });\r\n}\r\n\r\nexport const editProduct = (newProduct, formData, access_token) => dispatch => {\r\n    const config = { headers:{ authorization : `Bearer ${access_token}` }};\r\n    return axios.post('api/products/edit-product', formData, config)\r\n        .then(res => {\r\n            if(res.data.success){\r\n                dispatch({\r\n                    type: EDIT_PRODUCT,\r\n                    payload: newProduct\r\n                })\r\n            }\r\n            return res;\r\n        })\r\n}\r\n\r\nexport const addProduct = (formData, newProduct, access_token) => dispatch => {\r\n    const config = { headers:{ authorization : `Bearer ${access_token}` }};\r\n    \r\n    return axios.post('api/products/add-product', formData, config)\r\n        .then(res => {\r\n            if(res.data.success){\r\n                dispatch({\r\n                    type: ADD_PRODUCT,\r\n                    payload: newProduct\r\n                })\r\n            }\r\n            return res;\r\n        });\r\n}\r\n\r\nexport const setIsLoading = val => {\r\n    return {\r\n        type: LOADING_PRODUCTS,\r\n        payload: val\r\n    }\r\n}\r\n","import '../../_assets/CSS/pages/Homepage/CategoryList.css';\r\n\r\nimport Category from './Category';\r\nimport { getAllCategories } from '../../_actions/categoryActions';\r\nimport { getAllProducts, setDefaultOrder } from '../../_actions/productActions';\r\nimport { useState, useEffect } from \"react\";\r\nimport { Pagination, Spin, Button } from 'antd';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport noImage from '../../_assets/Images/No_Image.jpg';\r\n\r\nconst itemsPerPage = 6;\r\n\r\nconst CategoryList = () => {\r\n    const dispatch = useDispatch();\r\n\r\n    const categories = useSelector(state => state.categoryState.categories);\r\n    const loading = useSelector(state => state.categoryState.loading);\r\n    const error = useSelector(state => state.categoryState.error);\r\n    const emptyCategories = useSelector(state => state.categoryState.empty);\r\n    const productsList = useSelector(state => state.productState.products);\r\n   \r\n\r\n    const [page, setPage] = useState(0);\r\n    const [currentCategories, setCurrentCategories] = useState([]);\r\n    const [isChild, setIsChild] = useState(false);\r\n    const [parentCategoires, setParentCategories] = useState([]);\r\n    const [childCategories, setChildCategories] = useState([]);\r\n\r\n   /* const maxNumberOfPages = (Math.ceil(categories.length/itemsPerPage) - 1);\r\n    \r\n    const renderableArray = categories.slice( page * itemsPerPage,\r\n        ((page + 1) * itemsPerPage) > categories.length ? categories.length : ((page + 1) * itemsPerPage));\r\n\r\n    const rederableCats = renderableArray.map((c, i) => {\r\n        return <div key={i}><Category {...c}/></div>\r\n    });*/\r\n\r\n\r\n\r\n\r\n    \r\n    const changeCategoryType = c_name => {\r\n        if(!isChild){\r\n            setIsChild(true);\r\n            const childrenOfParent = childCategories.filter(c => {\r\n                return c.path === `,${c_name},`\r\n            });\r\n            setCurrentCategories(childrenOfParent);\r\n            setPage(0);\r\n        }\r\n        else{\r\n           //navigate\r\n        }\r\n    }\r\n\r\n    const getCategoryImage = c_id => {\r\n        let id = c_id;\r\n        if(!isChild){\r\n            const cat = categories.find(c => { return c._id === id });\r\n            const child = categories.find(c => { return c.path === `,${cat.c_name},` });\r\n            if(child === undefined) return noImage;\r\n            id = child._id;\r\n        }\r\n\r\n        const product = productsList.find(p => { return p.p_categories === id });\r\n        if(product !== undefined) return product.p_image_uri[0];\r\n        else return noImage;\r\n    }\r\n\r\n    const goBack = () => {\r\n        setIsChild(false);\r\n        setCurrentCategories(parentCategoires);\r\n        setPage(0);\r\n    }\r\n\r\n     useEffect(() => {    \r\n        if(!productsList.length) dispatch(getAllProducts());      \r\n        else dispatch(setDefaultOrder());\r\n\r\n        if(!categories.length && !emptyCategories){\r\n            dispatch(getAllCategories());\r\n        } \r\n        else if(!parentCategoires.length && !childCategories.length){\r\n            \r\n            const parents = categories.filter(c => {\r\n                return c.path === null;\r\n            });\r\n            setParentCategories(parents);\r\n            setCurrentCategories(parents);\r\n\r\n            const children = categories.filter(c => {\r\n                return c.path !== null;\r\n            });\r\n            setChildCategories(children);\r\n        }\r\n    }, [categories.length, dispatch, categories, childCategories, emptyCategories, parentCategoires.length, productsList.length]);\r\n\r\n    const onChange = p => { setPage(p - 1) };\r\n\r\n\r\n\r\n\r\n    \r\n    const maxNumberOfPages = (Math.ceil(currentCategories.length/itemsPerPage) - 1);\r\n    \r\n    const renderableArray = currentCategories.slice( page * itemsPerPage,\r\n        ((page + 1) * itemsPerPage) > currentCategories.length ? currentCategories.length : ((page + 1) * itemsPerPage));\r\n\r\n        \r\n    const rederableCats = renderableArray.map((c, i) => {\r\n        const img = getCategoryImage(c._id.toString());\r\n        return <div key={i}><Category {...c} onClick={changeCategoryType} image={img}/></div>\r\n    });\r\n\r\n\r\n\r\n\r\n\r\n    return (\r\n        <>\r\n            {\r\n                error \r\n                ?   <h1 style = {{textAlign: 'center', color: 'red'}}>Could not load data, please try refreshing page</h1> \r\n                :   <></>\r\n            }\r\n            {\r\n                isChild ? <Button onClick={goBack}>Go back</Button> : <></>\r\n            }\r\n            {\r\n                loading \r\n                ?   <Spin size='large'/> \r\n                :   <>\r\n                        <div className=\"Category-List-Container\">{rederableCats}</div>\r\n                        <Pagination current={page + 1} defaultCurrent={1} total={(maxNumberOfPages + 1) * 10} onChange = {onChange}/>\r\n                    </>  \r\n            }  \r\n        </>\r\n    );\r\n};\r\n\r\nexport default CategoryList;\r\n","export default __webpack_public_path__ + \"static/media/Image_1.b0b95258.png\";","export default __webpack_public_path__ + \"static/media/Image_2.b47bd8c8.png\";","export default __webpack_public_path__ + \"static/media/Image_3.e8c817bf.png\";","import { Carousel, Button } from 'antd';\r\nimport image_1 from '../../_assets/Images/HomepageImages/Image_1.png';\r\nimport image_2 from '../../_assets/Images/HomepageImages/Image_2.png';\r\nimport image_3 from '../../_assets/Images/HomepageImages/Image_3.png';\r\nimport altImage from '../../_assets/Images/No_Image.jpg';\r\nimport '../../_assets/CSS/pages/Homepage/HomepageCarousel.css';\r\n\r\nexport const HomepageCarousel = () => {\r\n    return(\r\n        <div style = {{ position:'relative'}}>\r\n                <Button className=\"homepage-carousel-button\">SHOP NOW</Button>\r\n\r\n                <Carousel autoplay>\r\n                    <div>\r\n                        <div className=\"homepage-carousel-background\">\r\n                            <u className=\"homepage-carousel-text\">Environmentally Sustainable Packaging</u>\r\n                            <img src = {image_1} className=\"homepage-carousel-image\" alt = {altImage}/>\r\n                        </div>\r\n                    </div>\r\n                    <div>\r\n                        <div className=\"homepage-carousel-background\">\r\n                            <u className=\"homepage-carousel-text\">Great Customer Satisfaction</u>\r\n                            <img src = {image_2} className=\"homepage-carousel-image\" alt = {altImage}/>\r\n                        </div>\r\n                    </div>\r\n                    <div>\r\n                        <div className=\"homepage-carousel-background\">\r\n                            <u className=\"homepage-carousel-text\">Customizable Products</u>\r\n                            <img src = {image_3} className=\"homepage-carousel-image\" alt = {altImage}/>\r\n                        </div>\r\n                    </div>\r\n                </Carousel>\r\n            </div>\r\n    );\r\n} ","export const orderStatusConstants = {\r\n    NEW: \"NEW\",\r\n    SHIPPED: \"SHIPPED\",\r\n    COMPLETE: \"COMPLETE\"\r\n};","import { history } from '../../_helpers/history';\r\n\r\nexport const navigateEditOrder = (po_number, status) => {\r\n    history.push(`/order/${po_number}/${status}`);\r\n    window.scrollTo(0, 0);\r\n}\r\n\r\nexport const navigateAddOrder = () => {\r\n    history.push('/order');\r\n    window.scrollTo(0, 0);\r\n}\r\n\r\nexport const navigateFullList = complete => {\r\n    let location = '/currentOrders';\r\n    if(complete) location = '/processedOrders';\r\n    \r\n    history.push(location);\r\n    window.scrollTo(0, 0);\r\n}","import {\r\n    GET_INCOMPLETE_ORDERS,\r\n    LOADING_INCOMPLETE_ORDERS, \r\n    ERROR_INCOMPLETE_ORDERS, \r\n    DELETE_INCOMPLETE_ORDERS, \r\n    ADD_TRACKING,\r\n    ADD_INCOMPLETE_ORDER\r\n} from '../_constants/actionTypes.constants';\r\nimport axios from 'axios';\r\nimport { _logout } from '../_services/SharedFunctions';\r\n\r\nexport const getIncompleteOrders = (token, updateAuth) => dispatch => {\r\n    dispatch(setIncompleteOrdersLoading(true));\r\n\r\n    const config = { headers:{ authorization : `Bearer ${token}` }};\r\n\r\n    axios.get('api/orders/all-uncomplete', config)\r\n    .then(res => {\r\n        dispatch({\r\n            type: GET_INCOMPLETE_ORDERS,\r\n            payload: res.data\r\n        });\r\n    })\r\n    .catch(err => {\r\n        console.log(err);\r\n        if(err.response.status === 401) _logout(updateAuth);\r\n        dispatch({\r\n            type: ERROR_INCOMPLETE_ORDERS,\r\n        });\r\n    })\r\n}\r\n\r\nexport const setIncompleteOrdersLoading = val => {\r\n    return {\r\n        type: LOADING_INCOMPLETE_ORDERS,\r\n        payload: val\r\n    }\r\n}\r\n\r\nexport const deleteIncompleteOrder = (po_number, token) => dispatch => {\r\n    const config = { headers:{ authorization : `Bearer ${token}` }};\r\n\r\n    return axios.post('api/orders/delete-order', {po_number: po_number}, config)\r\n    .then(res => {\r\n        if(res.data.success){\r\n            dispatch({\r\n                type: DELETE_INCOMPLETE_ORDERS,\r\n                payload: po_number\r\n            });\r\n            return res;\r\n        }\r\n        else{\r\n            console.log(res);\r\n            return res;\r\n        } \r\n    });\r\n}\r\n\r\nexport const addTracking = (trackingDetails, token) => dispatch => {\r\n    const config = { headers:{ authorization : `Bearer ${token}` }};\r\n\r\n    return axios.post('api/orders/add-tracking', trackingDetails, config)\r\n    .then(res => {\r\n        if(res.data.success){\r\n            dispatch({\r\n                type: ADD_TRACKING,\r\n                payload: trackingDetails\r\n            });\r\n            return res;\r\n        }\r\n        else {\r\n            console.log(res);\r\n            return res;\r\n        }\r\n    });\r\n}\r\n\r\nexport const addIncompleteOrder = order => dispatch => {\r\n\r\n    return axios.post('/api/orders/create-order', order)\r\n    .then(res => {\r\n        if(res.data.success){\r\n            order.po_number = res.data.po_number;\r\n            dispatch({\r\n                type: ADD_INCOMPLETE_ORDER,\r\n                payload: order\r\n            })\r\n        }\r\n        else console.log(res);\r\n        return res;\r\n    });\r\n}\r\n\r\n\r\n","import { \r\n    GET_COMPLETE_ORDERS, \r\n    LOADING_COMPLETE_ORDERS, \r\n    ERROR_COMPLETE_ORDERS, \r\n    DELETE_COMPLETE_ORDER, \r\n    ADD_COMPLETE_ORDER \r\n} from '../_constants/actionTypes.constants';\r\nimport axios from 'axios';\r\nimport { _logout } from '../_services/SharedFunctions';\r\n\r\n\r\nexport const getCompleteOrders = (token, updateAuth) => dispatch => {\r\n    dispatch(setCompleteOrdersLoading(true));\r\n    \r\n    const config = { headers:{ authorization : `Bearer ${token}` }};\r\n\r\n    return axios.get('api/orders/all-complete', config)\r\n    .then(res => {\r\n        dispatch({\r\n            type: GET_COMPLETE_ORDERS,\r\n            payload: res.data\r\n        });\r\n    })\r\n    .catch(err => {\r\n        console.log(err);\r\n        if(err.response.status === 401) _logout(updateAuth);\r\n        dispatch({\r\n            type: ERROR_COMPLETE_ORDERS,\r\n        });\r\n    })\r\n}\r\n\r\nexport const setCompleteOrdersLoading = val => {\r\n    return {\r\n        type: LOADING_COMPLETE_ORDERS,\r\n        payload: val\r\n    }\r\n}\r\n\r\nexport const deleteCompleteOrder = (po_number, token) => dispatch => {\r\n    const config = { headers:{ authorization : `Bearer ${token}` }};\r\n\r\n    return axios.post('api/orders/delete-order', {po_number: po_number}, config)\r\n    .then(res => {\r\n        if(res.data.success){\r\n            dispatch({\r\n                type: DELETE_COMPLETE_ORDER,\r\n                payload: po_number\r\n            });\r\n            return res;\r\n        }\r\n        else{\r\n            console.log(res);\r\n            return res;\r\n        } \r\n    });\r\n}\r\n\r\nexport const addCompleteOrder = order => dispatch => {\r\n    return axios.post('/api/orders/create-order', order)\r\n    .then(res => {\r\n        if(res.data.success){\r\n            order.po_number = res.data.po_number;\r\n            dispatch({\r\n                type: ADD_COMPLETE_ORDER,\r\n                payload: order\r\n            })\r\n        }\r\n        else console.log(res);\r\n        return res;\r\n        \r\n    })\r\n    .catch(err => {\r\n        console.log(err);\r\n        return err;\r\n    });\r\n}\r\n \r\n","import { Modal } from 'antd';\r\nimport { deleteProduct } from '../../_actions/productActions';\r\nimport { deleteIncompleteOrder } from '../../_actions/incompleteOrderActions'; \r\nimport { deleteCompleteOrder } from '../../_actions/completeOrderActions'; \r\nimport { orderStatusConstants } from '../../_constants/orderStatus.constants';\r\nimport { _logout } from '../../_services/SharedFunctions'; \r\n//All shared modals\r\n\r\nexport const deleteConfirm = (p_code, dispatch, access_token, updateAuth) => {\r\n    Modal.confirm({\r\n        title: `Deleting product: ${p_code}`,\r\n        content: 'Are you sure you wish to delete this product?',\r\n        okText: 'Delete',\r\n        okType: 'danger',\r\n        onOk() {\r\n            dispatch(deleteProduct(p_code, access_token, updateAuth));\r\n        }\r\n    });\r\n}\r\n\r\nconst deleteOrderSuccess = po_number => { \r\n    Modal.info({\r\n        title: 'Success',\r\n        content: `Deleted order: ${po_number}`,\r\n        okText: 'Ok',\r\n    });\r\n}\r\n\r\nconst deleteOrderFail = po_number => {\r\n    Modal.info({\r\n        title: 'Error',\r\n        content: `Failed to delete product: ${po_number}. Please reload the page and try again or contact support.`,\r\n        okText: 'Ok',\r\n    });\r\n}\r\n\r\nexport const deleteOrderConfirm = (po_number, status, access_token, updateAuth, dispatch) => {\r\n    Modal.confirm({\r\n        title: `Deleting order: ${po_number}`,\r\n        content: 'Are you sure you wish to delete this order?',\r\n        okText: 'Delete',\r\n        okType: 'danger',\r\n        onOk() {\r\n            if(status===orderStatusConstants.COMPLETE){\r\n                return dispatch(deleteCompleteOrder(po_number, access_token, updateAuth))\r\n                .then(res => {\r\n                    if(res.data.success) deleteOrderSuccess(po_number);\r\n                    else deleteOrderFail(po_number);\r\n                })\r\n                .catch((err) => {\r\n                    console.log(err);\r\n                    if(err.response.status === 401) _logout(updateAuth);\r\n                    else deleteOrderFail(po_number);\r\n                });\r\n            }\r\n            else{\r\n                return dispatch(deleteIncompleteOrder(po_number, access_token, updateAuth))\r\n                .then(res => {\r\n                    if(res.data.success) deleteOrderSuccess(po_number);\r\n                    else deleteOrderFail(po_number);\r\n                })\r\n                .catch((err) => {\r\n                    console.log();\r\n                    if(err.response.status === 401) _logout(updateAuth);\r\n                    else deleteOrderFail(po_number);\r\n                });\r\n            } \r\n        }\r\n    });\r\n} \r\n\r\n","import { Modal } from 'antd';\r\nimport { addTracking } from '../../_actions/incompleteOrderActions';\r\nimport { _logout } from '../../_services/SharedFunctions';\r\n\r\nconst sumbitTrackingFailed = po_number => {\r\n    Modal.info({\r\n        title: `Error`,\r\n        content: `Order: ${po_number} tracking information could not be submitted. Please try reloading the page or contact support.`,\r\n        okText: 'Ok',\r\n    });\r\n}\r\n\r\nconst sumbitTrackingSuccess = po_number => {\r\n    Modal.info({\r\n        title: `Success`,\r\n        content: `Order: ${po_number} tracking information was submitted`,\r\n        okText: 'Ok',\r\n    });\r\n}\r\n\r\nexport const confirmSubmitTracking = (tracking, dispatch, token, updateAuth) => {\r\n\r\n    Modal.confirm({\r\n        title: `Are you sure you want to submit the following details for order: ${tracking.po_number}`,\r\n        content: `Tracking Number: ${tracking.tracking_number}, Carrier: ${tracking.carrier}?`,\r\n        okText: 'Submit',\r\n        onOk() {\r\n            return dispatch(addTracking(tracking, token, updateAuth))\r\n            .then(res => {\r\n                if(res.data.success) sumbitTrackingSuccess(tracking.po_number);\r\n                else sumbitTrackingFailed(tracking.po_number);\r\n            })\r\n            .catch((err) => {\r\n                console.log(err);\r\n                if(err.response.status === 401) _logout(updateAuth);\r\n                else sumbitTrackingFailed(tracking.po_number);\r\n            });\r\n        }\r\n    });\r\n}","import React from \"react\";\r\nimport '../../_assets/CSS/pages/HomepageAdmin/HomepageAdminOrder.css';\r\nimport { orderStatusConstants } from '../../_constants/orderStatus.constants';\r\nimport { EditOutlined, DeleteOutlined } from '@ant-design/icons';\r\nimport { Button, Input, Form } from 'antd';\r\nimport { navigateEditOrder } from './Functions';\r\nimport { deleteOrderConfirm } from '../../SharedComponents/Modals/Modals';\r\nimport { confirmSubmitTracking } from './Modals';\r\nimport { useForm } from \"antd/lib/form/Form\";\r\n\r\n\r\n\r\n\r\nconst HomepageAdminOrder = props => {\r\n    const order = props.order;\r\n    const dispatch = props.dispatch;\r\n    const access_token = props.access_token;\r\n    const updateAuth = props.updateAuth;\r\n\r\n    const [form] = useForm();\r\n\r\n    const date = new Date(order.issued_date);\r\n    const dateString = `${date.getDate()}/${date.getMonth() + 1}/${date.getFullYear()}`;\r\n  \r\n    const onFinishOrder = () => {\r\n        form.validateFields()\r\n        .then(values => {\r\n            values.po_number = order.po_number;\r\n            confirmSubmitTracking(values, dispatch, access_token, updateAuth);\r\n        });  \r\n    }\r\n\r\n    const onFinishFailedOrder = err => {\r\n        console.log(err);\r\n    }\r\n\r\n    let trackingNumberDiv =  <div>\r\n                                <Form\r\n                                form={form}\r\n                                name=\"submit-tracking-form\"\r\n                                onFinish={onFinishOrder}\r\n                                onFinishFailed={onFinishFailedOrder}\r\n                                >\r\n                                    <div className=\"Homepage-Admin-Order-Text\"><b>Enter Tracking Number</b></div>\r\n\r\n                                    <div className=\"Homepage-Admin-Order-Text\" style = {{paddingTop:\"15px\"}}>\r\n                                        <Form.Item\r\n                                            name=\"tracking_number\"\r\n                                            rules={[\r\n                                              {\r\n                                                required: true,\r\n                                                message: 'Please input the tracking number',\r\n                                                whitespace: true,\r\n                                              }\r\n                                            ]}\r\n                                        >\r\n                                            <Input maxLength='40' placeholder=\"Enter tracking number here\" style = {{width:\"300px\"}}/>\r\n                                        </Form.Item> \r\n                                    </div>\r\n\r\n                                    <div className=\"Homepage-Admin-Order-Text\"><b>Enter Carrier</b></div>\r\n\r\n                                    <div className=\"Homepage-Admin-Order-Text\" style = {{paddingTop:\"15px\"}}>\r\n                                        <Form.Item\r\n                                             name=\"carrier\"\r\n                                             rules={[\r\n                                               {\r\n                                                 required: true,\r\n                                                 message: 'Please input the carrier name',\r\n                                                 whitespace: true\r\n                                               }\r\n                                             ]}\r\n                                        >\r\n                                            <Input maxLength='40' placeholder=\"Enter carrier name here\" style = {{width:\"300px\"}}/>\r\n                                        </Form.Item>   \r\n                                    </div>\r\n                                    \r\n                                    <div className=\"Homepage-Admin-Order-Text\"> \r\n                                        <Form.Item>\r\n                                            <Button  type=\"primary\" htmlType=\"submit\">Submit</Button>\r\n                                        </Form.Item>\r\n                                    </div>\r\n                                </Form>\r\n                            </div>\r\n\r\n\r\n    //if the order is complete it will contain the tracking number \r\n    if(order.status === orderStatusConstants.COMPLETE || order.status === orderStatusConstants.SHIPPED){\r\n        trackingNumberDiv = <div>\r\n                                <div>\r\n                                    <div className=\"Homepage-Admin-Order-Text\">Tracking Number: {order.tracking_number}</div>    \r\n                                </div>\r\n                                <div>\r\n                                    <div className=\"Homepage-Admin-Order-Text\">Carrier: {order.carrier}</div>    \r\n                                </div>\r\n                            </div>\r\n        \r\n        \r\n    }\r\n\r\n\r\n\r\n\r\n    \r\n    return (\r\n        <div id=\"homepage-admin-order-container\">\r\n            \r\n            <div className=\"Homepage-Admin-Order-Text\">Order Number: {order.po_number}</div>\r\n            <div className=\"Homepage-Admin-Order-Text\">Status: {order.status}</div>\r\n            <div className=\"Homepage-Admin-Order-Text\">CustomerID: {order.c_email}</div>\r\n            <div className=\"Homepage-Admin-Order-Text\">Date Issued: { dateString }</div>\r\n                {trackingNumberDiv}\r\n            <div id=\"homepage-admin-order-icon-container\">\r\n                <DeleteOutlined className=\"homepage-admin-order-icon\" onClick={() => { deleteOrderConfirm(order.po_number, order.status, access_token, updateAuth, dispatch) }}/>\r\n                <EditOutlined className=\"homepage-admin-order-icon\" onClick={() => { navigateEditOrder(order.po_number, order.status)}}/>\r\n            </div>  \r\n        </div>\r\n    );\r\n};\r\n\r\nexport default HomepageAdminOrder;","import HomepageAdminOrder from './HomepageAdminOrder';\r\nimport '../../_assets/CSS/pages/HomepageAdmin/HomepageAdminOrderList.css';\r\nimport { Spin } from 'antd';\r\n\r\n\r\n\r\n\r\n\r\nconst HomepageAdminOrderList = props => {\r\n    const orders = props.orders;\r\n    const loading = props.loadingOrders;\r\n    const error = props.errorLoadingOrders;\r\n    const dispatch = props.dispatch;\r\n    const access_token = props.access_token;\r\n    const updateAuth = props.updateAuth;\r\n\r\n\r\n\r\n    let renderableOrders = [];\r\n    if(orders.length !== 0){\r\n        renderableOrders = orders.map(o => {\r\n            const orderProps = {\r\n                order: o,\r\n                dispatch: dispatch,\r\n                updateAuth: updateAuth,\r\n                access_token: access_token\r\n            }\r\n            return <div key={o._id}>< HomepageAdminOrder {...orderProps}/></div>\r\n        }); \r\n    }\r\n    \r\n    return (\r\n      <div>\r\n        {loading ? <div style = {{textAlign: 'center'}}> <Spin size=\"large\"/> </div> : <></>}\r\n        \r\n        {error ? <h1 style = {{textAlign: 'center', color: 'red'}}>Could not load data, please try refreshing page</h1> : <></>}\r\n        \r\n        <div id=\"homepage-admin-orderlist-container\">\r\n           {renderableOrders} \r\n        </div>\r\n      </div>\r\n  );\r\n};\r\n\r\nexport default HomepageAdminOrderList;","import React from \"react\";\r\nimport '../../_assets/CSS/pages/HomepageAdmin/ProductAdmin.css';\r\nimport altImage from \"../../_assets/Images/No_Image.jpg\"\r\nimport { EditOutlined, DeleteOutlined } from '@ant-design/icons';\r\nimport { deleteConfirm } from '../../SharedComponents/Modals/Modals';\r\nimport { history } from '../../_helpers/history';\r\n\r\n\r\n\r\n\r\n\r\nconst Product = props => {\r\n    const dispatch = props.dispatch;\r\n    const product = props.product;\r\n    const categoryName = props.categoryName;\r\n\r\n\r\n    \r\n    const viewCategory = () => {\r\n        console.log(\"View product info for \" + product.name);\r\n        //This will link to product info page\r\n    } \r\n\r\n\r\n\r\n\r\n    \r\n    return (\r\n        <div id=\"admin-product-container\">\r\n            <img id=\"admin-product-image\"\r\n                src= {product.p_image_uri[0]}\r\n                alt={altImage}\r\n                onClick={viewCategory}\r\n                style={{height: '310px', width:'310px'}}\r\n            />\r\n        \r\n            <table id=\"admin-product-text-container\" className=\"center-content\">\r\n                <tbody>\r\n                    <tr>\r\n                        <td>Product Code: {product.p_code}</td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td>Product Name: {product.p_name}</td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td>Unit Price: ${product.p_price}</td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td>Category: { categoryName }</td>\r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n\r\n            <div id=\"admin-product-icon-container\">\r\n                <DeleteOutlined onClick={() => {deleteConfirm(product.p_code, dispatch, props.access_token, props.updateAuth)}} className=\"admin-product-icon\"/>\r\n                <EditOutlined onClick={() => { history.push(`/editAddProducts/${product.p_code}`)}} className=\"admin-product-icon\"/>\r\n            </div>  \r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Product;","import '../../_assets/CSS/pages/HomepageAdmin/ProductListAdmin.css';\r\nimport ProductAdmin from './ProductAdmin';\r\nimport { getAllCategories } from '../../_actions/categoryActions';\r\n\r\nimport { useSelector  } from 'react-redux';\r\nimport { useEffect } from 'react'; \r\nimport { Spin } from 'antd';\r\nimport { getCategoryName } from '../../_services/SharedFunctions';\r\n\r\nconst ProductList = props => {\r\n    const categories = useSelector(state => state.categoryState.categories);\r\n    const dispatch = props.dispatch;\r\n    \r\n    useEffect(() => {             \r\n        if(!categories.length) dispatch(getAllCategories());\r\n    }, [categories.length, dispatch]);\r\n\r\n    let rederableProducts;\r\n    \r\n    \r\n    if(!props.productsList.length) rederableProducts = [];\r\n    else{\r\n        rederableProducts = props.productsList.map(p => {\r\n            const productProps = {\r\n                product: p,\r\n                dispatch: props.dispatch,\r\n                categoryName: getCategoryName(p.p_categories, categories),\r\n                updateAuth: props.updateAuth,\r\n                access_token: props.access_token\r\n            }\r\n            return <div key={p._id}><ProductAdmin {...productProps}/></div>\r\n        });\r\n    }\r\n    \r\n    return (\r\n        <div>  \r\n            {props.errorLoading ? <h1 style = {{textAlign: 'center', color: 'red'}}>Could not load data, please try refreshing page</h1> : <></>}\r\n            {props.loading ? <div style={{textAlign: 'center'}}><Spin size=\"large\"/></div> : <></>}\r\n\r\n            <div id=\"admin-product-list-container\">\r\n                {rederableProducts}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ProductList;","import '../../_assets/CSS/pages/HomepageAdmin/HomepageAdmin.css';\r\nimport HomepageAdminOrderList from './HomepageAdminOrderList';\r\nimport ProductListAdmin from './ProductListAdmin';\r\nimport { getAllProducts, setDefaultOrder } from '../../_actions/productActions';\r\nimport { getCompleteOrders } from '../../_actions/completeOrderActions';\r\nimport { getIncompleteOrders } from '../../_actions/incompleteOrderActions'; \r\nimport { history } from '../../_helpers/history';\r\nimport { navigateAddOrder, navigateFullList } from './Functions';\r\nimport { useAuthUpdate, useAuth } from '../../SharedComponents/AuthContext/AuthContext';\r\nimport { Button, Radio } from 'antd';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { useState , useEffect } from 'react';\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nconst HomepageAdmin = () => {\r\n    const dispatch = useDispatch();\r\n    const updateAuth = useAuthUpdate();             //authorization data\r\n    const auth = useAuth();\r\n\r\n    const [radioState, setRadioState] = useState(false);            //false is 'Current Orders'\r\n\r\n    const productsList = useSelector(state => state.productState.products);\r\n    const errorLoading = useSelector(state => state.productState.error);\r\n    const loading = useSelector(state => state.productState.isLoading);\r\n\r\n    const completeOrders = useSelector(state => state.completeOrdersState.completeOrders);\r\n    const errorLoadingCompleteOrders = useSelector(state => state.completeOrdersState.error);\r\n    const loadingCompleteOrders = useSelector(state => state.completeOrdersState.loading);\r\n\r\n    const incompleteOrders = useSelector(state => state.incompleteOrdersState.incompleteOrders);\r\n    const errorLoadingIncompleteOrders = useSelector(state => state.incompleteOrdersState.error);\r\n    const loadingIncompleteOrders = useSelector(state => state.incompleteOrdersState.loading);\r\n\r\n    const productListProps = {\r\n        dispatch: dispatch,\r\n        productsList: productsList,\r\n        errorLoading: errorLoading,\r\n        loading:loading,\r\n        updateAuth: updateAuth,\r\n        access_token: auth.access_token\r\n    }\r\n\r\n    let orders = [];\r\n    let errorLoadingOrders = false;\r\n    let loadingOrders = false;\r\n\r\n    if(radioState){\r\n        orders = completeOrders\r\n        errorLoadingOrders = errorLoadingCompleteOrders;\r\n        loadingOrders = loadingCompleteOrders;\r\n    }\r\n    else{\r\n        orders = incompleteOrders;\r\n        errorLoadingOrders = errorLoadingIncompleteOrders;\r\n        loadingOrders = loadingIncompleteOrders;\r\n    }\r\n\r\n    const ordersListProps = {\r\n        dispatch: dispatch,\r\n        orders: orders,\r\n        errorLoadingOrders: errorLoadingOrders,\r\n        loadingOrders: loadingOrders,\r\n        updateAuth: updateAuth,\r\n        access_token: auth.access_token\r\n    }\r\n\r\n\r\n\r\n\r\n    useEffect(() => {                                                           //checks if the store is empty. If so, do an API request. If data is already there, set it to default ordering\r\n        if(!productsList.length) dispatch(getAllProducts());      \r\n        else dispatch(setDefaultOrder());\r\n\r\n        if(!completeOrders.length && radioState) dispatch(getCompleteOrders(auth.access_token, updateAuth));\r\n\r\n        if(!incompleteOrders.length && !radioState) dispatch(getIncompleteOrders(auth.access_token, updateAuth));\r\n\r\n    }, [productsList.length, completeOrders.length, incompleteOrders.length, radioState, dispatch, auth.access_token, updateAuth]);\r\n    \r\n    const radioToggle = () => {\r\n        radioState ? setRadioState(false) : setRadioState(true);\r\n    }\r\n\r\n\r\n\r\n\r\n   \r\n   \r\n\r\n\r\n\r\n\r\n    return(\r\n        <>\r\n            <div id=\"homepage-admin-header\">Admin Station</div>\r\n\r\n            <div style  = {{height:\"20px\"}}></div>\r\n\r\n            <div style = {{textAlign: \"center\"}}>\r\n                <div className=\"Homepage-Admin-Products-Orders-Plus\" onClick = {() => {history.push('/editAddProducts')}}>Product +</div>\r\n            </div>\r\n\r\n            <div id=\"homepage-admin-number-of-products-container\">\r\n                <div id=\"homepage-admin-number-of-products\">Total Products: {productsList.length}</div>\r\n            </div>\r\n\r\n            <div className=\"Homepage-Admin-Scrollbox-Container\">\r\n                <div className=\"Homepage-Admin-Scrollbox\">\r\n                    <ProductListAdmin {...productListProps}/>\r\n                </div>\r\n            </div>\r\n\r\n            <div style  = {{height:\"50px\"}}></div>\r\n        \r\n            <Button id=\"homepage-admin-button-1\" type=\"primary\" onClick={() => {\r\n                history.push('manageProducts');\r\n            }}>View Full List</Button>\r\n\r\n            <div style  = {{height:\"50px\"}}></div>\r\n\r\n\r\n\r\n\r\n           \r\n            <div style = {{textAlign: \"center\"}}>\r\n                <div className=\"Homepage-Admin-Products-Orders-Plus\" onClick = {navigateAddOrder}>Orders +</div>\r\n            </div>\r\n\r\n            <div style  = {{height:\"20px\"}}></div>\r\n\r\n            <div id=\"homepage-admin-radiobuttons-container\">\r\n                <div id=\"homepage-admin-radiobutton-1\">\r\n                    <Radio className=\"Homepage-Admin-Radiobuttons\" checked = {!radioState}  onChange={radioToggle}> Current Orders </Radio>\r\n                </div>\r\n                <div id = \"homepage-admin-radiobutton-2\">\r\n                    <Radio className=\"Homepage-Admin-Radiobuttons\" checked = {radioState} onChange = {radioToggle}> Previous Orders </Radio>\r\n                </div>\r\n            </div>\r\n\r\n            <div style  = {{height:\"20px\"}}></div>\r\n           \r\n             <div>\r\n                <div className=\"Homepage-Admin-Scrollbox-Container\">\r\n                    <div className=\"Homepage-Admin-Scrollbox\" style = {{height:\"500px\"}}>\r\n                        {<HomepageAdminOrderList {...ordersListProps}/>} \r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <div style  = {{height:\"50px\"}}></div>\r\n\r\n            <Button id=\"homepage-admin-button-1\" type=\"primary\" onClick={() => {navigateFullList(radioState)}}>View Full List</Button>\r\n\r\n            <div style = {{height: \"50px\"}}></div> \r\n            \r\n        </>\r\n    );\r\n}\r\n\r\nexport default HomepageAdmin;","export const layout = {\r\n    labelCol: { span: 8 },\r\n    wrapperCol: { span: 16 },\r\n};\r\n\r\nexport const tailLayout = {\r\n    wrapperCol: { offset: 8, span: 16 },\r\n};","import '../../_assets/CSS/pages/EditCustomer/EditCustomer.css';\r\n\r\nimport { layout, tailLayout } from './FormLayout';\r\nimport { onlyNumbers } from '../../_services/SharedFunctions';\r\n\r\nimport { Input, Form, Button } from 'antd';\r\nimport { useForm } from 'antd/lib/form/Form';\r\n\r\n\r\n\r\n\r\n\r\nconst EditCustomer = () => {\r\n    const [form] = useForm();\r\n\r\n\r\n\r\n    \r\n\r\n    const onFinish = values => {\r\n        console.log(values);\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n    return(\r\n        <div>\r\n            <div id=\"edit-customer-header\">Edit Customer Details</div>\r\n\r\n            <div style={{paddingLeft: '10%', paddingBottom: '2%'}}>\r\n                <Input.Search placeholder=\"Look Up Customer Email\" allowClear enterButton style = {{width:'300px'}}/>\r\n            </div>\r\n\r\n            <div style={{textAlign: 'center', paddingBottom: '2%'}}>\r\n                <h2>Customer Information</h2>\r\n            </div>\r\n\r\n            <div style={{fontWeight: 'bold'}}>\r\n                <Form \r\n                    {...layout}\r\n                    form={form}\r\n                    onFinish={onFinish}\r\n                >\r\n                    <Form.Item\r\n                        label=\"First Name\"\r\n                        name=\"first_name\"\r\n                        rules={[\r\n                            {\r\n                                whitespace: true,\r\n                                required: true, \r\n                                message: 'Please input customers first name!' \r\n                            }\r\n                        ]}\r\n                    >\r\n                        <Input style={{width: '500px'}}/>\r\n                    </Form.Item>\r\n\r\n                    <Form.Item\r\n                        label=\"Last Name\"\r\n                        name=\"last_name\"\r\n                        rules={[\r\n                            {\r\n                                whitespace: true,\r\n                                required: true, \r\n                                message: 'Please input customers last name!' \r\n                            }\r\n                        ]}\r\n                    >\r\n                        <Input style={{width: '500px'}}/>\r\n                    </Form.Item>\r\n\r\n                    <Form.Item\r\n                        label=\"Mobile Number\"\r\n                        name=\"mobile_number\"\r\n                        rules={[\r\n                            {\r\n                                whitespace: true,\r\n                                required: true, \r\n                                message: 'Please input customers mobile number' \r\n                            }\r\n                        ]}\r\n                    >\r\n                        <Input onChange={e => {onlyNumbers(e, form, 'mobile_number')}} style={{width: '500px'}}/>\r\n                    </Form.Item>\r\n\r\n                    <Form.Item {...tailLayout}>\r\n                        <Button type=\"primary\" htmlType=\"submit\"> Set Customer Informaion</Button>\r\n                    </Form.Item>\r\n                </Form>\r\n            </div>\r\n            \r\n        </div>\r\n    );\r\n}\r\n\r\nexport default EditCustomer;","/*\r\n  Author: Trang Nguyen\r\n  Notes: This file contains utility functions,\r\n    such as the function to round a number to two decimal points\r\n    and format it as a price (e.g. A$100.00)\r\n*/\r\n\r\n// function to format a prices\r\nexport const formatNumber = ( amount ) => {\r\n    if(!amount) amount = 0.0\r\n\r\n    // round to two decimal points\r\n    amount = Math.round((amount + Number.EPSILON) * 100) / 100;\r\n\r\n    const numberFormat = new Intl.NumberFormat('en-US', {\r\n      style: 'currency',\r\n      currency: 'AUD',\r\n      currencyDisplay: 'symbol',\r\n    });\r\n\r\n    return numberFormat.format(amount);\r\n  };","import { Card } from 'antd';\r\nimport { history } from '../../_helpers/history';\r\nimport { formatNumber } from '../../_helpers/utils';\r\nimport placeholderImg from '../../_assets/Images/No_Image.jpg'\r\nconst { Meta } = Card;\r\n\r\nconst Product = props => {\r\n    const productDetails = props.productDetails;\r\n    var descriptionWithPrice = null;\r\n\r\n    if (productDetails.p_description === null ||\r\n            (productDetails.p_description !== null &&\r\n            productDetails.p_description.trim().length === 0 &&\r\n            productDetails.p_description.length === 0)) {\r\n\r\n        descriptionWithPrice = <>\r\n            <span>\r\n                <strong>{formatNumber(productDetails.p_price)}</strong>\r\n            </span>\r\n            <p>&zwnj;</p>\r\n        </>;\r\n\r\n    } else {\r\n        descriptionWithPrice = <>\r\n            <span>\r\n                <strong>{formatNumber(productDetails.p_price)}</strong>\r\n            </span>\r\n            <p>{productDetails.p_description}</p>\r\n        </>;\r\n    }\r\n    \r\n    return (\r\n        <Card className=\"card-shadow-hoverable\"\r\n            tabIndex={0}\r\n            cover={\r\n                <img className=\"cover-img fixed-size\" \r\n                    style={{ cursor: 'pointer' }} \r\n                    alt={(productDetails.p_name === null || (productDetails.p_name !== null && productDetails.p_name.length === 0)) ? \"image for paper bag\" : productDetails.p_name}\r\n                    src={(productDetails.p_image_uri[0] === null || (productDetails.p_image_uri[0] !== null && productDetails.p_image_uri[0].length === 0)) ? placeholderImg : productDetails.p_image_uri[0]}\r\n                    onClick={() => { \r\n                        history.push(`productDetails?p_code=${productDetails.p_code}&price_id=${productDetails.p_price_id}`) \r\n                    }}\r\n                />\r\n            }>\r\n            <Meta\r\n                title={\r\n                    <span\r\n                        id=\"view-product-title\"\r\n                        onClick={() => {\r\n                            history.push(`productDetails?p_code=${productDetails.p_code}`)\r\n                        }}>\r\n                        {productDetails.p_name}\r\n                    </span>\r\n                }\r\n                description={descriptionWithPrice}\r\n            />\r\n        </Card>\r\n    );\r\n};\r\n\r\nexport default Product;\r\n","import Product from './Product';\r\nimport { List } from 'antd';\r\n\r\nconst ProductsList = props => {\r\n    const productDetails = props.productDetails;\r\n\r\n    return (\r\n        <>\r\n            <List className=\"container\"\r\n                grid={{\r\n                    gutter: 6, xs: 1, sm: 2, md: 2, lg: 3, xl: 4, xxl: 5\r\n                }}\r\n                pagination={{\r\n                    showSizeChanger: true,\r\n                    position: 'both',\r\n                }}\r\n                dataSource={Object.values(productDetails)}\r\n                renderItem={item => {\r\n                  return(\r\n                    <List.Item>                        \r\n                        <Product key={item} productDetails={item} />\r\n                    </List.Item>\r\n                )}}\r\n            />\r\n        </>\r\n    );\r\n};\r\n\r\nexport default ProductsList;\r\n","const addSubCategories = (parents, categoriesList) => {\r\n    if (categoriesList == null) {\r\n        console.error(\"Sorry, categories list is null!\")\r\n    } else {\r\n        parents.forEach(parent => {\r\n            parent.title = parent.c_name;\r\n            parent.key = parent._id;\r\n            parent.value = parent._id;\r\n            parent.children = [];\r\n            var childrenList = null;\r\n            childrenList = categoriesList.filter(category => category.path.includes(parent.c_name)); // Filter the children out of the list\r\n            childrenList.forEach(child => {\r\n                categoriesList.splice(categoriesList.indexOf(child), 1); // Remove the children from the categories list\r\n                parent.children.push(child);\r\n            });\r\n            addSubCategories(parent.children, parent.children);\r\n        });\r\n    }\r\n}\r\n\r\nexport const getCategoriesHierarchy = (categories, insideAllCategories) => {\r\n    var copyOfCategories = categories.map(x => x);\r\n    const rootParents = copyOfCategories.filter(category => category.path == null);\r\n    rootParents.forEach(parent => { copyOfCategories.splice(copyOfCategories.indexOf(parent), 1); });\r\n    addSubCategories(rootParents, copyOfCategories);\r\n    return (insideAllCategories ? ([{\r\n        title: 'All Categories',\r\n        value: 'allCategories',\r\n        children: rootParents\r\n    }]) : rootParents);\r\n}","import { Spin, Select, TreeSelect} from 'antd';\r\nimport { SortDescendingOutlined, SortAscendingOutlined, FallOutlined, RiseOutlined } from '@ant-design/icons';\r\nimport { useState, useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport ProductsList from './ProductsList';\r\nimport { getAllCategories } from '../../_actions/categoryActions';\r\nimport { getAllProducts } from '../../_actions/productActions';\r\nimport { getCategoriesHierarchy } from '../../SharedComponents/Categories/CategoriesFunctions';\r\nconst { Option } = Select;\r\n// const { TreeNode } = TreeSelect;\r\n\r\nconst Products = () => {\r\n    const dispatch = useDispatch();\r\n\r\n    const categories = useSelector(state => state.categoryState.categories);\r\n    const loadingCategory = useSelector(state => state.categoryState.loading);\r\n    const errorCategory = useSelector(state => state.categoryState.error);\r\n    const products = useSelector(state => state.productState.products);\r\n    const loadingProduct = useSelector(state => state.productState.loading);\r\n    const errorProduct = useSelector(state => state.productState.error);\r\n\r\n    const [filteredAndSorted, setFilterAndSorted] = useState(products);\r\n    const [filter, setFilter] = useState(\"allCategories\");\r\n    const [sorted, setSorted] = useState(\"priceAsc\");\r\n\r\n    const loading = (loadingCategory || loadingProduct) ? true : false; // If either are loading, set loading to true, if not, set to false\r\n    const error = (errorCategory || errorProduct) ? true : false; // If either are errorneous, set error to true, if not, set to false\r\n\r\n    // function to generate the logic for sorting according to user input\r\n    const sortProduct = (product, productToCompare, sortValue) => {\r\n        switch (sortValue) {\r\n            case \"priceAsc\":\r\n                return (product.p_price < productToCompare.p_price ? -1 : 1);\r\n            case \"priceDesc\":\r\n                return (product.p_price < productToCompare.p_price ? 1 : -1);\r\n            case \"alphaDesc\":\r\n                return (product.p_name.toLowerCase() < productToCompare.p_name.toLowerCase() ? 1 : -1);\r\n            case \"alphaAsc\":\r\n                return (product.p_name.toLowerCase() < productToCompare.p_name.toLowerCase() ? -1 : 1);\r\n            default:\r\n                return 0;\r\n        }\r\n    }\r\n\r\n    const filterAndSortProduct = () => {\r\n        // if (filter !== 0 && sorted !== 0) {\r\n        const filteredSortedProducts = products\r\n            .filter(e => { \r\n                return (filter === \"allCategories\") ? \r\n                    true : e.p_categories === filter; \r\n            })\r\n            .sort((a, b) => { \r\n                return sortProduct(a, b, sorted); \r\n            });\r\n        setFilterAndSorted(filteredSortedProducts);\r\n    };\r\n\r\n    // For preloading data\r\n    useEffect(() => {\r\n        // if (!categories) \r\n            dispatch(getAllCategories());\r\n        // if (!products) \r\n            dispatch(getAllProducts());\r\n    }, []);\r\n\r\n    // filter and sort product if product list changes\r\n    useEffect(() => {\r\n        filterAndSortProduct();\r\n    }, [products]);\r\n\r\n    return (\r\n      <>\r\n        <div className=\"page-title-holder fill\">\r\n            <h2>Our product range</h2>\r\n        </div>\r\n            { error ? <div class=\"container\"><h1 style={{ textAlign: 'center', color: 'red' }}>Could not load data, please try refreshing page!</h1></div> :\r\n                (loading ? <Spin size='large' /> : <>\r\n                    <div className=\"container flex-horizontal-box-container\">\r\n                        <TreeSelect \r\n                          className=\"box-item-xs-6 box-item-sm-4 box-item-md-4 box-item-lg-4 box-item-xl-3\" \r\n                          treeData={getCategoriesHierarchy(categories, true)} \r\n                          placeholder=\"Filter Category\" \r\n                          defaultValue=\"allCategories\" \r\n                          treeDefaultExpandAll \r\n                          onChange={e => {\r\n                            setFilter(e); \r\n                            filterAndSortProduct()\r\n                          }}\r\n                        />\r\n\r\n                        <Select \r\n                            className=\"box-item-xs-6 box-item-sm-4 box-item-md-4 box-item-lg-4 box-item-xl-3\" \r\n                            defaultValue=\"priceAsc\" \r\n                            onSelect={e => {\r\n                                setSorted(e);\r\n                                filterAndSortProduct()\r\n                            }}\r\n                        >\r\n                            <Option value=\"noSort\" disabled><SortAscendingOutlined />Sort By</Option>\r\n                            <Option value=\"alphaAsc\"><SortAscendingOutlined />Sort By: Alphabetically Ascending</Option>\r\n                            <Option value=\"alphaDesc\"><SortDescendingOutlined />AscendingSort By: Alphabetically Descending</Option>\r\n                            <Option value=\"priceAsc\"><RiseOutlined />Sort By: Price Ascending</Option>\r\n                            <Option value=\"priceDesc\"><FallOutlined />Sort By: Price Descending</Option>\r\n                        </Select>\r\n                    </div>\r\n                    <ProductsList key={filteredAndSorted} productDetails={filteredAndSorted} />\r\n                </>)}\r\n      </>\r\n    );\r\n\r\n}\r\n\r\nexport default Products;","import { Carousel } from 'antd';\r\nimport placeholderImg from '../../_assets/Images/No_Image.jpg';\r\n\r\nconst ProductImagesCarousel = props => {\r\n    const productDetails = props.productDetails;\r\n    \r\n    const contentCarousel = () => {\r\n        var returnVal = [];\r\n        if (productDetails && productDetails.p_image_uri && productDetails.p_image_uri.length > 0){\r\n            productDetails.p_image_uri.forEach(uri => {\r\n                returnVal.push(<div>\r\n                    <img src={uri} alt={productDetails.p_code}/>\r\n                </div>)\r\n            });\r\n        } else {\r\n            returnVal.push(\r\n                <div>\r\n                    <img src={placeholderImg} \r\n                        alt={`Product Number: ${productDetails.p_code}`} \r\n                    />\r\n                </div>\r\n            )\r\n        }\r\n        return returnVal;\r\n    }\r\n    return (\r\n        <div className=\"product-details-images\">\r\n            <Carousel dotPosition=\"bottom\">\r\n                {contentCarousel()}\r\n            </Carousel>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ProductImagesCarousel;\r\n","export const ADD_TO_CART = 'ADD_TO_CART';\r\nexport const CLEAR_CART = 'CLEAR_CART';\r\nexport const REMOVE_ITEMS = 'REMOVE_ITEMS';\r\nexport const INCREASE_QUANTITY = 'INCREASE_QUANTITY';\r\nexport const DECREASE_QUANTITY = 'DECREASE_QUANTITY';\r\nexport const SET_SHIPPING_INFO = 'SET_SHIPPING_INFO';\r\nexport const SET_LOADING = 'SET_LOADING';\r\nexport const SET_ERROR = 'SET_ERROR';\r\nexport const LOAD_STRIPE = 'LOAD_STRIPE';\r\nexport const UPDATE_ITEM_INFO = 'UPDATE_ITEM_INFO';","import { \r\n  ADD_TO_CART, SET_LOADING, SET_ERROR, LOAD_STRIPE,\r\n  SET_SHIPPING_INFO, INCREASE_QUANTITY, DECREASE_QUANTITY,\r\n  CLEAR_CART, REMOVE_ITEMS, UPDATE_ITEM_INFO,\r\n} \r\n  from '../_constants/cart.constants'\r\n\r\n// add item to cart action\r\nexport const addToCart = (product, quantity, special_requirements, p_size) => {\r\n  return {\r\n    type: ADD_TO_CART,\r\n    product,\r\n    quantity,\r\n    special_requirements,\r\n    p_size,\r\n  }\r\n}\r\n\r\nexport const setShipping  = (address, email) => {\r\n  return {\r\n    type: SET_SHIPPING_INFO,\r\n    address,\r\n    email,\r\n  }\r\n}\r\n\r\nexport const increaseQuantity = (index) => {\r\n  return {\r\n    type: INCREASE_QUANTITY,\r\n    index,\r\n  }\r\n}\r\n\r\nexport const decreaseQuantity = (index) => {\r\n  return {\r\n    type: DECREASE_QUANTITY,\r\n    index,\r\n  }\r\n}\r\n\r\nexport const removeItems = (invalid_pcodes) => {\r\n  return {\r\n    type: REMOVE_ITEMS,\r\n    invalid_pcodes,\r\n  }\r\n}\r\n\r\nexport const clearCart = () => {\r\n  return {\r\n    type: CLEAR_CART,\r\n  }\r\n}\r\n\r\nexport const updateItemInfo = (items = []) => {\r\n  return {\r\n    type: UPDATE_ITEM_INFO,\r\n    items,\r\n  }\r\n}\r\n\r\nexport const setLoading  = (loading) => {\r\n  return {\r\n    type: SET_LOADING,\r\n    loading,\r\n  }\r\n}\r\n\r\nexport const setError  = (error) => {\r\n  return {\r\n    type: SET_ERROR,\r\n    error,\r\n  }\r\n}\r\n\r\nexport const loadStripeAction = (stripe) => {\r\n  return {\r\n    type: LOAD_STRIPE,\r\n    stripe: stripe,\r\n  }\r\n}","import { Select, Input, Button } from 'antd';\r\nimport { ShoppingOutlined } from '@ant-design/icons';\r\nimport { useDispatch, connect } from 'react-redux';\r\nimport React, {useEffect, useState} from 'react';\r\nimport {addToCart} from '../../_actions/cartActions'\r\nimport { formatNumber } from '../../_helpers/utils';\r\n\r\n// quantity can be upto 10\r\nconst quantityOptions = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10];\r\n\r\nconst ProductMainTitle = props => {\r\n    const { Option } = Select;\r\n    const { TextArea } = Input;\r\n    const productDetails = props.productDetails;\r\n    \r\n    // line items' variables\r\n    const [quantity, setQuantity] = useState((!productDetails) ? 0 : 1);\r\n    const [specialRequirements, setSpecialRequirements] = useState(\"\");\r\n    const [productSize, setProductSize] = useState(\r\n        (!productDetails) ? \"Not Available\" : productDetails.p_size[0]\r\n    );\r\n\r\n    // form event callbacks\r\n    const onQuantityChange = (value) => {\r\n        setQuantity(value);\r\n    }\r\n\r\n    const onRequirementChange = e => {\r\n        setSpecialRequirements(e.target.value);\r\n    }\r\n\r\n    const onSizeChange = (value) => {\r\n        setProductSize(value);\r\n    }\r\n\r\n    const addToCart = (product, quantity, specialRequirements, productSize) => {\r\n        // update cart state\r\n        props.addToCart(product, quantity, specialRequirements, productSize);\r\n    }\r\n\r\n    // dynamic component generators\r\n    const selectionGenerator = (options, onChangeCallback, setDefault) => (\r\n        (!options) ?\r\n        <Select value=\"Not Available\"\r\n            id=\"sizeSelectionComponent\"\r\n            disabled\r\n        >\r\n            <Option value=\"Not Available\">Not Available</Option>\r\n        </Select> :\r\n        <>\r\n            <Select defaultValue={options[0]}\r\n                id=\"sizeSelectionComponent\"\r\n                onChange={onChangeCallback}\r\n            >\r\n                {\r\n                    options.map(element => {\r\n                        return <Option value={element}>{element}</Option>;\r\n                    })\r\n                }\r\n            </Select>\r\n        </>\r\n    );\r\n\r\n    useEffect(() => {\r\n        // get only user input values\r\n        const items = props.items.map(i => {\r\n            return {\r\n                item_code: i.item_code,\r\n                p_size: i.p_size,\r\n                quantity: i.quantity,\r\n                special_requirements: i.special_requirements,\r\n            }\r\n        });\r\n\r\n        // store cart state to local storage\r\n        localStorage.setItem(\"items\", JSON.stringify(items));\r\n\r\n    }, [props.total, props.items]);\r\n\r\n    return (\r\n        <div className=\"product-details-main-title\">\r\n            <h3 id=\"product-name\">{productDetails && productDetails.p_name}</h3>\r\n            <div id=\"product-price\">\r\n                <strong>Price: {formatNumber(productDetails.p_price)} </strong>\r\n                <br/>\r\n                <strong>Unit per Item: {productDetails.p_unit} </strong>\r\n            </div>\r\n            <div id=\"quantity-selection\">\r\n                <label htmlFor=\"quantitySelectionComponent\">Quantity: </label>\r\n                {\r\n                    selectionGenerator(\r\n                        ((!productDetails.p_code)? null : quantityOptions),\r\n                        onQuantityChange\r\n                    )\r\n                }\r\n            </div>\r\n            <div id=\"size-selection\">\r\n                <label htmlFor=\"sizeSelectionComponent\">Size: </label>\r\n                {\r\n                    selectionGenerator(productDetails.p_size, onSizeChange)\r\n                }\r\n            </div>\r\n            <div id=\"special-requirements\">\r\n                <label htmlFor=\"specialRequirementsField\">Special Requirements:</label>\r\n                <TextArea\r\n                    id=\"specialRequirementsField\"\r\n                    placeholder=\"Please specify any special requirement\r\n                    (e.g: Red Bag with a Rooster Icon on the front).\r\n                    (Max length: 100)\"\r\n                    maxLength={100}\r\n                    rows={3}\r\n                    showCount\r\n                    onChange={onRequirementChange}\r\n                />\r\n            </div>\r\n            <br/>\r\n            <Button type=\"primary\" icon={<ShoppingOutlined />}\r\n                onClick={()=>\r\n                    {\r\n                        addToCart(productDetails, quantity, specialRequirements, productSize)\r\n                    }}\r\n            >\r\n                Add to Cart\r\n            </Button>\r\n        </div>\r\n    );\r\n};\r\n\r\nconst mapStateToProps = (state)=>{\r\n    return{\r\n      items: state.cartState.items,\r\n      total: state.cartState.total,\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps= (dispatch)=>{\r\n    return{\r\n      addToCart:\r\n        (product, quantity, specialRequirements, productSize) => {\r\n            dispatch(addToCart(product, quantity, specialRequirements, productSize))\r\n        }\r\n    }\r\n}\r\n\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(ProductMainTitle);\r\n","import { Button } from 'antd';\r\nimport { history } from '../../_helpers/history';\r\n\r\nconst ProductDescription = props => {\r\n    const productDetails = props.productDetails;\r\n\r\n    return (\r\n        <div className=\"product-details-description\">\r\n            <h4>Description</h4>\r\n            <p id=\"description-content\">\r\n                {productDetails && productDetails.p_description ?\r\n                    productDetails.p_description :\r\n                    <em>Sorry, no description is available for this product!</em>}\r\n            </p>\r\n            <span id=\"product-code\">\r\n                <em>Product Code: {productDetails && productDetails.p_code}</em>\r\n            </span>\r\n            <span id=\"enquire-span\">\r\n                <Button type=\"primary\"\r\n                    onClick={() => { history.push('ContactUs') }}>\r\n                    Inquire\r\n                </Button> Click here for more information on how to send us your product enquiry.\r\n            </span>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ProductDescription;\r\n","import { useState, useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { getProductDetails, setLoadingProductDetails } from '../../_actions/productActions';\r\nimport ProductImagesCarousel from './ProductImagesCarousel';\r\nimport ProductMainTitle from './ProductMainTitle';\r\nimport ProductDescription from './ProductDescription';\r\nimport { Spin } from 'antd';\r\n\r\nconst ProductDetails = props => {\r\n    // current product detail state\r\n    const dispatch = useDispatch();\r\n\r\n    const productDetails = useSelector(state => state.productDetailsState.product);\r\n    const isLoading = useSelector(state => state.productDetailsState.isLoading);\r\n    const error = useSelector(state => state.productDetailsState.error);\r\n    \r\n    // Function for retrieving product code from URL params\r\n    const getProductCode = () => {\r\n        // get the query string (e.g. ?p_code=123&price_id=)\r\n        const queryString = window.location.search;\r\n        // get param values\r\n        const urlParams = new URLSearchParams(queryString);\r\n        const p_code = urlParams.get('p_code');\r\n\r\n        // check if p_code is defined and is not an empty string\r\n        if (p_code && p_code !== \"\") {\r\n            // setProductCode(p_code);\r\n            return p_code;\r\n        }else{\r\n            return \"\";\r\n        }\r\n    }\r\n\r\n    // Init productCode based on URI's param\r\n    const [productCode, setProductCode] = useState(getProductCode());\r\n\r\n    // Retrieving the details of the p_code\r\n    useEffect(() => {\r\n        window.scrollTo(0, 0); // scroll to top on page load\r\n        dispatch(getProductDetails(productCode));\r\n    }, []);\r\n    \r\n    return (<>\r\n        { (isLoading) ?\r\n          <>\r\n            <br/>\r\n            <div align=\"center\">\r\n                <Spin size='large'/> <br/>\r\n                Loading data... Please wait!\r\n            </div>\r\n          </> :\r\n          ((!productDetails || productDetails.success === false)  ? \r\n            <h4 style={{color: \"red\", textAlign:\"center\"}} > \r\n                <br/>\r\n                Could not load data. <br/>\r\n                {\r\n                    !productDetails?\r\n                        \"Please refresh the page!\" : productDetails.message\r\n                }\r\n            </h4> : \r\n            <>\r\n                <div className=\"container with-top-padding flex-horizontal-box-container\">\r\n                    <div className=\"box-item-xs-12 box-item-sm-12 box-item-md-6 box-item-lg-6 box-item-xl-6\">\r\n                        <ProductImagesCarousel key={productDetails}\r\n                            productDetails={productDetails}/>\r\n                    </div>\r\n                    <div className=\"box-item-xs-12 box-item-sm-12 box-item-md-6 box-item-lg-6 box-item-xl-6\">\r\n                        <ProductMainTitle key={productDetails}\r\n                            productDetails={productDetails} />\r\n                    </div>\r\n                    <div className=\"box-item-xs-12 box-item-sm-12 box-item-md-12 box-item-lg-12 box-item-xl-12\">\r\n                        <ProductDescription key={productDetails}\r\n                            productDetails={productDetails}/>\r\n                    </div>\r\n                </div>\r\n            </>)\r\n        }\r\n    </>);\r\n};\r\n\r\nexport default ProductDetails;","import axios from 'axios';\r\nimport { \r\n    GET_COMPANY_INFO, \r\n    SET_COMPANY_INFO, \r\n    LOADING_COMPANY_INFO \r\n} from '../_constants/actionTypes.constants';\r\n\r\nexport const getCompanyInfo = () => dispatch => {\r\n    dispatch({\r\n        type: LOADING_COMPANY_INFO\r\n    });\r\n    \r\n    return axios.get('/api/aboutus/')\r\n        .then(res => {\r\n            dispatch({\r\n                type: GET_COMPANY_INFO,\r\n                payload: res.data\r\n            });\r\n\r\n            dispatch({\r\n                type: LOADING_COMPANY_INFO\r\n            });\r\n\r\n            return res;\r\n        })\r\n        .catch(err => {\r\n            console.log(err);\r\n\r\n            dispatch({\r\n                type: LOADING_COMPANY_INFO\r\n            });\r\n\r\n            return err;\r\n        });\r\n}\r\n\r\nexport const setCompanyInfo = newInfo => dispatch => {\r\n    return axios.post('/api/aboutus/edit-info', newInfo)\r\n        .then(res => {\r\n            if(res.data.success){\r\n                dispatch({\r\n                    type: SET_COMPANY_INFO,\r\n                    payload: newInfo\r\n                });\r\n                return res;\r\n            }\r\n            else{\r\n                console.log(res);\r\n                return res;\r\n            } \r\n        })\r\n        .catch(err => {\r\n            console.log(err);\r\n            return err;\r\n        });\r\n}","import '../../_assets/CSS/pages/DeliveryDispatch.css';\r\nimport { useEffect } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { getCompanyInfo } from '../../_actions/companyInfoActions';\r\n\r\n\r\n\r\n\r\nconst DeliveryDispatch = () =>{\r\n\r\n    const companyInfo = useSelector(state => state.companyInfoState.companyInfo);\r\n    const dispatch = useDispatch();\r\n    \r\n    useEffect(() => {\r\n        if(Object.keys(companyInfo).length === 0 && companyInfo.constructor === Object){\r\n            dispatch(getCompanyInfo());\r\n        }\r\n    }, [dispatch, companyInfo]);\r\n\r\n    return (\r\n        <div>\r\n            <div id=\"deliverydispatch-window\">\r\n                Delivery and Dispatch\r\n            </div>\r\n            <div id=\"deliverydispatch-text\">\r\n                {companyInfo.c_delivery}\r\n            </div>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default DeliveryDispatch;\r\n","import React, {useState, useEffect} from 'react';\r\nimport {Button, Input,Typography} from 'antd';\r\nimport {PhoneFilled,EnvironmentFilled} from '@ant-design/icons';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { getCompanyInfo } from '../../_actions/companyInfoActions';\r\n\r\nconst { TextArea } = Input;\r\nconst { Title } = Typography;\r\n\r\nconst useContactUs = (callback) => {\r\n  const [inputs, setInputs] = useState({});\r\n  const handleSubmit = (event) => {\r\n    if (event) {\r\n      event.preventDefault();\r\n      alert(\"Thank you for your response\");\r\n    }\r\n  }\r\n  const handleInputChange = (event) => {\r\n    event.persist();\r\n    setInputs(inputs => ({...inputs, [event.target.name]: event.target.value}));\r\n  }\r\n\r\n  return {\r\n    handleSubmit,\r\n    handleInputChange,\r\n    inputs\r\n  };\r\n}\r\n\r\nconst ContactUs = () =>{\r\n  const {inputs, handleInputChange, handleSubmit} = useContactUs();\r\n\r\n  const companyInfo = useSelector(state => state.companyInfoState.companyInfo);\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n      if(Object.keys(companyInfo).length === 0 && companyInfo.constructor === Object){\r\n          dispatch(getCompanyInfo());\r\n      }\r\n  }, [dispatch, companyInfo]);\r\n  return (\r\n      <>\r\n        <div className=\"page-title-holder fill\">\r\n          <h2>We'd love to hear from you</h2>\r\n        </div>\r\n        <div className=\"flex-horizontal-box-container\" id=\"contact-us-content\">\r\n          <div className=\"box-item-xs-12 box-item-sm-12 box-item-md-6 box-item-lg-6\">\r\n            <form  onSubmit={handleSubmit}>\r\n              <div>\r\n                <Title level={4}>Name</Title>\r\n                <Input size=\"large\" onChange={handleInputChange} value={inputs.name} required/>\r\n              </div>\r\n              <div>\r\n                <Title level={4}>Email</Title>\r\n                <Input size=\"large\" type=\"email\" name=\"email\" onChange={handleInputChange} value={inputs.email} required/>\r\n              </div>\r\n              <div>\r\n                <Title level={4}>Message</Title>\r\n                <TextArea rows={8} type=\"message\" name=\"message\" onChange={handleInputChange} value={inputs.message} required/>\r\n              </div>\r\n              <div>\r\n                <Button type=\"primary\" size=\"large\" htmlType=\"submit\">Send</Button>\r\n              </div>\r\n            </form>\r\n          </div>\r\n\r\n        <div className=\"box-item-xs-12 box-item-sm-12 box-item-md-6 box-item-lg-6\">\r\n          <Title level={3}>You can contact us via:</Title>\r\n          <Title level={3}><PhoneFilled />: (02) 9681 6075</Title>\r\n          <Title level={3}><EnvironmentFilled />: 3/34-36 Fairfield St, Fairfield East NSW 2165</Title>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\nexport default ContactUs\r\n","import '../../_assets/CSS/pages/TermsConditions.css';\r\nconst TermsConditions = () =>{\r\n    return (\r\n      <body>\r\n      <div id=\"terms-conditions-window\">\r\n        Terms & Conditions\r\n      </div>\r\n      <div id=\"terms-conditions-text\">\r\n        Placeholder text\r\n      </div>\r\n      </body>\r\n    )\r\n}\r\n\r\nexport default TermsConditions\r\n","import '../../_assets/CSS/pages/Blog/Blog.css';\r\nimport { useEffect } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { getCompanyInfo } from '../../_actions/companyInfoActions';\r\n\r\nconst Blog = () => {\r\n\r\n    const companyInfo = useSelector(state => state.companyInfoState.companyInfo);\r\n    const dispatch = useDispatch();\r\n    \r\n    useEffect(() => {\r\n        if(Object.keys(companyInfo).length === 0 && companyInfo.constructor === Object){\r\n            dispatch(getCompanyInfo());\r\n        }\r\n    }, [dispatch, companyInfo]);\r\n\r\n    return(\r\n        <div>\r\n            <div id=\"blog-window\">\r\n                Company Blog\r\n            </div>\r\n            <div id=\"blog-text\">\r\n                {companyInfo.c_blog}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Blog;","import '../../_assets/CSS/pages/EmailRequest/EmailRequest.css';\r\nimport { Form, Input, Button, Modal } from 'antd';\r\nimport { history } from '../../_helpers/history';\r\nimport { useForm } from 'antd/lib/form/Form';\r\nimport axios from 'axios';\r\nimport { validateEmail } from '../../_services/SharedFunctions';\r\nimport { useState } from 'react';\r\n\r\nconst { info } = Modal;\r\n\r\n\r\n\r\n\r\n\r\n//Layout stuff\r\nconst layout = {\r\n    labelCol: {\r\n      span: 8,\r\n    },\r\n    wrapperCol: {\r\n      span: 7,\r\n    },\r\n};\r\n\r\nconst tailLayout = {\r\n    wrapperCol: {\r\n      offset: 8,\r\n      span: 16,\r\n    },\r\n};\r\n\r\n\r\n\r\n\r\n\r\nconst showEmailSent = (email) => {\r\n    info({\r\n        title: 'Email Sent!',\r\n        content: (\r\n            <span>\r\n                A link has been sent to {`${email}`}. Please click this link to reset your password. \r\n                If you cannot find the email, check your spam folder or contact support.\r\n            </span>\r\n        ),\r\n        onOk() {\r\n            history.push('/login');\r\n        }\r\n    });\r\n}\r\n\r\n\r\n\r\n\r\n\r\nconst EmailRequest = () => {\r\n    const [form] = useForm();\r\n    const [loading, setLoading] = useState(false);\r\n\r\n\r\n\r\n\r\n\r\n    const sendRequest = () => {\r\n        const email = form.getFieldValue('email').toLowerCase();\r\n        \r\n        if(!validateEmail(email))  return Promise.reject(new Error('Not a valid email!'));\r\n\r\n        setLoading(true);\r\n\r\n        return axios.post('api/user/forgot-password', {email: email})\r\n        .then(() => {\r\n            setLoading(false);\r\n            showEmailSent(email);\r\n        })\r\n        .catch(err => {\r\n            setLoading(false);\r\n            console.log(err);\r\n            return Promise.reject(new Error('Could not find email in our system!'));\r\n        });\r\n    }\r\n\r\n\r\n\r\n\r\n    \r\n    return (\r\n        <div>\r\n            <div style = {{height: \"5px\"}}/>\r\n\r\n            <div className=\"emailrequest-text-wrapper\">\r\n                <h1 className=\"emailrequest-text\">Login</h1>\r\n            </div>\r\n\r\n            <div id=\"emailrequest-devider-1\"/>\r\n\r\n            <div className=\"emailrequest-text-wrapper\">\r\n                <div className=\"emailrequest-text\" style={{fontSize: \"17px\"}}>\r\n                    Enter your email and we will send a reset password link to your registered email address\r\n                </div>\r\n            </div>\r\n           \r\n            <div style = {{height: \"25px\"}}/>\r\n\r\n            <Form\r\n                form={form}\r\n                {...layout}\r\n                name=\"Email-Request-Form\"\r\n            >\r\n                <Form.Item\r\n                    label=\"Email\"\r\n                    name=\"email\"\r\n                    rules={[\r\n                        {\r\n                            validator: sendRequest,\r\n                            validateTrigger: \"onSubmit\"\r\n                        }\r\n                    ]}\r\n                >\r\n                    <Input />\r\n                </Form.Item>\r\n                \r\n                <Form.Item {...tailLayout}>\r\n                    <Button loading={loading} type=\"primary\" htmlType=\"submit\"> Submit </Button>\r\n                </Form.Item>\r\n            </Form>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default EmailRequest;","import { Form, Input, Button, Modal, Tooltip} from 'antd';\r\nimport { useForm } from 'antd/lib/form/Form';\r\nimport { useState } from 'react';\r\nimport { useParams } from 'react-router-dom';\r\nimport { checkPasswordStrength } from '../../_services/SharedFunctions';\r\nimport { history } from '../../_helpers/history';\r\nimport axios from 'axios';\r\n\r\n\r\n\r\n//Layout stuff//\r\nconst layout = {\r\n    labelCol: {\r\n      span: 8\r\n    },\r\n    wrapperCol: {\r\n      span: 14\r\n    }\r\n};\r\n\r\nconst actionButtonsLayout = {\r\n    wrapperCol: {\r\n        span: 22\r\n    }\r\n};\r\n\r\nconst successReset = () => {\r\n    Modal.success({\r\n        title: 'Password reset!',\r\n        content: 'Confirmation has been sent to your email address. You can now use this password to log into your account.',\r\n        onOk() {\r\n            history.push('/login');\r\n        }\r\n    });\r\n}\r\n\r\nconst somethingWentWrong = () => {\r\n    Modal.error({\r\n        title: 'Something went wrong!',\r\n        content: 'Please try try sending your forgotten password request again or contact support',\r\n        onOk() {\r\n            history.push('/emailRequest');\r\n        }\r\n    });\r\n}\r\n\r\nconst ReenterPassword = () => {\r\n    const {token, email} = useParams();\r\n    const [form] = useForm();\r\n    const [toolTipVisible, setToolTipVisible] = useState(false);\r\n    const [loading, setLoading] = useState(false);\r\n\r\n    if(token === undefined || email === undefined) somethingWentWrong();\r\n\r\n    console.log(\"token\", token);\r\n    console.log(email, email);\r\n\r\n    const submitNewPassword = (_, confirmPassword) => {\r\n        const new_password = form.getFieldValue('password');\r\n\r\n        if(!confirmPassword) return Promise.resolve();\r\n        if(new_password !== confirmPassword ) return Promise.reject(new Error('Passwords do not match'));\r\n        if(!checkPasswordStrength(confirmPassword)){\r\n            setToolTipVisible(true);\r\n            return Promise.reject(new Error('Password not strong enough'));\r\n        } \r\n\r\n        const body = {\r\n            new_password: new_password,\r\n            email: email,\r\n            token: token\r\n        }\r\n\r\n        setLoading(true);\r\n\r\n        return axios.post('/api/user/reset-password-email', body)\r\n        .then(res => {\r\n            setLoading(false);\r\n            successReset();\r\n        })\r\n        .catch(err => {\r\n            setLoading(false);\r\n            console.log(err);\r\n            if(err.response.status === 400) return Promise.reject(new Error('Cannot use previous password!'));\r\n            else somethingWentWrong();\r\n        });\r\n    }\r\n\r\n  \r\n    return (\r\n        <div>\r\n            <div className=\"page-title-holder with-divider center-page\">\r\n                <h1>Re-enter Password</h1>\r\n            </div>\r\n\r\n            <Form\r\n                {...layout}\r\n                name=\"authentication-form\"\r\n                form={form}\r\n            >\r\n                <Tooltip \r\n                    visible={toolTipVisible} \r\n                    title=\"Password must contain at least 8 characters, a special charater, a number, and an upper case letter\"\r\n                >\r\n                    <Form.Item\r\n                        label=\"New Password\"\r\n                        name=\"password\"\r\n                        rules={[\r\n                            {\r\n                                required: true,\r\n                                message: 'Please input your new password!',\r\n                            }\r\n                        ]}\r\n                    >\r\n                        <Input.Password maxLength={50} onFocus={() => {setToolTipVisible(false)}}/> \r\n                    </Form.Item>\r\n                </Tooltip>\r\n\r\n                <Form.Item\r\n                    label=\"Confirm Password\"\r\n                    name=\"confirmPassword\"\r\n                    rules={[\r\n                        {\r\n                            required: true,\r\n                            message: 'Please confirm your password!',\r\n                        },\r\n                        {\r\n                            validator: submitNewPassword,\r\n                            validateTrigger: \"onSubmit\"\r\n                        }\r\n                    ]}\r\n                >\r\n                    <Input.Password maxLength={50}/>   \r\n                </Form.Item >\r\n                \r\n                \r\n                <Form.Item {...actionButtonsLayout}>\r\n                    <Button loading={loading} type=\"primary\" htmlType=\"submit\">Reset</Button>\r\n                </Form.Item>\r\n            </Form>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default ReenterPassword;","import { Input, Form } from \"antd\"\r\n \r\nconst inputTypeMapping = {\r\n\tinput: Input\r\n}\r\n\r\nexport default function GenerateFormItem ({ inputType, label, isRequired, inputName, requiredMessage}) {\r\n\tconst FormComponent = inputTypeMapping[inputType];\r\n\tif(!isRequired){\r\n\t\treturn(\r\n\t\t\t<Form.Item label={label} name={inputName}>\r\n\t\t\t\t<FormComponent/>\r\n\t\t\t</Form.Item>\r\n\t\t)\r\n\t} else {\r\n\t\treturn(\r\n\t\t\t<Form.Item label={label} name={inputName} rules={[{required: {isRequired}, message: {requiredMessage}}]}>\r\n\t\t\t\t<FormComponent/>\r\n\t\t\t</Form.Item>\r\n\t\t)\r\n\r\n\t}\r\n}","import { Layout, Row, Avatar, Button, Form } from 'antd';\r\n// import MyAccountSideMenu from '../MyAccount/MyAccountSideMenu'\r\nimport GenerateFormItem from '../../SharedComponents/Form/FormItem' // This will be in charge of creating the Form.Item for each of the elements below\r\nimport { UserOutlined, EditOutlined, SaveOutlined } from '@ant-design/icons';\r\n\r\n\r\nconst { Content } = Layout;\r\n//const isAuthenticated = 1;\r\n\r\nconst formElements = [\r\n    {\r\n        inputType: \"input\",\r\n        label: \"First Name\",\r\n        isRequired: true,\r\n        requiredMessage: \"Please enter your first name!\",\r\n        inputName: \"firstName\"\r\n    },\r\n    {\r\n        inputType: \"input\",\r\n        label: \"Last Name\",\r\n        isRequired: true,\r\n        requiredMessage: \"Please enter your last name!\",\r\n        inputName: \"lastName\"\r\n    },\r\n    {\r\n        inputType: \"input\",\r\n        label: \"Email Address\",\r\n        isRequired: true,\r\n        requiredMessage: \"Please enter your email address!\",\r\n        inputName: \"emailAddress\"\r\n    },\r\n    {\r\n        inputType: \"input\",\r\n        label: \"Mobile Number\",\r\n        isRequired: false,\r\n        requiredMessage: \"Please enter your mobile number!\",\r\n        inputName: \"mobileNumber\"\r\n    },\r\n    {\r\n        inputType: \"input\",\r\n        label: \"Country Code\",\r\n        isRequired: false,\r\n        requiredMessage: \"\",\r\n        inputName: \"countryCode\"\r\n    },\r\n    {\r\n        inputType: \"input\",\r\n        label: \"PO Attention To\",\r\n        isRequired: false,\r\n        requiredMessage: \"\",\r\n        inputName: \"poAttentionTo\"\r\n    },\r\n    {\r\n        inputType: \"input\",\r\n        label: \"PO Address Line 1\",\r\n        isRequired: false,\r\n        requiredMessage: \"\",\r\n        inputName: \"poAddressLineFirst\"\r\n    },\r\n    {\r\n        inputType: \"input\",\r\n        label: \"PO Address Line 2\",\r\n        isRequired: false,\r\n        requiredMessage: \"\",\r\n        inputName: \"poAddressLineLast\"\r\n    },\r\n    {\r\n        inputType: \"input\",\r\n        label: \"PO Suburb\",\r\n        isRequired: false,\r\n        requiredMessage: \"\",\r\n        inputName: \"poSuburb\"\r\n    },\r\n    {\r\n        inputType: \"input\",\r\n        label: \"PO State\",\r\n        isRequired: false,\r\n        requiredMessage: \"\",\r\n        inputName: \"poState\"\r\n    },\r\n    {\r\n        inputType: \"input\",\r\n        label: \"PO Postal Code\",\r\n        isRequired: false,\r\n        requiredMessage: \"\",\r\n        inputName: \"poPostCode\"\r\n    },\r\n    {\r\n        inputType: \"input\",\r\n        label: \"PO Country\",\r\n        isRequired: false,\r\n        requiredMessage: \"\",\r\n        inputName: \"poCountry\"\r\n    }\r\n];\r\n\r\nexport default function MyAccount(){\r\n    //const [userType,setUseType] = useState(1);\r\n    return(\r\n        <Layout>\r\n                {/* <Sider width = \"256\" className=\"my-account-sider-menu\">\r\n                    <MyAccountSideMenu/>\r\n                </Sider> */}\r\n            <Content>\r\n                <Row>\r\n                    <h1>My Account</h1>\r\n                </Row>\r\n                <Row className=\"my-account-username-avatar\">\r\n                    <Avatar size={128} icon={<UserOutlined/>} />\r\n                    <h5>Username</h5>\r\n                    <Button type=\"primary\" icon={<EditOutlined />}>Edit</Button>\r\n                </Row>\r\n                <Row className=\"my-account-details\">\r\n                    <Form>\r\n                        {formElements.map((element) => (<GenerateFormItem {...element}/>))}\r\n                        <Form.Item>\r\n                            <Button type=\"primary\" htmlType=\"submit\" icon={<SaveOutlined/>}>Save</Button>\r\n                        </Form.Item>\r\n                    </Form>\r\n                </Row>\r\n            </Content>\r\n        </Layout>\r\n    )\r\n}\r\n","import React, { useContext, useEffect, useState } from 'react';\r\nimport {connect} from 'react-redux';\r\nimport { Button, Input } from 'antd';\r\nimport {PlusOutlined, MinusOutlined, RestOutlined } from '@ant-design/icons';\r\nimport { formatNumber } from '../../_helpers/utils';\r\nimport { decreaseQuantity, increaseQuantity } from '../../_actions/cartActions'\r\nimport placeholderImg from '../../_assets/Images/No_Image.jpg';\r\n\r\nconst { TextArea } = Input;\r\n\r\nconst CartItem = (props) => {\r\n  // getting the props values\r\n  const editable = props.editable;\r\n  const product = props.product;\r\n  const index = props.index;\r\n\r\n  const [quantityState, setQuantityState] = useState(product.quantity);\r\n\r\n  const increase = () => {\r\n    // update the quantity displayed\r\n    setQuantityState(quantityState + 1);\r\n\r\n    // update site's state\r\n    props.increase(index);\r\n  }\r\n\r\n  const decrease = () => {\r\n    // update the displayed quantity\r\n    setQuantityState(quantityState - 1);\r\n\r\n    // update the site's state\r\n    props.decrease(index);\r\n    \r\n  }\r\n\r\n  return (\r\n    <tr>\r\n        <td>\r\n            <img alt={(product.item_code === undefined || (product.item_code !== undefined && product.item_code.length === 0)) ? \"image of paper bag\" : product.item_code + \"\\'s image\"}\r\n            src= {(product.p_image_uri === null || (product.p_image_uri !== null && product.p_image_uri.length === 0)) ? placeholderImg : product.p_image_uri} height=\"160px\" width=\"120px\" style={{objectFit:'scale-down'}}/>\r\n            <br/><span><em>{product.p_name}</em></span>\r\n        </td>\r\n        <td>{formatNumber(product.unit_price)}</td>\r\n        <td>{product.p_size}</td>\r\n        <td>\r\n            { editable &&\r\n                <Button onClick={() => increase()}\r\n                icon={<PlusOutlined />} type=\"primary\"/>\r\n            }<br/>\r\n            {quantityState}\r\n            <br/>{ editable &&\r\n                <Button onClick={() => decrease()}\r\n                icon={<MinusOutlined />} type=\"secondary\"/>\r\n            }\r\n        </td>\r\n        <td>\r\n          <TextArea placeholder={editable ? \"Please input any special requirements that you have here\" : \"No Special Requirements\"}\r\n          rows={4} maxLength={100}\r\n          autoSize={{ minRows: 4, maxRows: 4 }}\r\n          disabled={!editable}\r\n          value={(product.special_requirements === null || (product.special_requirements !== null && product.special_requirements.length === 0)) ? \"\" : product.special_requirements}></TextArea>\r\n        </td>\r\n    </tr>\r\n  );\r\n}\r\n\r\nconst mapDispatchToProps= (dispatch)=>{\r\n  return{\r\n    increase: (index) => {dispatch(increaseQuantity(index))},\r\n    decrease: (index) => {dispatch(decreaseQuantity(index))},\r\n  }\r\n}\r\n\r\nexport default connect(null, mapDispatchToProps)(CartItem);\r\n","/*\r\n  - Author: Trang Nguyen\r\n  - A list of Cart Items that will be validated and updated on render.\r\n*/\r\n\r\nimport React, { useState, useCallback, useEffect } from 'react';\r\nimport { connect, useSelector } from 'react-redux';\r\nimport { ExclamationCircleOutlined } from '@ant-design/icons';\r\nimport { Modal, Spin } from 'antd';\r\nimport axios from 'axios';\r\nimport CartItem from './CartItem';\r\nimport { removeItems, updateItemInfo, setLoading, setError } from '../../_actions/cartActions';\r\n\r\nconst CartProducts = (props) => {\r\n    const editable = props.editable\r\n\r\n    // up-to-date product codes\r\n    const [validPCodes, setValidPCodes] = useState(\r\n      // init pCodes with all product codes in cart\r\n      props.line_items.map(li => li.item_code)\r\n    );\r\n    // products that are in cart but no longer available (deleted)\r\n    const [invalidProducts, setInvalidProducts] = useState([]);\r\n    // product info pulled from database using product codes in cart\r\n    const [productInfo, setProductInfo] = useState([]);\r\n\r\n    // component states\r\n    const [isLoading, setLoadingState] = useState(true);\r\n    // state if the invalid products have been removed from cart\r\n    const [invalidRemoved, setInvalidRemoved] = useState(false);\r\n\r\n    function filterInavlidProducts() {\r\n      if(validPCodes \r\n          && validPCodes.length !== props.line_items.length)\r\n      {\r\n        let invalid1 = props.line_items\r\n          .filter((li) => {\r\n            return !validPCodes.includes(li.item_code);\r\n          })\r\n          .map(li => {return {item_code: li.item_code, p_size: li.p_size}});\r\n        \r\n        // add to invalid array\r\n        setInvalidProducts(invalid1);\r\n\r\n        // find products that have correct p_code but incorrect p_size\r\n        let invalid2 = [];\r\n        productInfo.forEach(p => {\r\n          props.line_items\r\n            .filter(li => {\r\n              return (li.item_code === p.p_code && !p.p_size.includes(li.p_size))\r\n            })\r\n            .forEach(li => {\r\n              invalid2 = [...invalid2, {item_code: li.item_code, p_size: li.p_size}];\r\n            });\r\n        }); \r\n\r\n        // add to invalid array\r\n        invalid2.forEach(element => {\r\n          setInvalidProducts([...invalidProducts, element]);\r\n        });\r\n        \r\n      }\r\n    }\r\n\r\n    useEffect(() => {\r\n      // update cart items' info\r\n      axios\r\n        .post('/api/products/validate-products', {\r\n          p_codes: props.line_items.map(li => li.item_code)\r\n        })\r\n        .then(res => {\r\n          // update information in cart\r\n          props.updateItemInfo(res.data.valid_pcodes);\r\n          setProductInfo(res.data.valid_pcodes);\r\n\r\n          if(res.data.valid_pcodes){\r\n            setValidPCodes(res.data.valid_pcodes.map(p => p.p_code));\r\n            \r\n          }else{\r\n            setValidPCodes([]);\r\n          }\r\n          console.log({res: res})\r\n          setLoadingState(false);\r\n\r\n        })\r\n        .catch(err => {\r\n          console.log(err);\r\n          setLoadingState(false);\r\n        })\r\n\r\n\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n\r\n      filterInavlidProducts();\r\n\r\n    }, [validPCodes])\r\n   \r\n    const itemList = () => {\r\n      var items = [];\r\n      if(props.line_items){\r\n        for(var i = 0; i < props.line_items.length; i++){\r\n          items.push(\r\n            <>\r\n              <CartItem \r\n                key={props.line_items[i]}\r\n                product={props.line_items[i]}\r\n                editable={editable}\r\n                index={i}\r\n              />\r\n            </>\r\n          )\r\n        }\r\n      }\r\n      \r\n      return items;\r\n    }\r\n\r\n    // on confirming, remove invalid products in cart\r\n    const removeItems = (invalidProds) => {\r\n      // remove invalid products\r\n      console.log(\"OK\");\r\n      props.removeItems(invalidProds);\r\n      setInvalidRemoved(true);\r\n      \r\n    };\r\n\r\n    // popup for when an invalid product exists in cart\r\n    const infoModal = (invalidProds, validProds) => {\r\n      Modal.info({\r\n        title: 'Unavailable Products exist in Cart',\r\n        icon: <ExclamationCircleOutlined />,\r\n        content: (\r\n          <div>\r\n            <p>\r\n              The following products in your Cart are outdated or no longer available: \r\n            </p>\r\n            <ul>\r\n              {\r\n                invalidProds.map((prod, index) => (\r\n                  <li key={`${prod.item_code} ${index}`} >\r\n                    {`Product Code: ${prod.item_code} (Product Size: ${prod.p_size})`}\r\n                  </li>\r\n                ))\r\n              }\r\n            </ul>\r\n            <p>Please remove them from your Cart!</p>\r\n          </div>\r\n          \r\n        ),\r\n        okText: 'Remove Items',\r\n        onOk () { removeItems(invalidProds) }\r\n      });\r\n    }\r\n\r\n    return (<>\r\n        {\r\n          isLoading ?\r\n            <tr><td colSpan={4}><h3 style={{textAlign: 'center'}}>Fetching your Cart Items. . .<br/>Thank you for your patience!<br/><Spin size='large'/></h3></td></tr>\r\n          :\r\n          (        \r\n            !invalidRemoved ?\r\n              (\r\n                (invalidProducts.length > 0) ? \r\n                 infoModal(invalidProducts, validPCodes) : \r\n                 itemList()\r\n              ) : \r\n              itemList()\r\n          )\r\n        }\r\n        </>\r\n    );\r\n}\r\n\r\nconst mapStateToProps = (state)=>{\r\n  return{\r\n    line_items: state.cartState.items,\r\n    total: state.cartState.total,\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps= (dispatch)=>{\r\n  return{\r\n    // setLoading: (isLoading) => {dispatch(setLoading(isLoading))},\r\n    // setError: (err) => {dispatch(setError(err))},\r\n    removeItems: (invalid_pcodes) => {dispatch(removeItems(invalid_pcodes))},\r\n    updateItemInfo: (items) => {dispatch(updateItemInfo(items))},\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps,mapDispatchToProps)(CartProducts);\r\n","export default __webpack_public_path__ + \"static/media/visa.562a774f.png\";","export default __webpack_public_path__ + \"static/media/mastercard.e84e92d4.jpg\";","import React, { useContext, useEffect } from 'react';\r\nimport {connect} from 'react-redux';\r\nimport CartProducts from './CartProducts';\r\nimport { formatNumber } from '../../_helpers/utils';\r\nimport { Button } from 'antd';\r\nimport { Link } from 'react-router-dom';\r\nimport visa from \"../../_assets/Images/visa.png\"\r\nimport mastercard from \"../../_assets/Images/mastercard.jpg\"\r\nimport alipay from \"../../_assets/Images/Alipay.png\"\r\nimport { clearCart } from '../../_actions/cartActions';\r\n\r\nconst Cart = (props) =>{\r\n    const itemCount = props.cartItems.length;\r\n    const subTotal = props.total;\r\n    const GST = subTotal / 11;\r\n    const freightCharge = subTotal * 0.1;\r\n    const grandTotal = subTotal + freightCharge;\r\n\r\n    const clearCart = () => {\r\n        props.clearCart();\r\n    }\r\n\r\n    useEffect(() => {\r\n        // get only user input values\r\n        const items = props.cartItems.map(i => {\r\n            return {\r\n                item_code: i.item_code,\r\n                p_size: i.p_size,\r\n                quantity: i.quantity,\r\n                special_requirements: i.special_requirements,\r\n            }\r\n        });\r\n\r\n        // store cart state to local storage\r\n        localStorage.setItem(\"items\", JSON.stringify(items));\r\n\r\n    }, [props.cartItems, props.total])\r\n  \r\n    return(<>\r\n        <div className=\"page-title-holder fill\">\r\n            <h2>Shopping Cart</h2>\r\n        </div>\r\n        <div className=\"container flex-horizontal-box-container\" id=\"cart-content-page\">\r\n            <div className=\"box-item-xs-12 box-item-sm-12 box-item-md-12 box-item-lg-8 box-item-xl-9 box-shadow table-container\">\r\n                <table className=\"center-content\">\r\n                    <thead>\r\n                        <tr>\r\n                            <th>Product</th>\r\n                            <th>Unit Price</th>\r\n                            <th>Size</th>\r\n                            <th>Quantity</th>\r\n                            <th>Special Requirements</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        {itemCount > 0 ? <CartProducts key={props.cartItems} editable={true} /> : <tr><td colSpan={5}><h3 style={{textAlign: 'center'}}>Your cart is empty! :(</h3></td></tr> }\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n            <div className=\"box-item-xs-12 box-item-sm-12 box-item-md-12 box-item-lg-4 box-item-xl-3 box-shadow\">\r\n                <h4>Order Summary</h4>\r\n                <table>\r\n                    <tbody>\r\n                        <tr className=\"non-hover\">\r\n                            <td><strong>Distinct items:</strong></td>\r\n                            <td>{itemCount}</td>\r\n                        </tr>\r\n                        <tr className=\"non-hover\">\r\n                            <td><strong>Subtotal (incl. GST):</strong></td>\r\n                            <td>{formatNumber(subTotal)}</td>\r\n                        </tr>\r\n                        <tr className=\"non-hover\">\r\n                            <td><strong>GST:</strong></td>\r\n                            <td>{formatNumber(GST)}</td>\r\n                        </tr>\r\n                        <tr className=\"non-hover\">\r\n                            <td><strong>Freight charge:</strong></td>\r\n                            <td>{formatNumber(freightCharge)}</td>\r\n                        </tr>\r\n                        <tr className=\"non-hover\">\r\n                            <td><strong>Grand total:</strong></td>\r\n                            <td>{formatNumber(grandTotal)}</td>\r\n                        </tr>\r\n                    </tbody>\r\n                </table>\r\n                <Button type=\"secondary\" disabled={itemCount < 1} onClick={clearCart}>Clear Cart</Button>\r\n                &emsp;\r\n                <Button type=\"primary\" disabled={itemCount < 1}>\r\n                    <Link to=\"/CheckoutShipping\">Checkout</Link>\r\n                </Button>\r\n                <div id=\"cart-content-page-accept-payment\">\r\n                    <strong><em>We accept the following: </em></strong>\r\n                    <img src={visa} alt=\"Visa\"/>\r\n                    <img src={mastercard} alt=\"Mastercard\"/>\r\n                    <img src={alipay} alt=\"Alipay\"/>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </>);\r\n}\r\n\r\nconst mapStateToProps = (state)=>{\r\n    return{\r\n        cartItems: state.cartState.items,\r\n        total: state.cartState.total,\r\n    }\r\n  }\r\n  \r\n  const mapDispatchToProps= (dispatch)=>{\r\n    return{\r\n      clearCart: () => {dispatch(clearCart())},\r\n    }\r\n  }\r\n  \r\n  \r\n  export default connect(mapStateToProps,mapDispatchToProps)(Cart);\r\n","export default \"data:image/png;base64,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\"","import React from 'react';\r\nimport { Form, Input, Button, Steps, Select, InputNumber } from 'antd';\r\nimport { CaretLeftOutlined } from '@ant-design/icons';\r\nimport { Link } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport { history } from '../../_helpers/history';\r\nimport { setShipping } from '../../_actions/cartActions';\r\n\r\nconst { Option } = Select;\r\nconst { Step } = Steps;\r\n\r\nconst CheckoutShipping = (props) =>{\r\n  const [form] = Form.useForm();\r\n  const address = props.address;\r\n  const email = props.email;\r\n\r\n  const onFinish = (values) => {\r\n    const addressPayload = {\r\n      po_attention_to: values.fullname,\r\n      po_address_line1: values.address_line1,\r\n      po_address_line2: values.address_line2,\r\n      po_suburb: values.suburb,\r\n      po_state: values.state,\r\n      po_postcode: values.postcode,\r\n    };\r\n\r\n    const emailPayload = values.email;\r\n    console.log(addressPayload)\r\n    // update cart state\r\n    props.setShipping(addressPayload, emailPayload);\r\n\r\n    // store input address to local storage\r\n    localStorage.setItem(\"address\", JSON.stringify(addressPayload));\r\n    localStorage.setItem(\"email\", JSON.stringify(emailPayload));\r\n\r\n    // redirect to review order page\r\n    history.push('/checkoutReviewOrder');\r\n  };\r\n\r\n  const onFinishFailed = (errorInfo) => {\r\n    console.log('Failed:', errorInfo);\r\n  };      \r\n\r\n  return(\r\n    <>\r\n\t\t<div className=\"page-title-holder fill\">\r\n\t\t\t<h2>Checkout</h2>\r\n\t\t</div>\r\n\t\t<div className=\"container flex-horizontal-box-container\">\r\n\t\t\t<Steps current={0} direction=\"vertical\" size=\"small\"\r\n\t\t\tclassName=\"box-item-xs-12 box-item-sm-12 box-item-md-3 box-item-lg-2 box-item-xl-2\">\r\n\t\t\t\t<Step title=\"Shipping Address\"/>\r\n\t\t\t\t<Step title=\"Review Order\"/>\r\n\t\t\t\t<Step title=\"Secure Payment\" />\r\n\t\t\t\t<Step title=\"Order Complete\"/>\r\n\t\t\t</Steps>\r\n\t\t\t<Form\r\n\t\t\t\tlayout={'vertical'}\r\n\t\t\t\tform={form}\r\n\t\t\t\tonFinish={onFinish}\r\n\t\t\t\tonFinishFailed={onFinishFailed}\r\n\t\t\t\trequiredMark={false}\r\n\t\t\t\tclassName=\"box-item-xs-12 box-item-sm-12 box-item-md-9 box-item-lg-10 box-item-xl-10 div-box box-shadow flex-horizontal-box-container\"\r\n\t\t\t\tinitialValues={{\r\n\t\t\t\t\tfullname: address.po_attention_to,\r\n\t\t\t\t\taddress_line1: address.po_address_line1,\r\n\t\t\t\t\taddress_line2: address.po_address_line2,\r\n\t\t\t\t\tsuburb: address.po_suburb,\r\n\t\t\t\t\tstate: address.po_state,\r\n\t\t\t\t\tpostcode: address.po_postcode,\r\n\t\t\t\t\temail: email,\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t<Form.Item className=\"box-item-xs-1 box-item-sm-1 box-item-md-1 box-item-lg-1 box-item-xl-1\">\r\n\t\t\t\t\t<Button type=\"secondary\"><Link to=\"/Cart\"><CaretLeftOutlined />Return to cart</Link></Button>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item className=\"box-item-xs-12 box-item-sm-12 box-item-md-12 box-item-lg-12 box-item-xl-12\"\r\n\t\t\t\t\tlabel=\"Full Name\"\r\n\t\t\t\t\tname=\"fullname\" \r\n\t\t\t\t\trules={[\r\n\t\t\t\t\t\t{ \r\n\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\tmessage: \"Please enter your full name!\"\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]}>\r\n\t\t\t\t\t<Input />\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\r\n\t\t\t\t<Form.Item className=\"box-item-xs-12 box-item-sm-12 box-item-md-12 box-item-lg-12 box-item-xl-12\"\r\n\t\t\t\t\tlabel=\"Email Address\" \r\n\t\t\t\t\tname=\"email\" \r\n\t\t\t\t\trules={[\r\n\t\t\t\t\t\t{ \r\n\t\t\t\t\t\ttype: 'email',\r\n\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\tmessage: 'Please enter your email!'\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]}>\r\n\t\t\t\t\t<Input />\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item className=\"box-item-xs-12 box-item-sm-12 box-item-md-12 box-item-lg-6 box-item-xl-6\"\r\n\t\t\t\t\tlabel=\"Address Line 1\" name=\"address_line1\" \r\n\t\t\t\t\trules={[\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\trequired: true, \r\n\t\t\t\t\t\tmessage: \"Please enter your address line 1\"\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]}>\r\n\t\t\t\t\t<Input />\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item className=\"box-item-xs-12 box-item-sm-12 box-item-md-12 box-item-lg-6 box-item-xl-6\"\r\n\t\t\t\t\tlabel=\"Address Line 2\"\r\n\t\t\t\t\tname=\"address_line2\"\r\n\t\t\t\t\trules={[\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\trequired: false,\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]}>\r\n\t\t\t\t\t<Input />\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item className=\"box-item-xs-12 box-item-sm-12 box-item-md-12 box-item-lg-4 box-item-xl-4\"\r\n\t\t\t\t\tlabel=\"Suburb\" \r\n\t\t\t\t\tname=\"suburb\" \r\n\t\t\t\t\trules={[\r\n\t\t\t\t\t\t{ \r\n\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\tmessage: 'Please enter your suburb'\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]}>\r\n\t\t\t\t\t<Input />\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item className=\"box-item-xs-12 box-item-sm-12 box-item-md-12 box-item-lg-4 box-item-xl-4\"\r\n\t\t\t\t\tlabel=\"State\" \r\n\t\t\t\t\tname=\"state\"\r\n\t\t\t\t\trules={[\r\n\t\t\t\t\t\t{ \r\n\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\tmessage: 'Please select a state!'\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t<Select>\r\n\t\t\t\t\t\t<Option value=\"NSW\">NSW</Option>\r\n\t\t\t\t\t\t<Option value=\"VIC\">VIC</Option>\r\n\t\t\t\t\t\t<Option value=\"ACT\">ACT</Option>\r\n\t\t\t\t\t\t<Option value=\"NT\">NT</Option>\r\n\t\t\t\t\t\t<Option value=\"QLD\">QLD</Option>\r\n\t\t\t\t\t\t<Option value=\"SA\">SA</Option>\r\n\t\t\t\t\t\t<Option value=\"TAS\">TAS</Option>\r\n\t\t\t\t\t\t<Option value=\"WA\">WA</Option>\r\n\t\t\t\t\t</Select>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item className=\"box-item-xs-12 box-item-sm-12 box-item-md-12 box-item-lg-4 box-item-xl-4\"\r\n\t\t\t\t\tlabel=\"Postcode\" \r\n\t\t\t\t\tname=\"postcode\"  \r\n\t\t\t\t\trules={[\r\n\t\t\t\t\t\t{ \r\n\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\ttype: 'number',\r\n\t\t\t\t\t\tmessage: \"Please enter your postcode\"\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]}>\r\n\t\t\t\t\t<InputNumber min={200} max={9729} />\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item className=\"box-item-xs-12 box-item-sm-12 box-item-md-12 box-item-lg-12 box-item-xl-12\">\r\n\t\t\t\t\t<Button style={{float:'right'}} type=\"primary\" htmlType=\"submit\">Continue</Button>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t</Form>\r\n\t\t</div>\r\n    </>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = (state)=>{\r\n  return{\r\n    address: state.cartState.address,\r\n    email: state.cartState.c_email,\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps= (dispatch)=>{\r\n  return{\r\n    setShipping: (address, email) => {dispatch(setShipping(address, email))}\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(CheckoutShipping);","import { Form,  Button, Steps } from 'antd';\r\nimport React, { useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport { loadStripe } from '@stripe/stripe-js';\r\nimport { CaretLeftOutlined } from '@ant-design/icons';\r\nimport { loadStripeAction, setLoading, setError } from '../../_actions/cartActions';\r\nimport axios from 'axios';\r\n\r\nconst { Step } = Steps;\r\n\r\nconst fetchCheckoutSession = async ({ line_items }) => {\r\n  return fetch('api/stripe/create-checkout-session', {\r\n    method: 'POST',\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n    },\r\n    body: JSON.stringify({\r\n      line_items\r\n    }),\r\n  }).then((res) => res.json());\r\n};\r\n\r\nconst CheckoutSecurePayment = (props) =>{\r\n  const [form] = Form.useForm();\r\n\r\n  // fetch stripe config on page load\r\n  useEffect(() => {\r\n    async function fetchConfig() {\r\n      // Fetch config from our backend.\r\n      const { publicKey, currency } = \r\n        await fetch('api/stripe/config')\r\n        .then((res) => res.json());\r\n      \r\n      // Make sure to call `loadStripe` outside of a component’s render to avoid\r\n      // recreating the `Stripe` object on every render.\r\n      props.loadStripeAction(await loadStripe(publicKey));\r\n    }\r\n    fetchConfig();\r\n  }, []);\r\n\r\n\r\n  const paymentOnClick = async (event) => {\r\n    // Call your backend to create the Checkout session.\r\n    props.setLoading(true);\r\n    const { sessionId } = await fetchCheckoutSession({\r\n      line_items: props.line_items\r\n    });\r\n\r\n    if(sessionId){\r\n      // When the customer clicks on the button, redirect them to Checkout.\r\n      const { error } = await props.stripe.redirectToCheckout({\r\n        sessionId,\r\n      });\r\n    \r\n      // If `redirectToCheckout` fails due to a browser or network\r\n      // error, display the localized error message to your customer\r\n      // using `error.message`.\r\n      if (error) {\r\n        props.setError(error);\r\n        props.setLoading(false);\r\n      }\r\n\r\n      props.setLoading(false);\r\n    }else{\r\n      props.setError(sessionId);\r\n      props.setLoading(false);\r\n    }\r\n  };\r\n\r\n  return(\r\n    <>\r\n\t\t<div className=\"page-title-holder fill\">\r\n\t\t\t<h2>Checkout</h2>\r\n\t\t</div>\r\n\r\n\t\t<div className=\"container flex-horizontal-box-container\">\r\n\t\t\t<Steps current={2} direction=\"vertical\" size=\"small\"\r\n\t\t\tclassName=\"box-item-xs-12 box-item-sm-12 box-item-md-3 box-item-lg-2 box-item-xl-2\">\r\n\t\t\t\t<Step title=\"Shipping Address\"/>\r\n\t\t\t\t<Step title=\"Review Order\"/>\r\n\t\t\t\t<Step title=\"Secure Payment\" />\r\n\t\t\t\t<Step title=\"Order Complete\"/>\r\n\t\t\t</Steps>\r\n\t\t\t<div className=\"box-item-xs-12 box-item-sm-12 box-item-md-9 box-item-lg-10 box-item-xl-10 div-box box-shadow\">\r\n\t\t\t\t<Button type=\"secondary\"><Link to=\"/checkoutReviewOrder\"><CaretLeftOutlined />Back to Review Order</Link></Button>\r\n\t\t\t\t<h4>Secure Payment</h4>\r\n\t\t\t\t<p>You are about to be redirected to our payment gateway to perform the transaction.</p>\r\n\t\t\t\t<Form layout={'vertical'} form={form} name=\"basic\" requiredMark={false} className=\"flex-horizontal-box-container\">\r\n\t\t\t\t\t<Form.Item className=\"box-item-xs-12 box-item-sm-12 box-item-md-12 box-item-lg-12 box-item-xl-12\">\r\n\t\t\t\t\t\t<Button style={{float: 'right'}} type=\"primary\"  htmlType=\"submit\" onClick={paymentOnClick}>Continue to Payment Gateway</Button>\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</Form>\r\n\t\t\t</div>\r\n\t\t</div>\r\n    </>\r\n  );\r\n\r\n}\r\n\r\n//export default CheckoutSecurePayment\r\n\r\nconst mapStateToProps = (state)=>{\r\n  return{\r\n      line_items: state.cartState.items,\r\n      stripe: state.cartState.stripe,\r\n      isLoading: state.cartState.loading,\r\n      error: state.cartState.error,\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps= (dispatch)=>{\r\n  return{\r\n     loadStripeAction: (stripe) => {dispatch(loadStripeAction(stripe))},\r\n     setLoading: (loading) => {dispatch(setLoading(loading))},\r\n     setError: (error) => {dispatch(setError(error))},\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps,mapDispatchToProps)(CheckoutSecurePayment);","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Button, Steps, Divider } from 'antd';\r\nimport { CaretLeftOutlined } from '@ant-design/icons';\r\nimport { Link } from 'react-router-dom';\r\nimport CartProducts from '../Cart/CartProducts';\r\nimport { formatNumber } from '../../_helpers/utils';\r\n\r\nconst { Step } = Steps;\r\n\r\n\r\nconst CheckoutReviewOrder = (props) =>{\r\n  const total = props.total;\r\n  const itemCount = props.cartItems.length;\r\n  const address = props.address;\r\n  const email = props.email;\r\n\r\n  return(\r\n    <>\r\n\t\t<div className=\"page-title-holder fill\">\r\n\t\t\t<h2>Checkout</h2>\r\n\t\t</div>\r\n\r\n\t\t<div className=\"container flex-horizontal-box-container\">\r\n\t\t\t<Steps current={1} direction=\"vertical\" size=\"small\"\r\n\t\t\tclassName=\"box-item-xs-12 box-item-sm-12 box-item-md-3 box-item-lg-2 box-item-xl-2\">\r\n\t\t\t\t<Step title=\"Shipping Address\"/>\r\n\t\t\t\t<Step title=\"Review Order\"/>\r\n\t\t\t\t<Step title=\"Secure Payment\" />\r\n\t\t\t\t<Step title=\"Order Complete\"/>\r\n\t\t\t</Steps>\r\n\t\t\t<div className=\"box-item-xs-12 box-item-sm-12 box-item-md-9 box-item-lg-10 box-item-xl-10 div-box box-shadow flex-horizontal-box-container\">\r\n\t\t\t\t<div className=\"box-item-xs-1 box-item-sm-1 box-item-md-1 box-item-lg-1 box-item-xl-1\">\r\n\t\t\t\t\t<Button type=\"secondary\">\r\n\t\t\t\t\t\t<Link to=\"/checkoutShipping\"><CaretLeftOutlined />Back to Shipping Address</Link>\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"box-item-xs-12 box-item-sm-12 box-item-md-12 box-item-lg-12 box-item-xl-12\">\r\n\t\t\t\t\t<h4>Shipping Information</h4>\r\n\t\t\t\t\t{ address ? <>\r\n\t\t\t\t\t\t\t<p><strong>Recipient's Name:&ensp;</strong>{address.po_attention_to}</p>\r\n\t\t\t\t\t\t\t<p><strong>Recipient's Address:&ensp;</strong>{ address.po_address_line2 ? <>{address.po_address_line2}/</>: <></>}{address.po_address_line1}, {address.po_suburb}, {address.po_state} {address.po_postcode}</p>\r\n\t\t\t\t\t\t\t<p><strong>Recipient's Email:&ensp;</strong>{email}</p>\r\n\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t:\r\n\t\t\t\t\t\t<h5>Shipping Address not available.<br/>Please go back to the previous step!</h5>\r\n\t\t\t\t\t}\r\n\t\t\t\t\t<Divider/>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"box-item-xs-12 box-item-sm-12 box-item-md-12 box-item-lg-12 box-item-xl-12\">\r\n\t\t\t\t\t<h4>Order Summary ({itemCount} items)</h4>\r\n\t\t\t\t\t<div className=\"table-container\">\r\n\t\t\t\t\t\t<table className=\"center-content\">\r\n\t\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t<th>Product</th>\r\n\t\t\t\t\t\t\t\t\t<th>Unit Price</th> \r\n\t\t\t\t\t\t\t\t\t<th>Size</th>\r\n\t\t\t\t\t\t\t\t\t<th>Quantity</th> \r\n\t\t\t\t\t\t\t\t\t<th>Special Requirements</th>\r\n\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t\t{ itemCount === 0 ? <tr><td colSpan={5}><h3 style={{textAlign: 'center'}}>Your cart is empty! :(</h3></td></tr> :<CartProducts key={itemCount} editable={false} />}\r\n\t\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t\t</table>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<Divider/>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"box-item-xs-12 box-item-sm-12 box-item-md-12 box-item-lg-12 box-item-xl-12\">\r\n\t\t\t\t\t<table className=\"right-content\">\r\n\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t<tr className=\"non-hover\"><td><strong>Subtotal:&ensp;</strong>{formatNumber(total)}</td></tr>\r\n\t\t\t\t\t\t\t<tr className=\"non-hover\"><td><strong>GST:&ensp;</strong>{formatNumber(total*0.01)}</td></tr>\r\n\t\t\t\t\t\t\t<tr className=\"non-hover\"><td><strong>Freight Charge:&ensp;</strong>{formatNumber(total*0.05)}</td></tr>\r\n\t\t\t\t\t\t\t<tr className=\"non-hover\"><td><strong>Total:&ensp;</strong>{formatNumber(total*1.06)}</td></tr>\r\n\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t</table>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"box-item-xs-12 box-item-sm-12 box-item-md-12 box-item-lg-12 box-item-xl-12\">\r\n\t\t\t\t\t<Button type=\"primary\" style={{float:'right'}}>\r\n\t\t\t\t\t\t<Link to=\"/checkoutSecurePayment\">Go to payment</Link>\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t</div>\r\n\t\t</div> \r\n    </>\r\n  );\r\n\r\n}\r\n\r\nconst mapStateToProps = (state)=>{\r\n  return{\r\n      cartItems: state.cartState.items,\r\n      total: state.cartState.total,\r\n      address: state.cartState.address,\r\n      email: state.cartState.c_email,\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps)(CheckoutReviewOrder);\r\n","import React, { useEffect, useState } from 'react';\r\nimport { Link } from 'react-router-dom'; \r\nimport { connect } from 'react-redux';\r\nimport { Divider, Steps, Spin } from 'antd';\r\nimport { CheckCircleFilled, CloseCircleFilled } from '@ant-design/icons';\r\nimport { formatNumber } from '../../_helpers/utils';\r\nimport CartProducts from '../Cart/CartProducts';\r\nimport { clearCart, setError, setLoading } from '../../_actions/cartActions';\r\nimport axios from 'axios';\r\n\r\nconst { Step } = Steps;\r\n\r\n\r\nconst CheckoutOrderComplete = (props) =>{\r\n\r\n  // order fields\r\n  const total = JSON.parse(localStorage.getItem(\"total\"));\r\n  const items = JSON.parse(localStorage.getItem(\"items\"));\r\n  const address = JSON.parse(localStorage.getItem(\"address\"));\r\n  const c_email = JSON.parse(localStorage.getItem(\"email\"));\r\n\r\n  // component states\r\n  const [isLoading, setLoadingState] = useState(true);\r\n\r\n  useEffect(() => {\r\n    // create an order on rendering\r\n    axios\r\n      .post('/api/orders/create-order', {\r\n        c_email,\r\n        status: \"NEW\",\r\n        items,\r\n        address,\r\n      })\r\n      .then(res => {\r\n        // set loading state to false when done\r\n        setLoadingState(false);\r\n        return res;\r\n      })\r\n      .catch(err => props.setError(err))\r\n\r\n    // clean up before component unmount\r\n    return () => {\r\n      localStorage.clear();\r\n      props.clearCart()\r\n    }    \r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    props.setLoading(isLoading);      \r\n  }, [isLoading])\r\n\r\n  return(<>\r\n\t\t<div className=\"page-title-holder fill\">\r\n\t\t\t<h2>Checkout</h2>\r\n\t\t</div>\r\n\t\t<div className=\"container flex-horizontal-box-container\">\r\n\t\t\t<Steps current={3} direction=\"vertical\" size=\"small\"\r\n\t\t\tclassName=\"box-item-xs-12 box-item-sm-12 box-item-md-3 box-item-lg-2 box-item-xl-2\">\r\n\t\t\t\t<Step title=\"Shipping Address\"/>\r\n\t\t\t\t<Step title=\"Review Order\"/>\r\n\t\t\t\t<Step title=\"Secure Payment\" />\r\n\t\t\t\t<Step title=\"Order Complete\"/>\r\n\t\t\t</Steps>\r\n\t\t\t<div className=\"box-item-xs-12 box-item-sm-12 box-item-md-9 box-item-lg-10 box-item-xl-10 div-box box-shadow flex-horizontal-box-container\">\r\n\t\t\t\t{ isLoading ? \r\n\t\t\t\t\t<div className=\"box-item-xs-12 box-item-sm-12 box-item-md-12 box-item-lg-12 box-item-xl-12\" align=\"center\">\r\n\t\t\t\t\t\t<p><Spin size='large'/></p>\r\n\t\t\t\t\t\t<p>We are processing your order.</p>\r\n\t\t\t\t\t\t<p>Please wait and kindly <strong>do not close this tab</strong> until your order is processed!</p>\r\n\t\t\t\t\t</div> :\r\n\t\t\t\t\t(\r\n\t\t\t\t\t\t!items ?\r\n\t\t\t\t\t\t\t<div className=\"box-item-xs-12 box-item-sm-12 box-item-md-12 box-item-lg-12 box-item-xl-12\" align=\"center\">\r\n\t\t\t\t\t\t\t\t<p><CloseCircleFilled style={{ fontSize: '400%', color: 'red'}} /></p>\r\n\t\t\t\t\t\t\t\t<h2>Page Not Found</h2>\r\n\t\t\t\t\t\t\t\t<p>The page you're looking for is unavailable.</p>\r\n\t\t\t\t\t\t\t\t<p>Please click <Link to=\"/\" >here</Link> to continue shopping.</p>\r\n\t\t\t\t\t\t\t</div> :\r\n\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t<div className=\"box-item-xs-12 box-item-sm-12 box-item-md-12 box-item-lg-12 box-item-xl-12\" align=\"center\">\r\n\t\t\t\t\t\t\t\t\t<h3>Order Placed</h3>\r\n\t\t\t\t\t\t\t\t\t<CheckCircleFilled style={{ fontSize: '400%', color: 'green'}} />\r\n\t\t\t\t\t\t\t\t\t<h4><em>Your order has been received and will be processed soon.</em></h4>\r\n\t\t\t\t\t\t\t\t\t<h4>Thank you for choosing us!</h4>\r\n\t\t\t\t\t\t\t\t\t<Divider/>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"box-item-xs-12 box-item-sm-12 box-item-md-12 box-item-lg-12 box-item-xl-12\">\r\n\t\t\t\t\t\t\t\t\t<h4>Shipping Information</h4>\r\n\t\t\t\t\t\t\t\t\t{ address ? <>\r\n\t\t\t\t\t\t\t\t\t\t\t<p><strong>Recipient's Name:&ensp;</strong>{address.po_attention_to}</p>\r\n\t\t\t\t\t\t\t\t\t\t\t<p><strong>Recipient's Address:&ensp;</strong>{ address.po_address_line2 ? <>{address.po_address_line2}/</>: <></>}{address.po_address_line1}, {address.po_suburb}, {address.po_state} {address.po_postcode}</p>\r\n\t\t\t\t\t\t\t\t\t\t\t<p><strong>Recipient's Email:&ensp;</strong>{c_email}</p>\r\n\t\t\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t\t\t\t<h5>Shipping Address not available.<br/>Please go back to the previous step!</h5>\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t<Divider/>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"box-item-xs-12 box-item-sm-12 box-item-md-12 box-item-lg-12 box-item-xl-12\">\r\n\t\t\t\t\t\t\t\t\t<h4>Order Summary</h4>\r\n\t\t\t\t\t\t\t\t\t<div className=\"table-container\">\r\n\t\t\t\t\t\t\t\t\t\t<table className=\"center-content\">\r\n\t\t\t\t\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<th>Product</th>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<th>Unit Price</th> \r\n\t\t\t\t\t\t\t\t\t\t\t\t<th>Size</th>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<th>Quantity</th> \r\n\t\t\t\t\t\t\t\t\t\t\t\t<th>Special Requirements</th>\r\n\t\t\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t\t\t\t\t<CartProducts key={items} editable={false} />\r\n\t\t\t\t\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t\t\t\t\t</table>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<Divider/>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"box-item-xs-12 box-item-sm-12 box-item-md-12 box-item-lg-12 box-item-xl-12\">\r\n\t\t\t\t\t\t\t\t\t<table className=\"right-content\">\r\n\t\t\t\t\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t\t\t\t\t<tr className=\"non-hover\"><td><strong>Subtotal:&ensp;</strong>{formatNumber(total)}</td></tr>\r\n\t\t\t\t\t\t\t\t\t\t\t<tr className=\"non-hover\"><td><strong>GST:&ensp;</strong>{formatNumber(total*0.01)}</td></tr>\r\n\t\t\t\t\t\t\t\t\t\t\t<tr className=\"non-hover\"><td><strong>Freight Charge:&ensp;</strong>{formatNumber(total*0.05)}</td></tr>\r\n\t\t\t\t\t\t\t\t\t\t\t<tr className=\"non-hover\"><td><strong>Total:&ensp;</strong>{formatNumber(total*1.06)}</td></tr>\r\n\t\t\t\t\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t\t\t\t\t</table>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t)\r\n\t\t\t\t}\r\n\t\t\t</div>\r\n\t\t</div>\r\n  </>)\r\n};\r\n\r\nconst mapDispatchToProps= (dispatch)=>{\r\n  return{\r\n    setLoading: (isLoading) => {dispatch(setLoading(isLoading))},\r\n    setError: (err) => {dispatch(setError(err))},\r\n    clearCart: () => {dispatch(clearCart())}\r\n  }\r\n}\r\n\r\nexport default connect(null, mapDispatchToProps)(CheckoutOrderComplete);\r\n","/*\r\n  Author: Trang Nguyen, Thinh Thai\r\n  Note: The user will be redirected to this page\r\n    after they cancel a payment\r\n*/\r\n\r\nimport { Link } from 'react-router-dom'; \r\nimport React, { useEffect } from 'react';\r\nimport { CloseCircleFilled } from '@ant-design/icons';\r\nimport { Row } from 'antd';\r\n\r\nconst PaymentCancelled = () =>{\r\n  // clean up when component mounts\r\n  useEffect(() => {\r\n    localStorage.removeItem('address');\r\n    localStorage.removeItem('email');\r\n  }, [])\r\n\r\n    return (\r\n      <>\r\n        <div className=\"page-title-holder fill\">\r\n          <h2>Payment canceled</h2>\r\n        </div>\r\n        <div style={{textAlign: \"center\"}} >\r\n          <br/>\r\n          <Row justify=\"space-around\" align=\"middle\" >\r\n            <p>\r\n              <CloseCircleFilled style={{ fontSize: '400%', color: '#EB6E00'}} />\r\n            </p>\r\n          </Row>\r\n          \r\n          <Row justify=\"space-around\" align=\"middle\" >\r\n            <p>Your have cancelled the payment.</p>\r\n          </Row>\r\n          <Row justify=\"space-around\" align=\"middle\" >\r\n            <p>Please click <Link to=\"/\" >here</Link> to continue shopping.</p>\r\n          </Row>\r\n        </div>\r\n      </>\r\n    )\r\n}\r\n\r\nexport default PaymentCancelled\r\n","import { Button, Descriptions } from 'antd';\r\n\r\nconst OrderView = props => {\r\n    \r\n    if(props.order === null) return <></>\r\n\r\n    const date = new Date(props.order.issued_date);\r\n\r\n    const itemRow = props.order.items.map((item, index) => {\r\n        return (\r\n            <tr key={index}>\r\n                <td>{item.item_code}</td>\r\n                <td>{item.quantity}</td>\r\n                <td><textarea id=\"manage-order-details-panel-special-spec\" disabled>{item.special_requirements}</textarea></td>   \r\n            </tr>\r\n        ); \r\n    })\r\n\r\n    return (\r\n        <>\r\n            <div className=\"container box-shadow\" id=\"manage-order-details-panel\">\r\n                <Button onClick={() => {\r\n                    props.setCurrentOrder(null);\r\n                    props.setPage(0);\r\n                }}>Back to Orders</Button>\r\n                <Descriptions title={<h3>Order Details</h3>}>\r\n                    <Descriptions.Item label=\"Purchase Order Number\">{props.order.po_number}</Descriptions.Item>\r\n                    <Descriptions.Item label=\"Customer Email\">{props.order.c_email}</Descriptions.Item>\r\n                    <Descriptions.Item label=\"Issue Date\">{`${date.getDate()}/${date.getMonth() + 1}/${date.getFullYear()}`}</Descriptions.Item>\r\n                    <Descriptions.Item label=\"Status\">{props.order.status}</Descriptions.Item>\r\n                    <Descriptions.Item label=\"Carrier\">{props.order.carrier}</Descriptions.Item>\r\n                    <Descriptions.Item label=\"Tracking Number\">{props.order.tracking_number}</Descriptions.Item>\r\n                    <Descriptions.Item label=\"Address Line 1\">{props.order.address.po_address_line1}</Descriptions.Item>\r\n                    <Descriptions.Item label=\"Address Line 2\">{props.order.address.po_address_line2}</Descriptions.Item>\r\n                    <Descriptions.Item label=\"Attention To\">{props.order.address.po_attention_to}</Descriptions.Item>\r\n                    <Descriptions.Item label=\"Suburb\">{props.order.address.po_suburb}</Descriptions.Item>\r\n                    <Descriptions.Item label=\"State\">{props.order.address.po_state}</Descriptions.Item>\r\n                    <Descriptions.Item label=\"Post Code\">{props.order.address.po_postal_code}</Descriptions.Item>\r\n                    <Descriptions.Item label=\"Country\">{props.order.address.po_country}</Descriptions.Item>\r\n                </Descriptions>\r\n                <div className=\"table-container\">\r\n                    <table className=\"center-content\">\r\n                        <thead>\r\n                            <tr>\r\n                                <th>Item Code</th> \r\n                                <th>Quantity</th>\r\n                                <th>Special Requirements</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            {itemRow}\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n            </div>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default OrderView;","import { useEffect, useState } from \"react\";\r\nimport { Select, Button, Pagination, Spin } from 'antd';\r\nimport axios from 'axios';\r\nimport { filterOrders, sortOrders } from './Functions';\r\nimport { orderStatusConstants } from '../../_constants/orderStatus.constants';\r\nimport OrderView from './OrderView';\r\n\r\nconst {OptGroup, Option} = Select;\r\nconst itemsPerPage = 10;\r\n\r\nconst mockEmail = \"its488@uowmail.edu.au\";\r\n\r\nconst ManageOrdersCustomer = () => {\r\n\r\n    const [orders, setOrders] = useState([]);\r\n    const [ordersOriginal, setOrdersOriginal] = useState([]);\r\n    const [currentOrder, setCurrentOrder] = useState(null);\r\n    const [loading, setLoading] = useState(false);\r\n    const [error, setError] = useState(false);\r\n    const [noOrders, setNoOrders] = useState(false);\r\n    const [page, setPage] = useState(0);\r\n\r\n    const maxNumberOfPages = (Math.ceil(orders.length/itemsPerPage) - 1);\r\n    let row = <></>;\r\n    let renderableProducts = []\r\n\r\n\r\n    const onPageChange = p => { setPage(p - 1) };\r\n\r\n    useEffect(() => {\r\n        if(!orders.length){\r\n            setLoading(true);\r\n\r\n            axios.post('api/orders/order-by-email', { email: mockEmail })\r\n            .then(res => {\r\n                if(res.data.hasOwnProperty('success')){\r\n                    console.log(res);\r\n                    setNoOrders(true);\r\n                    setLoading(false);\r\n                } \r\n                else{\r\n                    const sortedOrders = res.data.sort((a,b) => { return new Date(b.issued_date) - new Date(a.issued_date)});\r\n                    setOrders(sortedOrders);\r\n                    setOrdersOriginal(sortedOrders);\r\n                    setLoading(false);\r\n                }\r\n            })\r\n            .catch(err => {\r\n                console.log(err);\r\n                setError(true);\r\n                setLoading(false);\r\n            });\r\n        }\r\n    }, [orders.length])\r\n\r\n\r\n    if(orders.length !== 0){\r\n        renderableProducts = orders.slice( page * itemsPerPage, \r\n            ((page + 1) * itemsPerPage) > orders.length ? orders.length : ((page + 1) * itemsPerPage));\r\n        \r\n        row = renderableProducts.map(o => {\r\n            const date = new Date(o.issued_date);\r\n            const dateString = `${date.getDate()}/${date.getMonth() + 1}/${date.getFullYear()}`\r\n\r\n            return (\r\n                <tr key = {o._id}>\r\n                    <td>{o.po_number}</td>\r\n                    <td><strong>{o.status}</strong></td>\r\n                    <td>{dateString}</td>\r\n                    <td><strong>{(o.tracking_number === null || (o.tracking_number !== null && o.tracking_number.length === 0)) ? <em>Not Available</em> : o.tracking_number}</strong></td>\r\n                    <td>{(o.carrier === null || (o.carrier !== null && o.carrier.length === 0)) ? <em>Not Available</em> : o.carrier}</td>\r\n                    <td>\r\n                        <Button type=\"secondary\" onClick={() => {setCurrentOrder(o);}}> View Order Details </Button>\r\n                    </td>\r\n                </tr>\r\n            );\r\n        });\r\n    }\r\n   \r\n    return (\r\n        <>\r\n            <div className=\"page-title-holder fill\">\r\n                <h2>Manage Orders</h2>\r\n            </div>\r\n            {\r\n                currentOrder === null ?\r\n                <>\r\n                    <div className=\"container flex-horizontal-box-container\">\r\n                        <Select className=\"box-item-xs-6 box-item-sm-4 box-item-md-4 box-item-lg-4 box-item-xl-3\" placeholder=\"Filter By\" onSelect={ v => {\r\n                            filterOrders(v, ordersOriginal, setOrders);\r\n                            setPage(0);\r\n                        }}>\r\n                                <Option value={orderStatusConstants.NEW}>New</Option>\r\n                                <Option value={orderStatusConstants.SHIPPED}>Shipped</Option>\r\n                                <Option value={orderStatusConstants.COMPLETE}>Complete</Option>\r\n                        </Select>\r\n                        <Select className=\"box-item-xs-6 box-item-sm-4 box-item-md-4 box-item-lg-4 box-item-xl-3\" placeholder=\"Order By\" onSelect={ v => {\r\n                            sortOrders(v, orders, setOrders);\r\n                            setPage(0);\r\n                        }}>\r\n                            <OptGroup label=\"Data Issued\">\r\n                                <Option value=\"d_decending\">Latest</Option>\r\n                                <Option value=\"d_ascending\">Earliest</Option>\r\n                            </OptGroup>\r\n                        </Select>\r\n                        <Button className=\"box-item-xs-3 box-item-sm-4 box-item-md-3 box-item-lg-2 box-item-xl-2\" type=\"secondary\" onClick={() => {\r\n                            setOrders(ordersOriginal);\r\n                        }}>Reset Filters</Button>\r\n                    </div>\r\n\r\n                    <div className=\"container table-container\">\r\n                        {\r\n                            loading \r\n                            ? <div style = {{textAlign: 'center'}}><Spin size='large'/></div> \r\n                            : error\r\n                            ? <h1 style = {{textAlign: 'center', color: 'red'}}>Could not load data, please try refreshing page</h1>\r\n                            : noOrders\r\n                            ? <h1 style = {{textAlign: 'center', color: 'green'}}>You have no current order history</h1>\r\n                            :\r\n                            <table className=\"box-shadow center-content\">\r\n                                <thead>\r\n                                    <tr>\r\n                                        <th>PO Number</th>\r\n                                        <th>Status</th> \r\n                                        <th>Date Issued</th>\r\n                                        <th>Tracking Number</th> \r\n                                        <th>Carrier</th>\r\n                                        <th>Actions</th>\r\n                                    </tr>\r\n                                </thead>\r\n                                <tbody>\r\n                                    {row}\r\n                                </tbody>\r\n                            </table>\r\n                        }\r\n                    </div>\r\n                    <Pagination current={page + 1} defaultCurrent={1} total={(maxNumberOfPages + 1) * 10} onChange={onPageChange} className=\"text-center\"/>\r\n                </>\r\n                :   <OrderView order={currentOrder} setCurrentOrder={setCurrentOrder} setPage={setPage}/>\r\n            }\r\n        </>\r\n    );\r\n}\r\n\r\nexport default ManageOrdersCustomer;","export const sortOrders = (value, orders, setOrders) => {\r\n    if(value === \"d_decending\"){\r\n        const sortedOrders = orders.sort((a,b) => { return new Date(b.issued_date) - new Date(a.issued_date)});\r\n        setOrders([...sortedOrders]);\r\n    }\r\n    else{\r\n        const sortedOrders = orders.sort((a,b) => { return new Date(a.issued_date) - new Date(b.issued_date)});\r\n        setOrders([...sortedOrders]);\r\n    }\r\n}\r\n\r\nexport const filterOrders = (status, orders, setOrders) => {\r\n    const filteredOrders = orders.filter(order => {\r\n        return order.status === status\r\n    });\r\n    setOrders(filteredOrders);\r\n}   ","import { orderStatusConstants } from '../../../_constants/orderStatus.constants';\r\n\r\nexport const setUndefinedValues = order => {\r\n    const newOrder = order;\r\n    if(newOrder.items){\r\n        for(let i = 0; i < newOrder.items.lenth; i++){\r\n            if(newOrder.items[i].special_requirements === undefined) newOrder.items[i].special_requirements = \"\";\r\n        }\r\n    }\r\n    else newOrder.items = [];\r\n\r\n    if(newOrder.tracking_number === undefined) newOrder.tracking_number = \"\";\r\n    if(newOrder.carrier === undefined) newOrder.carrier = \"\";\r\n\r\n    return newOrder;\r\n}\r\n\r\nexport const createAddress = values => {\r\n    let address = {};\r\n    address.po_address_line1 = values.po_address_line1;\r\n    address.po_address_line2 = values.po_address_line2;\r\n    address.po_attention_to = values.po_attention_to;\r\n    address.po_country = values.po_country;\r\n    address.po_postcode = values.po_postcode;\r\n    address.po_state = values.po_state;\r\n    address.po_suburb = values.po_suburb;\r\n    return address;\r\n}\r\n\r\nexport const createOrderAdd = (values, address) => {\r\n    let order = {};\r\n    order.c_email = values.c_email;\r\n    order.carrier = \"dsfsd\";\r\n    order.items = [...values.items];\r\n    order.status = orderStatusConstants.NEW;\r\n    order.tracking_number = \"sdfsdf\";\r\n    order.address = address;\r\n    return order;\r\n}\r\n\r\nexport const createOrderEdit = (values, address, orderOriginal) => {\r\n    let order = {};\r\n    order.po_number = values.po_number;\r\n    order.c_email = values.c_email;\r\n    order.carrier = values.carrier;\r\n    order.items = [...values.items];\r\n    order.status = values.status;\r\n    order.tracking_number = values.tracking_number;\r\n    order.address = address;\r\n    order.issued_date = orderOriginal.issued_date;\r\n    return order;\r\n}","//States which the page can be in\r\nconst MODE = {\r\n    EDIT:\"EDIT\",\r\n    VIEW:\"VIEW\",\r\n    ADD:\"ADD\"\r\n};\r\n\r\nexport default MODE;","import { Form, Input } from 'antd';\r\nimport { onlyNumbers } from '../../../../_services/SharedFunctions';\r\n\r\nconst NewItemForm = (props) => {\r\n    return(\r\n        <Form form={props.form} layout=\"vertical\" style={{fontWeight: \"bold\"}}>\r\n            <Form.Item \r\n                name='item_code' \r\n                label=\"Product Code\"\r\n                rules={[\r\n                    {\r\n                        whitespace: true,\r\n                        required: true,\r\n                        validateTrigger: 'onSubmit',\r\n                        message: 'Please input a product code',\r\n                    }\r\n                ]}\r\n            >\r\n                <Input maxLength={100}/>\r\n            </Form.Item>\r\n\r\n            <Form.Item \r\n                name='quantity' \r\n                label=\"Quantity\"\r\n                rules={[\r\n                    {\r\n                        required: true,\r\n                        validateTrigger: 'onSubmit',\r\n                        message: 'Please input a required quantity',\r\n                    },\r\n                    {\r\n                        validateTrigger: 'onSubmit',\r\n                        validator: async (_, value) => {\r\n                            if (Number(value) === 0){\r\n                                return Promise.reject(new Error(\"Cannot have value of 0\"));\r\n                            } \r\n                        }\r\n                    }\r\n                ]}  \r\n            >\r\n                <Input maxLength={4} onChange={e => onlyNumbers(e, props.form, \"quantity\",)} style={{width: \"50px\"}} />\r\n            </Form.Item>\r\n\r\n            <Form.Item \r\n                name='p_size' \r\n                label=\"Size\"\r\n                rules={[\r\n                    {\r\n                        whitespace: true,\r\n                        required: true,\r\n                        validateTrigger: 'onSubmit',\r\n                        message: 'Please input a product size',\r\n                    }\r\n                ]}\r\n            >\r\n                <Input maxLength={50} style={{width: \"100px\"}}/>\r\n            </Form.Item>\r\n\r\n            <Form.Item maxLength={200} name='special_requirements' label=\"Special Requirements\">\r\n                <Input/>\r\n            </Form.Item>\r\n        </Form>\r\n    );\r\n}\r\n\r\nexport default NewItemForm;","import { ExclamationCircleOutlined} from '@ant-design/icons';\r\nimport NewItemForm from '../Forms/NewItemForm/NewItemForm';\r\nimport { orderStatusConstants } from '../../../_constants/orderStatus.constants';\r\nimport { Modal } from 'antd';\r\nimport MODE from './PageConstants';\r\nimport { addIncompleteOrder } from '../../../_actions/incompleteOrderActions';\r\nimport { history } from '../../../_helpers/history';\r\nimport axios from 'axios';\r\nimport { \r\n    DELETE_INCOMPLETE_ORDERS, \r\n    ADD_INCOMPLETE_ORDER, \r\n    ADD_COMPLETE_ORDER, \r\n    DELETE_COMPLETE_ORDER, \r\n    EDIT_COMPLETE_ORDER, \r\n    EDIT_INCOMPLETE_ORDER \r\n} from '../../../_constants/actionTypes.constants';\r\nimport { _logout } from '../../../_services/SharedFunctions';\r\n\r\n\r\n\r\n\r\n//Appears when confirming a delete on a PO item\r\nexport const showDeleteConfirm = (index, deleteOrderItem) => {\r\n    Modal.confirm({\r\n        title: 'Warning!',\r\n        icon: <ExclamationCircleOutlined />,\r\n        content: 'Are you sure you want to delete this item from this order?',\r\n        okText: 'Delete',\r\n        cancelText: 'No',\r\n\r\n        onOk() { deleteOrderItem(index) }\r\n    });\r\n}\r\n\r\n//Appears when confirming a delete on a PO item\r\nexport const showUndo = (form, orderOriginal, setOrder, mode) => {\r\n\r\n    Modal.confirm({\r\n        title: 'Warning!',\r\n        icon: <ExclamationCircleOutlined />,\r\n        content: 'Are you sure you want to undo changes',\r\n        okText: 'Yes',\r\n        cancelText: 'No',\r\n\r\n        onOk() { \r\n            if(mode === MODE.ADD){\r\n                form.resetFields();\r\n                setOrder(orderOriginal); \r\n            } \r\n            else{\r\n                form.setFieldsValue(orderOriginal);\r\n                form.setFieldsValue(orderOriginal.address);\r\n                setOrder(orderOriginal); \r\n            }\r\n        }\r\n    });\r\n}\r\n\r\n//Appears if user tries to submit order with no items\r\nexport const showNoItemsPresent = setNewItemFormVisible => {\r\n    Modal.confirm({\r\n        title: 'Error!',\r\n        icon: <ExclamationCircleOutlined />,\r\n        content: 'You must have at least one item in an order',\r\n        okText: 'Add Item',\r\n        cancelText: 'Back',\r\n\r\n        onOk() { setNewItemFormVisible(true) }\r\n    });\r\n}\r\n\r\n//Appears when email can't be found in PO form part 1\r\nexport const emailDoesNotExist = () => {\r\n    Modal.info({\r\n        title: 'Email does not exist',\r\n        content: <p>You can create a termporary customer by entering new details</p>\r\n    });\r\n}\r\n\r\n//Modal/form for adding new items to the PO\r\nexport const AddItemModal = props => {\r\n    //adds an item after validating and updates the state\r\n    const addItem = () => {\r\n        props.form.validateFields()\r\n            .then(new_item => {\r\n\r\n               // new_item.item_name = getItemName(new_item.item_code);\r\n                const new_items = [...props.order.items];\r\n                new_items.unshift(new_item);\r\n\r\n                const new_order = {...props.order};\r\n                new_order.items = new_items;\r\n\r\n                props.setOrder(new_order);\r\n                props.setNewItemFormVisible(false);\r\n                props.form.resetFields();\r\n            })\r\n            .catch((errorInfo) => {\r\n                console.log(errorInfo);\r\n            })\r\n    }\r\n\r\n    //resets the fields of the addItem form\r\n    const cancelAddItem = () => {\r\n        props.form.resetFields();\r\n        props.setNewItemFormVisible(false);\r\n    }\r\n\r\n    return(\r\n        <Modal title=\"Add Item\" visible={props.visible} onOk={addItem} onCancel={cancelAddItem}>\r\n            <NewItemForm form={props.form} />\r\n        </Modal>\r\n    );\r\n}   \r\n\r\nexport const _addIncompleteOrder = (order, dispatch) => {\r\n    Modal.confirm({\r\n        title: 'Add Order?',\r\n        icon: <ExclamationCircleOutlined />,\r\n        content: 'Are you sure you want to add this order?',\r\n        okText: 'Yes',\r\n        cancelText: 'No',\r\n\r\n        onOk() { \r\n            if(dispatch !== undefined){\r\n                return dispatch(addIncompleteOrder(order))\r\n                .then(res => {\r\n                    if(res.data.success) addSuccess();\r\n                    else addFail();\r\n                })\r\n                .catch(() => {\r\n                    addFail();\r\n                })\r\n            }\r\n            else{\r\n                axios.post('/api/orders/create-order', order)\r\n                .then(res => {\r\n                    if(res.data.success) addSuccess();\r\n                    else{\r\n                        console.log(res);\r\n                        addFail();\r\n                    } \r\n                })\r\n                .catch(err => {\r\n                    console.log(err);\r\n                    addFail();\r\n                });\r\n            }\r\n        }\r\n    });\r\n}\r\n\r\nconst addSuccess = () => {\r\n    Modal.info({\r\n        title: \"Add Successful\",\r\n        content: 'Successfully added order',\r\n        okText: \"Ok\",\r\n        onOk(){ history.push('/admin') }\r\n    });\r\n}\r\n\r\n\r\nconst addFail = () => {\r\n    Modal.info({\r\n        title: \"ERROR\",\r\n        content: 'There was a problem adding this order. Please try again or contact support.',\r\n        okText: \"Ok\",\r\n        onOk(){ \r\n            history.push('/order');\r\n            window.location.reload();\r\n        }\r\n    });\r\n}\r\n\r\nexport const _editOrder = (order, dispatch, prev, curr, completeLength, incompleteLength, setOrder, setOrderOriginal, setMode, access_token, updateAuth) => {\r\n    const config = { headers:{ authorization : `Bearer ${access_token}` }};\r\n\r\n    Modal.confirm({\r\n        title: 'Edit Order?',\r\n        icon: <ExclamationCircleOutlined />,\r\n        content: 'Are you sure you want to edit this order?',\r\n        okText: 'Yes',\r\n        cancelText: 'No',\r\n        onOk() { \r\n            return axios.post('/api/orders/edit-order', order, config)\r\n            .then(res => {\r\n                if(res.data.success){\r\n                    if((prev === orderStatusConstants.NEW || prev === orderStatusConstants.SHIPPED) && curr === orderStatusConstants.COMPLETE){\r\n                        //then remove from current order list... add to complete order list\r\n                        if(incompleteLength > 0){\r\n                            //remove\r\n                            dispatch({\r\n                                type: DELETE_INCOMPLETE_ORDERS,\r\n                                payload: order.po_number\r\n                            });\r\n                        }\r\n                        if(completeLength > 0){\r\n                            //add\r\n                            dispatch({\r\n                                type: ADD_COMPLETE_ORDER,\r\n                                payload: order\r\n                            });\r\n                        }\r\n                    }\r\n                    else if(prev === orderStatusConstants.COMPLETE && (curr === orderStatusConstants.SHIPPED || curr === orderStatusConstants.NEW)){\r\n                        //remove from complete order list and add to current order list\r\n                        if(incompleteLength > 0){\r\n                            //add to current list\r\n                            dispatch({\r\n                                type: ADD_INCOMPLETE_ORDER,\r\n                                payload: order\r\n                            });\r\n                        }\r\n                        if(completeLength > 0){\r\n                            dispatch({\r\n                                type: DELETE_COMPLETE_ORDER,\r\n                                payload: order.po_number\r\n                            });\r\n                        }\r\n                    }\r\n                    else if((curr === orderStatusConstants.SHIPPED || curr === orderStatusConstants.NEW) \r\n                    && (prev === orderStatusConstants.SHIPPED || prev === orderStatusConstants.NEW)){\r\n                        //need to replace in current order\r\n                        if(incompleteLength > 0){\r\n                            dispatch({\r\n                                type: EDIT_INCOMPLETE_ORDER,\r\n                                payload: order\r\n                            });\r\n                        }\r\n                    }\r\n                    else{\r\n                        //need to replace in complete orders\r\n                        if(completeLength > 0){\r\n                            dispatch({\r\n                                type: EDIT_COMPLETE_ORDER,\r\n                                payload: order\r\n                            });\r\n                        }\r\n                    }\r\n                    setOrder(order);\r\n                    setOrderOriginal(order);\r\n                    setMode(MODE.VIEW);\r\n                    editSuccess(order);\r\n                }\r\n                else{\r\n                    console.log(res);\r\n                    editFail();\r\n                }\r\n            })\r\n            .catch(err => {\r\n                console.log(err);\r\n                if(err.response.status === 401) _logout(updateAuth);\r\n                else editFail();\r\n            });\r\n        }\r\n    });\r\n}\r\n\r\nconst editSuccess = order => {\r\n    Modal.info({\r\n        title: \"Edit Successful\",\r\n        content: 'Successfully edited order',\r\n        okText: \"Ok\",\r\n        onOk(){\r\n            history.push(`/order/${order.po_number}/${order.status}`);\r\n        }\r\n    });\r\n}\r\n\r\n\r\nconst editFail = () => {\r\n    Modal.info({\r\n        title: \"ERROR\",\r\n        content: 'There was a problem editing this order. Please try again or contact support.',\r\n        okText: \"Ok\",\r\n        onOk(){ \r\n            history.push('/order');\r\n            window.location.reload();\r\n        }\r\n    });\r\n}","import MODE from '../../Helpers/PageConstants';\r\nimport { Form, Input } from 'antd';\r\nimport { DeleteOutlined } from '@ant-design/icons';\r\nimport { onlyNumbers } from '../../../../_services/SharedFunctions';\r\nimport { showDeleteConfirm } from '../../Helpers/Modals';\r\n\r\nconst POForm2 = props => {\r\n    /*const initialValues_form1 = {\r\n        po_number: props.orderOriginal.po_number,\r\n        c_email:  props.orderOriginal.c_email,\r\n        issued_date:  props.orderOriginal.issued_date,\r\n        status:  props.orderOriginal.status,\r\n        tracking_number:  props.orderOriginal.tracking_number,\r\n        carrier:  props.orderOriginal.carrier,\r\n        items: props.orderOriginal.items,\r\n        po_attention_to: props.orderOriginal.po_attention_to,\r\n        po_address_line1: props.orderOriginal.po_address_line1,\r\n        po_address_line2: props.orderOriginal.po_address_line2,\r\n        po_suburb: props.orderOriginal.po_suburb,\r\n        po_state: props.orderOriginal.po_state,\r\n        po_postcode: props.orderOriginal.po_postcode,\r\n        po_country: props.orderOriginal.po_country,\r\n        mobile_number: props.orderOriginal.mobile_number\r\n    }*/\r\n\r\n\r\n\r\n\r\n\r\n    //updates the order state when changes are made\r\n    const updateOrder = () => {\r\n        if(JSON.stringify(props.order.items) !== JSON.stringify(props.form.getFieldValue('items'))){\r\n            const temp_order = {...props.order};\r\n            temp_order.items = props.form.getFieldValue('items');\r\n            props.setOrder(temp_order);\r\n        }\r\n    }\r\n\r\n    //deletes specific order items\r\n    const deleteOrderItem = index => {\r\n        const new_items = [...props.order.items];\r\n        new_items.splice(index, 1);\r\n\r\n        const new_order = {...props.order};\r\n        new_order.items = new_items;\r\n        \r\n        props.setOrder(new_order);\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n    //Dynamic production of item forms\r\n    const itemRow = props.order.items.map((item, index) => {\r\n        return (\r\n            <tr key = {index} className=\"view-order-table-row\">\r\n                <td>\r\n                    {item.item_code}\r\n                    <Form.Item hidden name={['items', index, 'item_code']} ><Input /></Form.Item>\r\n                </td>\r\n\r\n                <td>\r\n                    {props.mode===MODE.EDIT || props.mode===MODE.ADD\r\n                        ?   <Form.Item \r\n                                name={['items', index, 'quantity']}\r\n                                rules={[\r\n                                    {\r\n                                        validateTrigger: 'onSubmit',\r\n                                        validator: async (_, value) => {\r\n                                            if (Number(value) === 0){\r\n                                                return Promise.reject(new Error(\"Please enter a value greater than 0\"));\r\n                                            } \r\n                                        }\r\n                                    }\r\n                                ]}  \r\n                            >\r\n                                <Input maxLength={4} onChange={e => onlyNumbers(e, props.form, \"items\", index, 'quantity')} style={{width: \"50px\"}} />\r\n                            </Form.Item>\r\n                        :   item.quantity                    \r\n                    } \r\n                </td>\r\n\r\n                <td>\r\n                    {props.mode===MODE.EDIT || props.mode===MODE.ADD\r\n                        ?   <Form.Item name ={['items', index, 'special_requirements']}>\r\n                                <Input.TextArea maxLength={500} style={{width: \"500px\"}} />\r\n                            </Form.Item>\r\n                        :   item.special_requirements\r\n                    } \r\n                </td>\r\n                <td>\r\n                    {props.mode===MODE.EDIT || props.mode===MODE.ADD\r\n                        ?   <Form.Item \r\n                                name ={['items', index, 'p_size']}\r\n                                rules={[\r\n                                    {\r\n                                        required: true,\r\n                                        message: \"Please input a size\"\r\n                                    }\r\n                                ]}\r\n                            >\r\n                                <Input maxLength={50} style={{width: \"100px\"}} />\r\n                            </Form.Item>\r\n                        :   item.p_size\r\n                    } \r\n                </td>\r\n                {props.mode===MODE.EDIT || props.mode===MODE.ADD\r\n                    ?   <td onClick={() => showDeleteConfirm(index, deleteOrderItem)}><DeleteOutlined className=\"view-order-icon\"/></td> \r\n                    :   <></>\r\n                }     \r\n            </tr>\r\n        ); \r\n    })\r\n\r\n\r\n\r\n\r\n\r\n    return(\r\n        <Form onBlur={updateOrder} form={props.form}>\r\n            <table id=\"view-order-table-wrapper\" className=\"center-content\">\r\n                <tbody>\r\n                    <tr style = {{border: \"solid black 1px\"}}>\r\n                        <th><span style={{color: 'red'}}>*</span>Item Code</th> \r\n                        <th><span style={{color: 'red'}}>*</span>Quantity</th>\r\n                        <th>Special Requirements</th>\r\n                        <th><span style={{color: 'red'}}>*</span>Size</th>\r\n                        {props.mode===MODE.EDIT || props.mode===MODE.ADD \r\n                            ?   <th onClick = {() => {props.onClick(true)}} className=\"view-order-icon\" style ={{fontSize: \"30px\"}}>+</th>\r\n                            : <></>\r\n                        }\r\n                    </tr>\r\n                    \r\n                   {itemRow}  \r\n                </tbody>\r\n            </table>\r\n        </Form>\r\n    )\r\n}\r\n\r\nexport default POForm2;","import MODE from '../../Helpers/PageConstants';\r\nimport { Form, Input, Select } from 'antd';\r\nimport { onlyNumbers } from '../../../../_services/SharedFunctions';\r\nimport { orderStatusConstants } from '../../../../_constants/orderStatus.constants';\r\n\r\n\r\n\r\n\r\nconst POForm1 = props => {\r\n    const date = new Date(props.orderOriginal.issued_date);\r\n    const date_S = `${date.getDate()}/${date.getMonth() + 1}/${date.getFullYear()}`;\r\n\r\n\r\n\r\n\r\n    //These update functions update the order state when edits are made\r\n    const updateOrderText = e => {\r\n        const field = e.target.id;\r\n        if(props.order[field] !== e.target.value){\r\n            const temp_order = {...props.order};\r\n            temp_order[field] = e.target.value;\r\n            props.setOrder(temp_order); \r\n        }      \r\n    }\r\n\r\n    const updateOrderSelect = value => {\r\n        const temp_order = {...props.order};\r\n        temp_order.status = value;\r\n        props.setOrder(temp_order); \r\n    }\r\n    \r\n\r\n\r\n\r\n    //First section of the form if in edit mode\r\n    const section_1_a = (\r\n        <>\r\n            <div className=\"view-order-field-header\">Purchase Order Number</div>\r\n            <div className=\"view-order-field-header\" style={{paddingBottom: \"20px\", fontWeight: \"normal\"}}>{props.order.po_number}</div>\r\n            <Form.Item hidden name=\"po_number\"><Input/></Form.Item>\r\n\r\n            <div className=\"view-order-field-header\">Issued Date</div>\r\n            <div className=\"view-order-field-header\" style={{paddingBottom: \"20px\", fontWeight: \"normal\"}}>{date_S}</div>\r\n\r\n            <div className=\"view-order-field-header\"><span style={{color: 'red'}}>*</span>Customer Email</div>\r\n            <Form.Item \r\n                name=\"c_email\"\r\n                rules={[\r\n                    {\r\n                        required: true,\r\n                        type: 'email',\r\n                        validateTrigger: 'onSubmit',\r\n                        message: 'Please enter a valid email'\r\n                    }\r\n                ]}\r\n            >\r\n                <Input \r\n                    onBlur={updateOrderText}\r\n                    maxLength={100} \r\n                    style={{width: \"500px\"}}\r\n                />  \r\n            </Form.Item>\r\n            \r\n            <div className=\"view-order-field-header\"><span style={{color: 'red'}}>*</span>Status</div>\r\n                <Form.Item\r\n                    name=\"status\" \r\n                    rules={[\r\n                        {\r\n                            required: true,\r\n                            validateTrigger: 'onSubmit',\r\n                            message: 'Please select order status',\r\n                        }\r\n                    ]}\r\n                >\r\n                    <Select onChange={updateOrderSelect} style={{width: \"500px\", textAlign: \"left\"}}>\r\n                        <Select.Option value=\"NEW\">New</Select.Option>                         \r\n                        <Select.Option value=\"SHIPPED\">Shipped</Select.Option>\r\n                        <Select.Option value=\"COMPLETE\">Complete</Select.Option>\r\n                    </Select>\r\n                </Form.Item>\r\n                \r\n                <div className=\"view-order-field-header\">Carrier</div>\r\n                <Form.Item \r\n                    name=\"carrier\"\r\n                    rules={[\r\n                        {\r\n                            whitespace: true,\r\n                            validateTrigger: 'onSubmit',\r\n                            message: 'Cannot contain white spaces',\r\n                        },\r\n                        {\r\n                            validator: async (_, value) => {\r\n                                if (props.order.status !== orderStatusConstants.NEW && (value === undefined || value === \"\")){\r\n                                    return Promise.reject(new Error('Only New orders can have empty carrier fields'));\r\n                                } \r\n                            }\r\n                        },\r\n                        {\r\n                            validator: async (_, value) => {\r\n                                if (props.order.status === orderStatusConstants.NEW && (value !== undefined && value !== \"\")){\r\n                                    return Promise.reject(new Error('Set status to \"Shipped\" or \"Complete\" if you wish to add carrier values'));\r\n                                } \r\n                            }\r\n                        }\r\n                ]}>\r\n                    <Input onBlur={updateOrderText} maxLength={100} style={{width: \"500px\"}}/>\r\n                    </Form.Item>  \r\n\r\n                <div className=\"view-order-field-header\">Tracking Number</div>\r\n                <Form.Item \r\n                    name=\"tracking_number\"\r\n                    rules={[\r\n                        {\r\n                            whitespace: true,\r\n                            validateTrigger: 'onSubmit',\r\n                            message: 'Cannot contain white spaces',\r\n                        },\r\n                        {\r\n                            validator: async (_, value) => {\r\n                                if (props.order.status !== orderStatusConstants.NEW && (value === undefined || value === \"\")){\r\n                                    return Promise.reject(new Error('Only New orders can have empty tracking number fields'));\r\n                                } \r\n                            }\r\n                        },\r\n                        {\r\n                            validator: async (_, value) => {\r\n                                if (props.order.status === orderStatusConstants.NEW && (value !== undefined && value !== \"\")){\r\n                                    return Promise.reject(new Error('Set status to \"Shipped\" or \"Complete\" if you wish to add tracking values'));\r\n                                } \r\n                            }\r\n                        }\r\n                ]}>\r\n                    <Input onBlur={updateOrderText} maxLength={100} style={{width: \"500px\"}}/>\r\n            </Form.Item>\r\n        </>\r\n    );\r\n    \r\n    //First section of the form if in add mode\r\n    const section_1_b = (\r\n        <>\r\n            <div className=\"view-order-field-header\"><span style={{color: 'red'}}>*</span>Customer Email</div>\r\n            <Form.Item \r\n                name=\"c_email\"\r\n                rules={[\r\n                    {\r\n                        required: true,\r\n                        type: 'email',\r\n                        validateTrigger: 'onSubmit',\r\n                        message: 'Please enter a valid email'\r\n                    }\r\n                ]}\r\n            >\r\n                <Input \r\n                    onBlur={updateOrderText}\r\n                    maxLength={100} \r\n                    style={{width: \"500px\"}}\r\n                />  \r\n            </Form.Item>\r\n        </>\r\n    );\r\n\r\n\r\n\r\n\r\n\r\n    return(\r\n        <>\r\n            <div className=\"view-order-column\">\r\n                <Form form = {props.form} >\r\n                    {props.mode === MODE.EDIT   ?   section_1_a   :   <></>}\r\n                    {props.mode === MODE.ADD    ?   section_1_b   :   <></>}\r\n\r\n                    \r\n                        \r\n                </Form>\r\n            </div>\r\n\r\n            <div className=\"view-order-column\">\r\n                <Form onBlur={updateOrderText} form={props.form} >\r\n                    <div className=\"view-order-field-header\"><span style={{color: 'red'}}>*</span>Address Line 1</div>\r\n                    <Form.Item \r\n                        name=\"po_address_line1\"\r\n                        rules={[\r\n                            {\r\n                                whitespace: true,\r\n                                required: true,\r\n                                validateTrigger: 'onSubmit',\r\n                                message: 'Please input an address',\r\n                            }\r\n                        ]}\r\n                    >\r\n                        <Input maxLength={200} style={{width: \"500px\"}} />\r\n                    </Form.Item>\r\n\r\n                    <div className=\"view-order-field-header\"><span style={{color: 'red'}}>*</span>Address Line 2</div>\r\n                    <Form.Item \r\n                        name=\"po_address_line2\"\r\n                        rules={[\r\n                            {\r\n                                whitespace: true,\r\n                                required: true,\r\n                                validateTrigger: 'onSubmit',\r\n                                message: 'Please input an address',\r\n                            }\r\n                        ]}\r\n                    >\r\n                        <Input maxLength={200} style={{width: \"500px\"}} />\r\n                    </Form.Item>\r\n\r\n                    <div className=\"view-order-field-header\"><span style={{color: 'red'}}>*</span>Attention to</div>\r\n                    <Form.Item \r\n                        name=\"po_attention_to\"\r\n                        rules={[\r\n                            {\r\n                                whitespace: true,\r\n                                required: true,\r\n                                validateTrigger: 'onSubmit',\r\n                                message: 'Please input Attention to',\r\n                            }\r\n                        ]}\r\n                    >\r\n                        <Input maxLength={200} style={{width: \"500px\"}} />\r\n                    </Form.Item>\r\n\r\n                    <div className=\"view-order-field-header\"><span style={{color: 'red'}}>*</span>Suburb</div>\r\n                    <Form.Item \r\n                        name=\"po_suburb\"\r\n                        rules={[\r\n                            {\r\n                                whitespace: true,\r\n                                required: true,\r\n                                validateTrigger: 'onSubmit',\r\n                                message: 'Please input a suburb',\r\n                            }\r\n                        ]}\r\n                    >\r\n                        <Input maxLength={100} style={{width: \"500px\"}} />\r\n                    </Form.Item>\r\n\r\n                    <div className=\"view-order-field-header\"><span style={{color: 'red'}}>*</span>State</div>\r\n                    <Form.Item \r\n                        name=\"po_state\"\r\n                        rules={[\r\n                            {\r\n                                whitespace: true,\r\n                                required: true,\r\n                                validateTrigger: 'onSubmit',\r\n                                message: 'Please input a state',\r\n                            }\r\n                        ]}\r\n                    >\r\n                        <Input maxLength={100} style={{width: \"500px\"}} />\r\n                    </Form.Item>\r\n\r\n                    <div className=\"view-order-field-header\"><span style={{color: 'red'}}>*</span>Post Code</div>\r\n                    <Form.Item \r\n                        name=\"po_postcode\"\r\n                        rules={[\r\n                            {\r\n                                whitespace: true,\r\n                                required: true,\r\n                                validateTrigger: 'onSubmit',\r\n                                message: 'Please input a postal code',\r\n                            }\r\n                        ]}\r\n                    >                                                   \r\n                        <Input onChange={e => onlyNumbers(e, props.form, \"po_postcode\",)} maxLength={100} style={{width: \"500px\"}} />\r\n                    </Form.Item>\r\n\r\n                    <div className=\"view-order-field-header\"><span style={{color: 'red'}}>*</span>Country</div>\r\n                    <Form.Item \r\n                        name=\"po_country\"\r\n                        rules={[\r\n                            {   \r\n                                whitespace: true,\r\n                                required: true,\r\n                                validateTrigger: 'onSubmit',\r\n                                message: 'Please input a country',\r\n                            }\r\n                        ]}\r\n                    >\r\n                        <Input maxLength={100} style={{width: \"500px\"}} />\r\n                    </Form.Item>\r\n                </Form>\r\n            </div>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default POForm1;","const POForm1View = props => {\r\n    const date = new Date(props.order.issued_date);\r\n    return (\r\n        <>  \r\n            <div className=\"view-order-column\">\r\n                <div className=\"view-order-field-header\">Purchase Order Number</div>\r\n                <div className=\"view-order-field-header\" style={{paddingBottom: \"20px\", fontWeight: \"normal\"}}>{props.order.po_number}</div>\r\n\r\n                <div className=\"view-order-field-header\">Customer Email</div>\r\n                <div className=\"view-order-field-header\" style={{paddingBottom: \"20px\", fontWeight: \"normal\"}}>{props.order.c_email}</div>\r\n\r\n                <div className=\"view-order-field-header\">Issue Date</div>\r\n                <div className=\"view-order-field-header\" style={{paddingBottom: \"20px\", fontWeight: \"normal\"}}>{`${date.getDate()}/${date.getMonth() + 1}/${date.getFullYear()}`}</div>\r\n\r\n                <div className=\"view-order-field-header\">Status</div>\r\n                <div className=\"view-order-field-header\" style={{paddingBottom: \"20px\", fontWeight: \"normal\"}}>{props.order.status}</div>\r\n\r\n                <div className=\"view-order-field-header\">Carrier</div>\r\n                <div className=\"view-order-field-header\" style={{paddingBottom: \"20px\", fontWeight: \"normal\"}}>{props.order.carrier}</div>\r\n\r\n                <div className=\"view-order-field-header\">Tracking Number</div>\r\n                <div className=\"view-order-field-header\" style={{paddingBottom: \"20px\", fontWeight: \"normal\"}}>{props.order.tracking_number}</div>\r\n            </div>\r\n                <div className=\"view-order-column\">\r\n\r\n                <div className=\"view-order-field-header\">Address Line 1</div>\r\n                <div className=\"view-order-field-header\" style={{paddingBottom: \"20px\", fontWeight: \"normal\"}}>{props.order.address.po_address_line1}</div>\r\n\r\n                <div className=\"view-order-field-header\">Address Line 2</div>\r\n                <div className=\"view-order-field-header\" style={{paddingBottom: \"20px\", fontWeight: \"normal\"}}>{props.order.address.po_address_line2}</div>\r\n\r\n                <div className=\"view-order-field-header\">Attention To</div>\r\n                <div className=\"view-order-field-header\" style={{paddingBottom: \"20px\", fontWeight: \"normal\"}}>{props.order.address.po_attention_to}</div>\r\n\r\n                <div className=\"view-order-field-header\">Suburb</div>\r\n                <div className=\"view-order-field-header\" style={{paddingBottom: \"20px\", fontWeight: \"normal\"}}>{props.order.address.po_suburb}</div>\r\n\r\n                <div className=\"view-order-field-header\">State</div>\r\n                <div className=\"view-order-field-header\" style={{paddingBottom: \"20px\", fontWeight: \"normal\"}}>{props.order.address.po_state}</div>\r\n\r\n                <div className=\"view-order-field-header\">Post Code</div>\r\n                <div className=\"view-order-field-header\" style={{paddingBottom: \"20px\", fontWeight: \"normal\"}}>{props.order.address.po_postcode}</div>\r\n\r\n                <div className=\"view-order-field-header\">Country</div>\r\n                <div className=\"view-order-field-header\" style={{paddingBottom: \"20px\", fontWeight: \"normal\"}}>{props.order.address.po_country}</div>\r\n            </div>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default POForm1View;","import '../../_assets/CSS/pages/Order/Order.css';\r\nimport { Form, Button } from 'antd';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { useParams } from 'react-router-dom';\r\nimport { setUndefinedValues } from './Helpers/Functions';\r\nimport { useState, useEffect } from 'react';\r\nimport { orderStatusConstants } from '../../_constants/orderStatus.constants';\r\nimport { useAuth, useAuthUpdate } from '../../SharedComponents/AuthContext/AuthContext';\r\nimport MODE from './Helpers/PageConstants';\r\nimport { showNoItemsPresent, AddItemModal, showUndo} from './Helpers/Modals';\r\nimport POForm2 from './Forms/POForm/POForm2';\r\nimport POForm1 from './Forms/POForm/POForm1';\r\nimport POForm1View from './Forms/POForm/POForm1View';\r\nimport axios from 'axios';\r\nimport { _addIncompleteOrder, _editOrder } from './Helpers/Modals';\r\nimport { createAddress, createOrderAdd, createOrderEdit } from './Helpers/Functions';\r\nimport { _logout } from '../../_services/SharedFunctions';\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nconst Order = () => {\r\n    const dispatch = useDispatch();\r\n    const updateAuth = useAuthUpdate();             //authorization data\r\n    const auth = useAuth();\r\n    const { po_number, status } = useParams();\r\n    const incompleteOrders = useSelector(state => state.incompleteOrdersState.incompleteOrders);\r\n    const compeletOrders = useSelector(state => state.completeOrdersState.completeOrders);\r\n    const [order, setOrder] = useState({items: []});\r\n    const [orderOriginal, setOrderOriginal] = useState(order);\r\n    const [mode, setMode] = useState(MODE.ADD);\r\n    const [newItemFormVisible, setNewItemFormVisible] = useState(false);\r\n    const [form_1] = Form.useForm();\r\n    const [form_2] = Form.useForm();\r\n\r\n\r\n    //for refreshing the item list\r\n    useEffect(() => {     \r\n        form_1.setFieldsValue({items: [...order.items]}); \r\n    });\r\n\r\n    useEffect(() => {\r\n        const config = { headers:{ authorization : `Bearer ${auth.access_token}` }};\r\n\r\n        if(status === orderStatusConstants.COMPLETE){\r\n            if(!incompleteOrders.length){\r\n                axios.post('/api/orders/single-order', { po_number: po_number }, config)\r\n                .then(res => {\r\n                    if(res.data.success !== false){\r\n                        let order = setUndefinedValues(res.data);\r\n                        setOrder(order);\r\n                        setOrderOriginal(order);\r\n                        setMode(MODE.VIEW);\r\n                    }\r\n                    else console.log(res);\r\n                })\r\n                .catch(err => {\r\n                    console.log(err);\r\n                    if(err.response.status === 401) _logout(updateAuth);\r\n                });\r\n            }\r\n            else{\r\n                let order = compeletOrders.find(o => {\r\n                    return o.po_number === po_number;\r\n                });\r\n                if(order !== undefined){\r\n                    order = setUndefinedValues(order);\r\n                    setOrder(order);\r\n                    setOrderOriginal(order);\r\n                    setMode(MODE.VIEW);\r\n                }\r\n            }\r\n        }\r\n        else if(status === orderStatusConstants.NEW || status === orderStatusConstants.SHIPPED){\r\n\r\n            if(!incompleteOrders.length){\r\n                axios.post('/api/orders/single-order', { po_number: po_number }, config)\r\n                .then(res => {\r\n                    if(res.data.success !== false){\r\n                        let order = setUndefinedValues(res.data);\r\n                        setOrder(order);\r\n                        setOrderOriginal(order);\r\n                        setMode(MODE.VIEW);\r\n                    }\r\n                    else console.log(res);\r\n                })\r\n                .catch(err => {\r\n                    console.log(err);\r\n                    if(err.response.status === 401) _logout(updateAuth);\r\n                });\r\n            }\r\n            else{\r\n                let order = incompleteOrders.find(o => {\r\n                    return o.po_number === po_number;\r\n                });\r\n       \r\n                if(order !== undefined){\r\n                    order = setUndefinedValues(order);\r\n                    setOrder(order);\r\n                    setOrderOriginal(order);\r\n                    setMode(MODE.VIEW);\r\n                }\r\n            }\r\n        }\r\n        \r\n    }, [compeletOrders, form_1, incompleteOrders, po_number, status, auth.access_token, updateAuth]);\r\n\r\n    \r\n    \r\n\r\n    //validates all of the form fields\r\n    const handleSubmit = () => {                  \r\n        if(order.items.length > 0){\r\n            form_1.validateFields()\r\n            .then(values => {\r\n                confirmSubmit(values);\r\n            })\r\n            .catch(errorInfo => {\r\n                console.log(errorInfo);\r\n            });\r\n        }\r\n        else showNoItemsPresent(setNewItemFormVisible);\r\n    }\r\n\r\n    //after validating fields, this function submits the forms\r\n    const confirmSubmit = values => {\r\n        const editedOrder = JSON.stringify(order) !== JSON.stringify(orderOriginal);\r\n        let address = createAddress(values);\r\n\r\n        if(mode===MODE.ADD){\r\n            let order = createOrderAdd(values, address);\r\n            console.log(order);\r\n            if(incompleteOrders.length > 0){\r\n                order.issued_date = new Date();\r\n                _addIncompleteOrder(order, dispatch);\r\n            }\r\n            else _addIncompleteOrder(order);\r\n        }\r\n        else if(mode===MODE.EDIT){\r\n            if(editedOrder){\r\n                let order = createOrderEdit(values, address, orderOriginal);\r\n                const prev = orderOriginal.status;\r\n                const curr = values.status;\r\n                _editOrder(order, dispatch, prev, curr, compeletOrders.length, incompleteOrders.length, setOrder, setOrderOriginal, setMode, auth.access_token, updateAuth);\r\n            }\r\n        }\r\n    }\r\n\r\n    //toggles the edit view\r\n    const toggleView = () => {\r\n        if(mode===MODE.VIEW){\r\n            setMode(MODE.EDIT);\r\n            form_1.setFieldsValue(order);\r\n            form_1.setFieldsValue(order.address);\r\n        } \r\n        else setMode(MODE.VIEW);\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n    //props for child components \r\n    const addItemModal_props = {\r\n        order: order,\r\n        setOrder: setOrder,\r\n        visible: newItemFormVisible,\r\n        setNewItemFormVisible: setNewItemFormVisible,\r\n        form: form_2\r\n    }\r\n\r\n    const form_1_props = {\r\n        order: order,\r\n        orderOriginal: orderOriginal,\r\n        mode: mode,\r\n        form: form_1,\r\n        setOrder: setOrder\r\n    }\r\n\r\n    const form_2_props = {\r\n        order: order,\r\n        orderOriginal: orderOriginal,\r\n        mode: mode,\r\n        form: form_1,\r\n        onClick: setNewItemFormVisible,\r\n        setOrder: setOrder\r\n    }\r\n\r\n    \r\n\r\n\r\n\r\n\r\n\r\n    //button for toggling edit mode\r\n    const toggleButton = (\r\n        <div style={{ margin: \"30px\", textAlign: \"center\"}}>\r\n            <Button onClick={toggleView} style={{width: \"500px\", fontWeight: \"bold\"}}>Toggle 'Edit' Mode</Button>\r\n        </div>\r\n    );\r\n    \r\n    //submit and undo buttons\r\n    const submitUndoButtons = (\r\n        <div style={{textAlign: \"center\"}}>\r\n            <div>  \r\n                <Button type=\"primary\" onClick={() => {\r\n                    if(JSON.stringify(order) !== JSON.stringify(orderOriginal)) handleSubmit();\r\n                }} style={{width: \"500px\", fontWeight: \"bold\"}}>Submit Details</Button>\r\n            </div>\r\n            \r\n            <div style={{ paddingTop: \"30px\", paddingBottom: \"30px\"}}>\r\n                <Button onClick={() => { \r\n                    if(JSON.stringify(order) !== JSON.stringify(orderOriginal)) showUndo(form_1, orderOriginal, setOrder, mode);\r\n                }} style={{width: \"500px\", fontWeight: \"bold\"}}>Undo Changes</Button>\r\n            </div>\r\n        </div>\r\n    );\r\n    \r\n\r\n\r\n\r\n\r\n    //HTML Main\r\n    return (\r\n        <div>\r\n            {mode===MODE.EDIT || mode===MODE.VIEW   ?   toggleButton    :   <></>}\r\n\r\n            <h1 className=\"view-order-text\">Order Details</h1>\r\n\r\n            <div>\r\n                <div id=\"view-order-row\">\r\n                    {\r\n                        mode===MODE.EDIT || mode===MODE.ADD\r\n                        ? <><POForm1 {...form_1_props}/> {submitUndoButtons}</>\r\n                        : <POForm1View order={order}/>\r\n                    }\r\n                </div>\r\n\r\n                <h1 className=\"view-order-text\">Ordered Products</h1>\r\n\r\n                <div style = {{height: \"400px\", display: \"table\"}}>\r\n                   <POForm2 {...form_2_props}/>\r\n                </div>\r\n            </div>\r\n\r\n            <AddItemModal {...addItemModal_props} />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Order;\r\n\r\n\r\n","import { history } from '../../_helpers/history';\r\nimport { Input, Button, Form } from 'antd';\r\nimport { CheckCircleOutlined } from '@ant-design/icons';\r\nimport { useForm } from 'antd/lib/form/Form';\r\nimport { orderStatusConstants } from '../../_constants/orderStatus.constants';\r\nimport { addTracking } from '../../_actions/incompleteOrderActions';\r\nimport { _logout } from '../../_services/SharedFunctions';\r\n\r\nconst OrderRow = props => {\r\n    const o = props.order;\r\n    const dispatch = props.dispatch;\r\n    const access_token = props.access_token;\r\n    const updateAuth = props.updateAuth;\r\n\r\n    const [form_1] = useForm();\r\n    const [form_2] = useForm();\r\n\r\n    const date = new Date(o.issued_date);\r\n    const dateString = `${date.getDate()}/${date.getMonth()}/${date.getFullYear()}`;\r\n\r\n    const onFinish = () => {\r\n        const promise_1 = form_1.validateFields();\r\n        const promise_2 = form_2.validateFields();\r\n\r\n        Promise.all([promise_1, promise_2])\r\n        .then(values => {\r\n            const trackingDetails = { \r\n                tracking_number: values[0].tracking_number,\r\n                carrier: values[1].carrier,\r\n                po_number: o.po_number\r\n            }\r\n            dispatch(addTracking(trackingDetails, access_token, updateAuth))\r\n            .then(res => {\r\n                console.log(res)\r\n            })\r\n            .catch(err => {\r\n                console.log(err);\r\n                if(err.response.status === 401) _logout(updateAuth);\r\n            });\r\n        })\r\n        .catch(err => {\r\n            console.log(err);\r\n        })\r\n    }\r\n\r\n    return(\r\n        <>\r\n            <tr key = {o.po_number}>\r\n                <td>{o.po_number}</td>\r\n                <td>{o.c_email}</td>\r\n                <td>{o.status}</td>\r\n                <td>{dateString}</td>\r\n                {\r\n                    o.status === orderStatusConstants.NEW\r\n                    ?\r\n                    <>\r\n                        <td>\r\n                            <Form form = {form_1}>\r\n                                <Form.Item\r\n                                    name=\"tracking_number\"\r\n                                    rules={[\r\n                                        { required: true, \r\n                                            message: 'Invalid Input', \r\n                                            whitespace: true, \r\n                                            validateTrigger: 'onSubmit',\r\n                                            max: 100,\r\n                                        }\r\n                                    ]}>\r\n                                        <Input id={o.po_number} placeholder=\"Input Tracking Number\"/>\r\n                                </Form.Item>\r\n                            </Form>\r\n                        </td>\r\n\r\n                        <td>\r\n                            <Form form = {form_2}>\r\n                                    <Form.Item\r\n                                        name=\"carrier\"\r\n                                        rules={[\r\n                                            { required: true, \r\n                                                message: 'Invalid Input', \r\n                                                whitespace: true, \r\n                                                validateTrigger: 'onSubmit',\r\n                                                max: 100,\r\n                                            }\r\n                                        ]}>\r\n                                        <Input id={o.po_number} placeholder=\"Input Carrier of choice\"/>\r\n                                    </Form.Item>\r\n                            </Form>\r\n                        </td>\r\n\r\n                        <td>\r\n                            <Button type=\"primary\" onClick={onFinish}>Send</Button>\r\n                        </td>\r\n                    </>\r\n                    :\r\n                    <>\r\n                        <td><strong>{(o.tracking_number === null || (o.tracking_number !== null && o.tracking_number.length === 0)) ? <em>Not Available</em> : o.tracking_number}</strong></td>\r\n                        <td>{(o.carrier === null || (o.carrier !== null && o.carrier.length === 0)) ? <em>Not Available</em> : o.carrier}</td>\r\n                        <td>Details Sent <CheckCircleOutlined style = {{color: \"green\"}}/></td>\r\n                    </>\r\n                }\r\n                <td><Button type=\"secondary\" onClick={() => { history.push(`/order/${o.po_number}/${o.status}`); }}> View </Button></td>\r\n             </tr>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default  OrderRow;","import { Select, Pagination, Input, Button, Spin } from 'antd';\r\nimport React, { useState, useEffect } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { getIncompleteOrders } from '../../_actions/incompleteOrderActions';\r\nimport { handleOrder } from './Functions';\r\nimport { filterEmail } from '../../_services/SharedFunctions';\r\nimport OrderRow from './OrderRow';\r\nimport { useAuthUpdate, useAuth } from '../../SharedComponents/AuthContext/AuthContext';\r\n\r\nconst itemsPerPage = 10;\r\nconst { Option, OptGroup } = Select;\r\n\r\nconst CurrentOrders = () => {\r\n    const dispatch = useDispatch();\r\n    const updateAuth = useAuthUpdate();             //authorization data\r\n    const auth = useAuth();\r\n\r\n    const orders = useSelector(state => state.incompleteOrdersState.incompleteOrders);\r\n    const error = useSelector(state => state.incompleteOrdersState.error);\r\n    const loading = useSelector(state => state.incompleteOrdersState.loading);\r\n    const [ordersList, setOrdersList] = useState([]);             \r\n    const [page, setPage] = useState(0);\r\n    const maxNumberOfPages = (Math.ceil(ordersList.length/itemsPerPage) - 1);\r\n    let renderableProducts = [];\r\n    let row = <></>\r\n\r\n    useEffect(() => {\r\n        if(!orders.length) dispatch(getIncompleteOrders(auth.access_token, updateAuth));\r\n        else setOrdersList(orders);      \r\n    }, [orders.length, orders, dispatch, auth.access_token]);\r\n    \r\n    const onChange = p => { setPage(p - 1) };\r\n\r\n    if(orders.length !== 0){\r\n        renderableProducts = ordersList.slice( page * itemsPerPage, \r\n            ((page + 1) * itemsPerPage) > ordersList.length ? ordersList.length : ((page + 1) * itemsPerPage));\r\n        \r\n        row = renderableProducts.map((o) => {\r\n            const orderProps = {\r\n                order: o,\r\n                dispatch: dispatch,\r\n                access_token: auth.access_token,\r\n                updateAuth: updateAuth\r\n            }\r\n        \r\n            return (\r\n               <OrderRow key={o.po_number} {...orderProps}/>\r\n            );\r\n        });\r\n    }\r\n    \r\n    return (\r\n        <>\r\n            <div className=\"page-title-holder fill\">\r\n                <h2>Current Orders</h2>\r\n            </div>\r\n            <div className=\"container flex-horizontal-box-container\">\r\n                <Select placeholder=\"Order By\" className=\"box-item-xs-6 box-item-sm-4 box-item-md-4 box-item-lg-4 box-item-xl-3\" onChange={v => {\r\n                    handleOrder(v, ordersList, setOrdersList);\r\n                }}>\r\n                    <OptGroup label=\"Data Issued\">\r\n                        <Option value=\"d_decending\">Latest</Option>\r\n                        <Option value=\"d_ascending\">Earliest</Option>\r\n                    </OptGroup>\r\n                    <OptGroup label=\"Customer Email\">\r\n                        <Option value=\"c_ascending\">A-Z</Option>\r\n                        <Option value=\"c_decending\">Z-A</Option>\r\n                    </OptGroup>\r\n                    <OptGroup label=\"Carrier Name\">\r\n                        <Option value=\"cn_ascending\">A-Z</Option>\r\n                        <Option value=\"cn_decending\">Z-A</Option>\r\n                    </OptGroup>\r\n                </Select>\r\n                <Input.Search\r\n                    id=\"filter-box-customer-email\"\r\n                    className=\"box-item-xs-6 box-item-sm-4 box-item-md-4 box-item-lg-4 box-item-xl-3\"\r\n                    allowClear\r\n                    placeholder=\"Search Customer Email\"\r\n                    enterButton=\"Search\"\r\n                    onSearch={c_email => {\r\n                        if (c_email !== \"\") filterEmail(ordersList, c_email, setOrdersList);\r\n                    }}\r\n                />\r\n                <Button \r\n                    className=\"box-item-xs-3 box-item-sm-4 box-item-md-3 box-item-lg-2 box-item-xl-2\"\r\n                    type=\"secondary\"\r\n                    onClick={() => {\r\n                        setOrdersList(orders); document.getElementById(\"filter-box-customer-email\").value = \"\";\r\n                    }}>Reset Filters</Button>\r\n            </div>\r\n            <div className=\"container table-container\">\r\n                {loading ? <div style={{ textAlign: 'center' }}><Spin size='large' /></div> : \r\n                    error ? <h1 style={{ textAlign: 'center', color: 'red' }}> Could not load data, please try refreshing page </h1>:\r\n                        <table className=\"box-shadow center-content\">\r\n                            <thead>\r\n                                <tr>\r\n                                    <th>PO Number</th>\r\n                                    <th>Customer Email</th>\r\n                                    <th>Status</th>\r\n                                    <th>Date Issued</th>\r\n                                    <th>Tracking Number</th>\r\n                                    <th>Carrier</th>\r\n                                    <th>Send Tracking Details</th>\r\n                                    <th>View Order</th>\r\n                                </tr>\r\n                            </thead>\r\n                            <tbody>\r\n                                {row}\r\n                            </tbody>\r\n                        </table>\r\n                }\r\n            </div>\r\n            <Pagination current={page + 1} defaultCurrent={1} total={(maxNumberOfPages + 1) * 10} onChange={onChange} className=\"text-center\" />\r\n        </>\r\n    );\r\n}\r\n\r\nexport default CurrentOrders;"," //Handles ordering select input\r\n export const handleOrder = (order, orderList, setOrdersList) => {\r\n    switch(order){\r\n        case 'd_decending':{\r\n            const newList = [...orderList].sort((a,b) => { return new Date(b.issued_date) - new Date(a.issued_date)});\r\n            setOrdersList(newList);\r\n            break;\r\n        }\r\n        case 'd_ascending':{\r\n            const newList = [...orderList].sort((a,b) => { return new Date(a.issued_date) - new Date(b.issued_date)});\r\n            setOrdersList(newList);\r\n            break;\r\n        }\r\n        case 'c_ascending':{\r\n            const newList = [...orderList].sort((a,b) => (a.c_email > b.c_email) ? 1 : ((b.c_email > a.c_email) ? -1 : 0));\r\n            setOrdersList(newList);\r\n            break;\r\n        }\r\n        case 'c_decending':{\r\n            const newList = [...orderList].sort((a,b) => (a.c_email < b.c_email) ? 1 : ((b.c_email < a.c_email) ? -1 : 0));\r\n            setOrdersList(newList);\r\n            break;\r\n        }\r\n        case 'cn_ascending':{\r\n            const newList = [...orderList].sort((a,b) => (a.carrier > b.carrier) ? 1 : ((b.carrier > a.carrier) ? -1 : 0));\r\n            setOrdersList(newList);\r\n            break;\r\n        }\r\n        case 'cn_decending':{\r\n            const newList = [...orderList].sort((a,b) => (a.carrier < b.carrier) ? 1 : ((b.carrier < a.carrier) ? -1 : 0));\r\n            setOrdersList(newList);\r\n            break;\r\n        }\r\n        default: {\r\n            setOrdersList(orderList);\r\n        }\r\n    }\r\n}","import { emailNotFound } from './Modals';\r\n\r\nexport const filterEmail = (orders, c_email, setOrdersList) => {\r\n    const filteredOrders =  orders.filter(order => {\r\n        return order.c_email === c_email;\r\n    });\r\n\r\n    if(filteredOrders.length !== 0) setOrdersList(filteredOrders);\r\n    else emailNotFound();\r\n}\r\n\r\nexport const setOrder = (order, orderList, setOrdersList) => {\r\n    switch(order){\r\n        case 'd_decending':{\r\n            const newList = [...orderList].sort((a,b) => { return new Date(b.issued_date) - new Date(a.issued_date)});\r\n            setOrdersList(newList);\r\n            break;\r\n        }\r\n        case 'd_ascending':{\r\n            const newList = [...orderList].sort((a,b) => { return new Date(a.issued_date) - new Date(b.issued_date)});\r\n            setOrdersList(newList);\r\n            break;\r\n        }\r\n        case 'c_ascending':{\r\n            const newList = [...orderList].sort((a,b) => (a.c_email > b.c_email) ? 1 : ((b.c_email > a.c_email) ? -1 : 0));\r\n            setOrdersList(newList);\r\n            break;\r\n        }\r\n        case 'c_decending':{\r\n            const newList = [...orderList].sort((a,b) => (a.c_email < b.c_email) ? 1 : ((b.c_email < a.c_email) ? -1 : 0));\r\n            setOrdersList(newList);\r\n            break;\r\n        }\r\n        case 'cn_ascending':{\r\n            const newList = [...orderList].sort((a,b) => (a.carrier > b.carrier) ? 1 : ((b.carrier > a.carrier) ? -1 : 0));\r\n            setOrdersList(newList);\r\n            break;\r\n        }\r\n        case 'cn_decending':{\r\n            const newList = [...orderList].sort((a,b) => (a.carrier < b.carrier) ? 1 : ((b.carrier < a.carrier) ? -1 : 0));\r\n            setOrdersList(newList);\r\n            break;\r\n        }\r\n        default: {\r\n            setOrdersList(orderList);\r\n        }\r\n    }\r\n}","import { Modal } from 'antd';\r\n\r\nexport const emailNotFound = () => {\r\n    Modal.warning({\r\n        title: 'Email not found',\r\n        content: (\r\n            <div>\r\n                <p>Please check the spelling is correct</p>\r\n            </div>\r\n        ),\r\n        onOk() {},\r\n    });\r\n  }","import { Select, Pagination, Input, Button, Spin } from 'antd';\r\nimport { history } from '../../_helpers/history';\r\nimport { useState, useEffect } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { getCompleteOrders } from '../../_actions/completeOrderActions';\r\nimport { filterEmail, setOrder } from './Functions';\r\nimport { useAuthUpdate, useAuth } from '../../SharedComponents/AuthContext/AuthContext'; \r\n\r\nconst { Option, OptGroup } = Select;\r\n\r\nconst itemsPerPage = 10;\r\n\r\nconst ProcessedOrders = () => {\r\n    const dispatch = useDispatch();\r\n    const updateAuth = useAuthUpdate();             //authorization data\r\n    const auth = useAuth();\r\n\r\n    const orders = useSelector(state => state.completeOrdersState.completeOrders);\r\n    const error = useSelector(state => state.completeOrdersState.error);\r\n    const loading = useSelector(state => state.completeOrdersState.loading);\r\n\r\n    const [page, setPage] = useState(0);\r\n    const [ordersList, setOrdersList] = useState([]);\r\n\r\n    const maxNumberOfPages = (Math.ceil(orders.length/itemsPerPage) - 1);\r\n\r\n    let renderableProducts = [];\r\n    let row = <></>\r\n\r\n    useEffect(() => {\r\n        if(!orders.length) dispatch(getCompleteOrders(auth.access_token, updateAuth));\r\n        else setOrdersList(orders);      \r\n    }, [orders.length, orders, dispatch, auth.access_token, updateAuth]);\r\n    \r\n    const onChange = p => { setPage(p - 1) };\r\n\r\n    if(ordersList.length !== 0){\r\n        renderableProducts = ordersList.slice( page * itemsPerPage, \r\n            ((page + 1) * itemsPerPage) > ordersList.length ? ordersList.length : ((page + 1) * itemsPerPage));\r\n        \r\n            row = renderableProducts.map(o => {\r\n                const date = new Date(o.issued_date);\r\n                const dateString = `${date.getDate()}/${date.getMonth()}/${date.getFullYear()}`;\r\n                \r\n                return (\r\n                    <tr key = {o.po_number}>\r\n                        <td>{o.po_number}</td>\r\n                        <td>{o.c_email}</td>\r\n                        <td>{dateString}</td>\r\n                        <td><strong>{(o.tracking_number === null || (o.tracking_number !== null && o.tracking_number.length === 0)) ? <em>Not Available</em> : o.tracking_number}</strong></td>\r\n                        <td>{(o.carrier === null || (o.carrier !== null && o.carrier.length === 0)) ? <em>Not Available</em> : o.carrier}</td>\r\n                        <td><Button type=\"secondary\" onClick={() => {\r\n                            history.push(`/order/${o.po_number}/${o.status}`);\r\n                        }}> View </Button></td>\r\n                    </tr>\r\n                );\r\n            });\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <div className=\"page-title-holder fill\">\r\n                <h2>Processed Orders</h2>\r\n            </div>\r\n            <div className=\"container flex-horizontal-box-container\">\r\n                <Select allowClear placeholder=\"Order By\" className=\"box-item-xs-6 box-item-sm-4 box-item-md-4 box-item-lg-4 box-item-xl-3\"\r\n                onSelect={v => {setOrder(v, ordersList, setOrdersList)}}>\r\n                    <OptGroup label=\"Data Issued\">\r\n                        <Option value=\"d_decending\">Latest</Option>\r\n                        <Option value=\"d_ascending\">Earliest</Option>\r\n                    </OptGroup>\r\n                    <OptGroup label=\"Customer Email\">\r\n                        <Option value=\"c_ascending\">A-Z</Option>\r\n                        <Option value=\"c_decending\">Z-A</Option>\r\n                    </OptGroup>\r\n                    <OptGroup label=\"Carrier Name\">\r\n                        <Option value=\"cn_ascending\">A-Z</Option>\r\n                        <Option value=\"cn_decending\">Z-A</Option>\r\n                    </OptGroup>  \r\n                </Select>\r\n            \r\n                <Input.Search\r\n                    id='processed-orders-email-filter'\r\n                    className=\"box-item-xs-6 box-item-sm-4 box-item-md-4 box-item-lg-4 box-item-xl-3\"\r\n                    placeholder=\"Search Customer Email\"\r\n                    enterButton=\"Search\"\r\n                    onSearch = { c_email => { \r\n                        if(c_email !== \"\"){\r\n                            filterEmail(ordersList, c_email, setOrdersList);\r\n                            setPage(0);\r\n                        } \r\n                    }}\r\n                />\r\n            \r\n                <Button\r\n                    className=\"box-item-xs-3 box-item-sm-4 box-item-md-3 box-item-lg-2 box-item-xl-2\"\r\n                    type=\"secondary\"\r\n                    onClick = { () => {\r\n                    setOrdersList(orders);\r\n                    document.getElementById('processed-orders-email-filter').value = \"\";\r\n                }}>Reset Filters</Button>\r\n            </div>\r\n\r\n            <div className=\"container table-container\">\r\n                {loading ? <div style={{ textAlign: 'center' }}><Spin size='large' /></div> :\r\n                    error ? <h1 style={{ textAlign: 'center', color: 'red' }}> Could not load data, please try refreshing page </h1> :\r\n                        <table className=\"box-shadow center-content\">\r\n                            <thead>\r\n                                <tr>\r\n                                    <th>PO Number</th>\r\n                                    <th>Customer Email</th> \r\n                                    <th>Date Issued</th>\r\n                                    <th>Tracking Number</th> \r\n                                    <th>Carrier</th>\r\n                                    <th>View Order</th>\r\n                                </tr>\r\n                            </thead>\r\n                            <tbody>\r\n                                {row}\r\n                            </tbody>\r\n                        </table>\r\n                }\r\n                <Pagination current={page + 1} defaultCurrent={1} total={(maxNumberOfPages + 1) * 10} onChange={onChange} className=\"text-center\" />\r\n            </div>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default ProcessedOrders;","//Form layout stuff\r\nexport const layout = {\r\n    labelCol: { span: 8 },\r\n    wrapperCol: { span: 16 },\r\n};\r\n\r\nexport const tailLayout = {\r\n    wrapperCol: { offset: 8, span: 16 },\r\n};","import { Modal } from 'antd';\r\nimport { postCompanyInfo } from './Functions';\r\nimport { history } from '../../_helpers/history';\r\n\r\nexport const errorLoading = () => {\r\n    Modal.error({\r\n        title: 'ERROR',\r\n        content: 'Could not load company information. Please try reloading the page.',\r\n    });    \r\n}\r\n\r\nexport const editSuccess = () => {\r\n    Modal.info({\r\n        title: 'Success',\r\n        content: 'Company information was edited successfully.',\r\n        onOk(){\r\n            history.push('/admin');\r\n        }\r\n    });    \r\n}\r\n\r\nexport const editFail = () => {\r\n    Modal.error({\r\n        title: 'ERROR',\r\n        content: 'There was a problem posting company information. Please try again.',\r\n    });    \r\n}\r\n\r\nexport const confirmEdit = (newInfo, access_token, updateAuth) => {\r\n    Modal.confirm({\r\n        title: 'Confirm',\r\n        content: 'Are you sure you want to edit the company information?',\r\n        onOk(){\r\n            return postCompanyInfo(newInfo, access_token, updateAuth);\r\n        }\r\n    });\r\n}","import axios from 'axios';\r\nimport { editSuccess, editFail } from './Modals';\r\nimport { _logout } from '../../_services/SharedFunctions';\r\n\r\nexport const setFormValues = (info, form) => {\r\n    form.setFieldsValue({\r\n        c_number: info.c_number,\r\n        c_address: info.c_address,\r\n        c_email: info.c_email,\r\n        c_TandC: info.c_TandC,\r\n        c_about: info.c_about,\r\n        c_delivery: info.c_delivery,\r\n        c_blog: info.c_blog\r\n    });\r\n}\r\n\r\nexport const postCompanyInfo = (newInfo, access_token, updateAuth) => {\r\n    const config = { headers:{ authorization : `Bearer ${access_token}` }};\r\n\r\n    return axios.post('/api/aboutus/edit-info', newInfo, config)\r\n        .then(res => {\r\n            if(res.data.success)editSuccess();\r\n            else{\r\n                console.log(res);\r\n                editFail();\r\n            } \r\n        })\r\n        .catch(err => {\r\n            console.log(err);\r\n            if(err.response.status === 401) _logout(updateAuth);\r\n            else editFail();\r\n        });\r\n}","import '../../_assets/CSS/pages/EditCompanyInfo/EditCompanyInfo.css';\r\n\r\nimport { Form, Input, Button, Spin } from 'antd';\r\nimport { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport { useAuthUpdate, useAuth } from '../../SharedComponents/AuthContext/AuthContext'; \r\nimport { layout, tailLayout } from './FormLayout';\r\nimport { setFormValues } from './Functions';\r\nimport { errorLoading, confirmEdit } from './Modals';\r\n\r\n\r\nconst EditCompanyInfo = () => {\r\n\r\n    const [form] = Form.useForm();\r\n    const [companyInfo, setCompanyInfo] = useState(null);\r\n    const [dataLoading, setDataLoading] = useState(true);\r\n    const updateAuth = useAuthUpdate();             //authorization data\r\n    const auth = useAuth();\r\n\r\n    useEffect(() => {\r\n        axios.get('/api/aboutus/')\r\n        .then(res => {\r\n            setCompanyInfo(res.data);\r\n            setFormValues(res.data, form);\r\n            setDataLoading(false);\r\n        })\r\n        .catch(err => {\r\n            console.log(err);\r\n            errorLoading();\r\n            setDataLoading(false);\r\n        })\r\n    }, [form]);\r\n\r\n\r\n\r\n\r\n\r\n    //form functions\r\n    const onFinish = newInfo => {\r\n        newInfo.c_about = \"_\";                 //about us has been removed. This stops backend from breaking\r\n        if(JSON.stringify(newInfo) !== JSON.stringify(companyInfo)){\r\n            confirmEdit(newInfo, auth.access_token, updateAuth);\r\n        } \r\n    };\r\n    \r\n    const onFinishFailed = errorInfo => {\r\n        console.log('Failed:', errorInfo);\r\n    };\r\n    \r\n\r\n\r\n\r\n\r\n    return (\r\n        <div>\r\n            <h1 className=\"eci-text\">Edit Company Information</h1>\r\n\r\n            <p className=\"eci-text\">The input fields contain the current company information. Edit these fields if you wish to make changes.</p>\r\n\r\n            {\r\n                dataLoading\r\n                ?   <div style = {{textAlign: 'center'}}>\r\n                        <Spin size = 'large' />\r\n                        <h3 style = {{color: '#EB6E00'}}>Data Loading</h3>\r\n                    </div>\r\n                :   <Form\r\n                        {...layout}\r\n                        form={form}\r\n                        onFinish={onFinish}\r\n                        onFinishFailed={onFinishFailed}\r\n                        style = {{fontWeight: \"bold\"}}\r\n                        validateTrigger = 'onSubmit'\r\n                    >\r\n                        <Form.Item \r\n                            label=\"Company Number\" \r\n                            name=\"c_number\"\r\n                            rules={[{\r\n                                whitespace: true, \r\n                                required: true, \r\n                                message: 'Please provide data' \r\n                            }]}\r\n                        >\r\n                            <Input style = {{width: \"500px\"}} maxLength={20}/>\r\n                        </Form.Item>\r\n\r\n                        <Form.Item \r\n                            label=\"Company Address\" \r\n                            name=\"c_address\"\r\n                            rules={[{\r\n                                whitespace: true, \r\n                                required: true, \r\n                                message: 'Please provide data' \r\n                            }]}\r\n                        >\r\n                            <Input style = {{width: \"500px\"}} maxLength={500}/>\r\n                        </Form.Item>\r\n\r\n                        <Form.Item \r\n                            label=\"Company Email\" \r\n                            name=\"c_email\"\r\n                            rules={[{\r\n                                whitespace: true, \r\n                                required: true, \r\n                                message: 'Please provide data' \r\n                            }]}\r\n                        >\r\n                            <Input  style = {{width: \"500px\"}} maxLength={50}/>\r\n                        </Form.Item>\r\n\r\n                        <Form.Item \r\n                            label=\"Terms and Conditions\" \r\n                            name=\"c_TandC\"\r\n                            rules={[{\r\n                                whitespace: true, \r\n                                required: true, \r\n                                message: 'Please provide data' \r\n                            }]}\r\n                        >\r\n                            <Input.TextArea style = {{width: \"500px\"}} rows = {6} maxLength={30000}/>\r\n                        </Form.Item>\r\n\r\n                        <Form.Item \r\n                            label=\"Delivery and Dispatch\" \r\n                            name=\"c_delivery\"\r\n                            rules={[{\r\n                                whitespace: true, \r\n                                required: true, \r\n                                message: 'Please provide data' \r\n                            }]}\r\n                        >\r\n                            <Input.TextArea style = {{width: \"500px\"}} rows = {6} maxLength={30000}/>\r\n                        </Form.Item>\r\n\r\n                        <Form.Item \r\n                            label=\"Company Blog\" \r\n                            name=\"c_blog\"\r\n                            rules={[{\r\n                                whitespace: true, \r\n                                required: true, \r\n                                message: 'Please provide data' \r\n                            }]}\r\n                        >\r\n                            <Input.TextArea style = {{width: \"500px\"}} rows = {6} maxLength={30000}/>\r\n                        </Form.Item>\r\n                        \r\n                        {\r\n                            companyInfo !== null\r\n                            ?   <Form.Item {...tailLayout}>\r\n                                    <Button type=\"primary\" htmlType=\"submit\"> Set Company Information </Button>\r\n                                </Form.Item>\r\n                            : <></>\r\n                        } \r\n                    </Form>\r\n            }  \r\n        </div>\r\n    );\r\n}\r\n\r\nexport default EditCompanyInfo;","import { deleteConfirm } from '../../SharedComponents/Modals/Modals';\r\nimport { EditOutlined, DeleteOutlined } from '@ant-design/icons';\r\nimport { history } from '../../_helpers/history';\r\nimport { getCategoryName } from '../../_services/SharedFunctions';\r\nimport { getAllCategories } from '../../_actions/categoryActions';\r\nimport { useEffect } from 'react';\r\nimport { useAuthUpdate, useAuth } from '../../SharedComponents/AuthContext/AuthContext';\r\n\r\n//All rows for the Product table\r\n\r\nconst ProductTableRows = props => {\r\n    const categories = props.categories;\r\n    const productsList = props.productsList;\r\n    const dispatch = props.dispatch;\r\n    const page = props.page;\r\n    const itemsPerPage = 10;\r\n    const updateAuth = useAuthUpdate();             //authorization data\r\n    const auth = useAuth();\r\n\r\n    useEffect(() => {             \r\n        if(!categories.length) dispatch(getAllCategories());\r\n    }, [categories.length, dispatch]);\r\n\r\n    \r\n\r\n\r\n    let renderableProducts;\r\n    let row;\r\n    \r\n    if(!productsList.length)row = [];             //wait until data is loaded before performing operations it\r\n    else{\r\n        renderableProducts = productsList.slice( page * itemsPerPage, \r\n            ((page + 1) * itemsPerPage) > productsList.length ? productsList.length : ((page + 1) * itemsPerPage));\r\n        \r\n        row = renderableProducts.map((p, i) => {\r\n            return (\r\n                <tr key = {p._id} className=\"manage-products-table-row\">\r\n                    <td>{p.p_name}</td>\r\n                    <td>{p.p_code}</td>\r\n                    <td>${p.p_price}</td>\r\n                    <td>{p.p_unit}</td>\r\n                    <td>{ getCategoryName(p.p_categories, categories) }</td>\r\n                    <td>\r\n                        <EditOutlined props={p.p_code} className=\"manage-products-icon\" onClick={() => {\r\n                            history.push(`/editAddProducts/${p.p_code}`);\r\n                        }}/> \r\n                        <DeleteOutlined className=\"manage-products-icon\" onClick={() => { deleteConfirm(p.p_code, dispatch, auth.access_token, updateAuth) }} style = {{paddingLeft: \"15px\"}}/> \r\n                    </td>\r\n                </tr>\r\n            );\r\n        });\r\n    }\r\n\r\n    return row;\r\n}\r\n\r\nexport default ProductTableRows;","import '../../_assets/CSS/pages/ManageProducts/ManageProducts.css';\r\nimport { Select, Pagination, Spin } from 'antd';\r\nimport { useState, useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { history } from '../../_helpers/history';\r\nimport { getAllProducts, setDefaultOrder } from '../../_actions/productActions';\r\nimport { handleFilter, handleOrder } from './Functions';\r\nimport ProductTableRows from './ProductTableRows';\r\n\r\nconst { Option, OptGroup } = Select;\r\n\r\n\r\n\r\n\r\n\r\nconst ManageProducts = () => {\r\n    const dispatch = useDispatch();\r\n\r\n    const productsList = useSelector(state => state.productState.products);                 //Redux store product list\r\n    const errorLoading = useSelector(state => state.productState.error);\r\n    const loading = useSelector(state => state.productState.isLoading);\r\n    const categories = useSelector(state => state.categoryState.categories);\r\n    \r\n    const [filter, setFilter] = useState(null);             //filtering and current page number\r\n    const [order, setOrder] = useState(null);\r\n    const [page, setPage] = useState(0);\r\n\r\n    let processedProductsList = [...productsList];         \r\n\r\n    if(filter !== null && filter !== 'default') processedProductsList = handleFilter(processedProductsList, filter);        //filtering and ordering the product list\r\n    if(order !== null) processedProductsList = handleOrder(processedProductsList, order);\r\n\r\n    const itemsPerPage = 10;\r\n    const maxNumberOfPages = (Math.ceil(processedProductsList.length/itemsPerPage) - 1);             //pagination stuff\r\n\r\n    const productTableRowsProps = {                                                         //props for the product table rows\r\n        productsList: processedProductsList,\r\n        page: page,\r\n        dispatch: dispatch,\r\n        categories: categories,\r\n    }\r\n\r\n    useEffect(() => {                                                     //checks if the store is empty. If so, do an API request\r\n        if(!productsList.length) dispatch(getAllProducts());\r\n        else dispatch(setDefaultOrder());\r\n    }, [productsList.length, dispatch]);\r\n\r\n    let selectCategories = <></>;                                           //dynamically loading categories to filter products in select bar\r\n    if(categories.length !== 0){\r\n        selectCategories = categories.map(p => {\r\n            return <Option key={p._id} value={p._id}>{p.c_name}</Option>\r\n        })\r\n    }\r\n\r\n    return (\r\n        <div >\r\n            <div id=\"manage-products-header\">Manage Products</div>\r\n\r\n            <div>\r\n                <table id=\"manage-products-select-table\" className=\"center-content\">\r\n                    <tbody>\r\n                        <tr>\r\n                            <td>\r\n                                <div style={{fontSize: \"30px\", fontWeight: \"bold\"}}>Products</div>\r\n                            </td>\r\n                            <td>\r\n                                <Select placeholder=\"Filter by\" style={{ width: \"300px\" }} onChange={e => {setFilter(e); setPage(0)}}>\r\n                                    <Option key={'default'} value={'default'}>{'Remove Filter'}</Option>\r\n                                    \r\n                                    <OptGroup label=\"Category\">\r\n                                        {selectCategories}\r\n                                    </OptGroup>    \r\n                                </Select>\r\n                            </td>\r\n                            \r\n                            <td>\r\n                                <Select placeholder=\"Order By\" style = {{width:\"300px\"}} onChange={v => setOrder(v)}>\r\n                                    <OptGroup label=\"Price\">\r\n                                        <Option value=\"p_decending\">high to low</Option>\r\n                                        <Option value=\"p_ascending\">low to high</Option>\r\n                                    </OptGroup>\r\n                                    <OptGroup label=\"Name\">\r\n                                        <Option value=\"n_ascending\">A-Z</Option>\r\n                                        <Option value=\"n_decending\">Z-A</Option>\r\n                                    </OptGroup>\r\n                                    <OptGroup label=\"Item Code\">\r\n                                        <Option value=\"i_ascending\">A-Z</Option>\r\n                                        <Option value=\"i_decending\">Z-A</Option>\r\n                                    </OptGroup>  \r\n                                </Select>\r\n                            </td>\r\n                        </tr>\r\n                    </tbody>\r\n                </table>  \r\n            </div>\r\n\r\n            {errorLoading ? <h1 style = {{textAlign: 'center', color: 'red'}}>Could not load data, please try again</h1> : <></>}\r\n            {loading ? <div style={{textAlign: 'center'}}><Spin size=\"large\"/></div> : <></>}\r\n      \r\n            <div style = {{height: \"500px\", display: \"table\"}}>\r\n                <table style={{width:\"100%\", textAlign: \"center\", tableLayout: \"fixed\"}}>\r\n                    <tbody>\r\n                        <tr style = {{border: \"solid black 1px\"}}>\r\n                            <th>Product Name</th>\r\n                            <th>Product Code</th> \r\n                            <th>Price</th>\r\n                            <th>Unit</th>\r\n                            <th>Category</th> \r\n                            <th className=\"manage-products-icon\" style ={{fontSize: \"30px\"}} onClick={() => {\r\n                                history.push('/editAddProducts');\r\n                            }}>+</th>\r\n                        </tr>\r\n                      \r\n                      <ProductTableRows {...productTableRowsProps} />\r\n                    </tbody>\r\n                </table>  \r\n            </div>\r\n            \r\n            <div style = {{textAlign: \"center\"}}>\r\n                <Pagination current={page + 1} total={(maxNumberOfPages + 1) * 10} onChange = {p => {setPage(p - 1)}}/>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default ManageProducts;","//Filter and sort functions\r\n\r\nexport const handleFilter = (products, filter) => {\r\n    return products.filter(product => {\r\n        return product.p_categories === filter;\r\n    });\r\n}\r\n\r\n\r\nexport const handleOrder = (products, order) => {\r\n    switch(order){\r\n        case \"p_decending\": {\r\n            return products.sort((a,b) => (Number(a.p_price) < Number(b.p_price)) ? 1 : ((Number(b.p_price) < Number(a.p_price)) ? -1 : 0));\r\n        }\r\n        case \"p_ascending\": {\r\n            return products.sort((a,b) => (Number(a.p_price) > Number(b.p_price)) ? 1 : ((Number(b.p_price) > Number(a.p_price)) ? -1 : 0));\r\n        }\r\n        case \"n_ascending\": {\r\n            return products.sort((a,b) => (a.p_name > b.p_name) ? 1 : ((b.p_name > a.p_name) ? -1 : 0));\r\n        }\r\n        case \"n_decending\": {\r\n            return products.sort((a,b) => (a.p_name < b.p_name) ? 1 : ((b.p_name < a.p_name) ? -1 : 0));\r\n        }\r\n        case \"i_ascending\": {\r\n            return products.sort((a,b) => (a.p_code > b.p_code) ? 1 : ((b.p_code > a.p_code) ? -1 : 0));\r\n        }\r\n        case \"i_decending\": {\r\n            return products.sort((a,b) => (a.p_code < b.p_code) ? 1 : ((b.p_code < a.p_code) ? -1 : 0));\r\n        }\r\n        default: return;\r\n    }\r\n}","export const EDIT = \"EDIT\";\r\nexport const ADD = \"ADD\";","import { Modal} from 'antd';\r\nimport { onRemove } from './Functions'; \r\nimport { history } from '../../_helpers/history';\r\nimport { _editProduct, _addProduct } from './Functions';\r\nimport { editProduct, addProduct } from '../../_actions/productActions'; \r\nimport { _logout } from '../../_services/SharedFunctions';\r\n\r\nexport const imageModal = (src, file, fileList, updateFileList, product, setProduct) => {           //displays the preview of the image\r\n    Modal.confirm({\r\n        title: 'Image Preview',\r\n        icon: null,\r\n        content: <img alt=\"example\" style={{ width: '100%' }} src={src} />,\r\n        okText:\"Keep Image\",\r\n        cancelText: \"Delete Image\",\r\n        onOk() {},\r\n        onCancel() {\r\n            onRemove(file, fileList, updateFileList, product, setProduct)\r\n        },\r\n    });\r\n}\r\n\r\nconst editSuccess = p_code => {                                 \r\n    Modal.info({\r\n        title: \"Edit Successful\",\r\n        content: `Successfully edited product: ${p_code}`,\r\n        okText: \"Ok\",\r\n        onOk(){ history.push('/admin') }\r\n    });\r\n}\r\n\r\nconst addSuccess = p_code => {\r\n    Modal.info({\r\n        title: \"Add Successful\",\r\n        content: `Successfully added product: ${p_code}`,\r\n        okText: \"Ok\",\r\n        onOk(){ history.push('/admin') }\r\n    });\r\n}\r\n\r\n\r\nconst editFail = p_code => {\r\n    Modal.info({\r\n        title: \"ERROR\",\r\n        content: `There was a problem editing product: ${p_code}. Please try again or contact support.`,\r\n        okText: \"Ok\",\r\n        onOk(){ history.push('/admin') }\r\n    });\r\n}\r\n\r\nconst addFailPcode = p_code => {\r\n    Modal.info({\r\n        title: \"ERROR\",\r\n        content: `There was a problem adding product: ${p_code}. Please make sure the item code is not taken.`,\r\n        okText: \"Ok\"\r\n    });\r\n}\r\n\r\nconst addFail = p_code => {\r\n    Modal.info({\r\n        title: \"ERROR\",\r\n        content: `There was a problem adding product: ${p_code}. Please try again or contact support.`,\r\n        okText: \"Ok\",\r\n        onOk(){ history.push('/admin') }\r\n    });\r\n}\r\n\r\n \r\n\r\nexport const confirmEdit = (newProduct, formData, access_token, updateAuth, dispatch) => {                //confirms the edit\r\n    const config = { \r\n        headers:{ \r\n            authorization : `Bearer ${access_token}`,\r\n            'content-type': 'multipart/form-data'\r\n        }\r\n    };\r\n\r\n    Modal.confirm({\r\n        title: `Editing product: ${newProduct.p_code}`,\r\n        content: 'Are you sure you want to make these edits?',\r\n        onOk() {\r\n            if(dispatch !== undefined){                                     //if dispatch is defined then need to send product to the redux store (as well as the db)\r\n                \r\n                return dispatch(editProduct(newProduct, formData, access_token, updateAuth))\r\n                .then(res => {\r\n                    if(res.data.success){\r\n                        editSuccess(newProduct.p_code);\r\n                    } \r\n                    else { \r\n                        console.log(\"Error\", res);\r\n                        editFail(newProduct.p_code);\r\n                    }\r\n                })\r\n                .catch(err => {\r\n                    console.log(\"Error\", err);\r\n                    if(err.response.status === 401) _logout(updateAuth);\r\n                    else editFail(newProduct.p_code);\r\n                });\r\n            }\r\n            else{                                               //else just push it to the db\r\n                return _editProduct(formData, config)\r\n                .then(res => {\r\n                    if(res.data.success) editSuccess(newProduct.p_code);\r\n                    else{\r\n                        console.log(res);\r\n                        editFail(newProduct.p_code);\r\n                    }\r\n                })\r\n                .catch(err => {\r\n                    console.log(err);\r\n                    if(err.response.status === 401) _logout(updateAuth);\r\n                    else editFail(newProduct.p_code);\r\n                });\r\n            } \r\n        },\r\n        onCancel() {}\r\n    })\r\n}\r\n\r\nexport const confirmAdd = (newProduct, formData, access_token, updateAuth, dispatch) => {\r\n    const config = { headers:{ authorization : `Bearer ${access_token}` }};\r\n\r\n    Modal.confirm({\r\n        title: `Adding product: ${newProduct.p_code}`,\r\n        content: 'Are you sure you want to add this product?',\r\n\r\n        onOk() {\r\n            if(dispatch !== undefined){                                             //if dispatch is defined need to send it to the redux store (as well as the db)\r\n                return dispatch(addProduct(formData, newProduct, access_token))\r\n                .then(res => {\r\n                    if(res.data.success) addSuccess(newProduct.p_code);\r\n                    else { \r\n                        console.log(\"Error\", res);\r\n                        addFailPcode(newProduct.p_code);\r\n                    }\r\n                })\r\n                .catch(err => {\r\n                    console.log(\"Error\", err);\r\n                    if(err.response.status === 401) _logout(updateAuth);\r\n                    else addFail(newProduct.p_code);\r\n                });\r\n            }\r\n            else{                                                                 //else just push it directly to the db\r\n                return _addProduct(formData, config)\r\n                .then(res => {\r\n                    if(res.data.success) addSuccess(newProduct.p_code);\r\n                    else{\r\n                        console.log(\"Error\", res);\r\n                        addFailPcode(newProduct.p_code);\r\n                    }\r\n\r\n                })\r\n                .catch(err => {\r\n                    console.log(\"Error\", err);\r\n                    if(err.response.status === 401) _logout(updateAuth);\r\n                    else addFail(newProduct.p_code);\r\n                });\r\n            } \r\n        },\r\n        onCancel() {},\r\n    })\r\n}","import axios from 'axios';\r\nimport { EDIT } from './PageStates';\r\nimport { history } from '../../_helpers/history';\r\nimport { imageModal } from './Modals';\r\nimport { message } from 'antd';\r\n\r\n/*\r\nconst config = {            \r\n    headers: {\r\n        'content-type': 'multipart/form-data'\r\n    }\r\n}*/\r\n\r\nexport const getProduct = (p_code, setProduct, setPageState) => {               //returns an individual product\r\n    axios.post('/api/products/product-by-id', { \r\n        p_code: p_code\r\n    })\r\n    .then(res => {\r\n        if(res.data.p_code === p_code){\r\n            setProduct(res.data);\r\n            setPageState(EDIT);\r\n        }\r\n        else{\r\n            history.push('/editAddProducts');\r\n            window.location.reload();\r\n        } \r\n    })\r\n    .catch(err => {\r\n        console.log(err);\r\n        history.push('/editAddProducts');\r\n        window.location.reload();\r\n    })\r\n}\r\n\r\nexport const _editProduct = (product, config) => {                                //api for edit a product\r\n    return axios.post('/api/products/edit-product', product, config);\r\n}\r\n\r\nexport const _addProduct = (formData, config) => {                                        //api for add a product\r\n    return axios.post('api/products/add-product', formData, config);\r\n}\r\n\r\n\r\nexport const _getProduct = (p_code, productsList) => {                  //gets product from the Store\r\n    return productsList.find(product => {\r\n        return product.p_code === p_code;\r\n    });\r\n}\r\n\r\nexport const onPriceChange = (e, form) => {                            //controling user price input\r\n    const reg = /^(\\d+(\\.\\d{0,2})?|\\.?\\d{1,2})$/;\r\n    let str = e.target.value;\r\n\r\n    if (str === '' || reg.test(str)) form.setFieldsValue({p_price: str});\r\n    else{\r\n        str = str.substring(0, str.length - 1);\r\n        if(!reg.test(str)) form.setFieldsValue({p_price: ''});\r\n        else form.setFieldsValue({p_price: str});   \r\n    }  \r\n}\r\n\r\nexport const onPreview = async (file, fileList, updateFileList, product, setProduct) => {        //handles image preview\r\n    let src = file.url;\r\n    if(!src){\r\n        src = await new Promise(resolve => {\r\n            const reader = new FileReader();\r\n            reader.readAsDataURL(file.originFileObj);\r\n            reader.onload = () => resolve(reader.result);\r\n        });\r\n        imageModal(src, file, fileList, updateFileList);                //viewing a new file\r\n    }\r\n    else imageModal(src, file, fileList, updateFileList, product, setProduct);                //viewing a pre-established file\r\n}\r\n\r\nexport const beforeUpload = (file, fileList) => {                                       //handles image upload\r\n    const isJpgOrPng = file.type === 'image/jpeg' || file.type === 'image/png';\r\n    if(!isJpgOrPng) message.error('You can only upload JPG/PNG file!');\r\n\r\n    const isLt2M = file.size / 1024 / 1024 < 2;\r\n    if(!isLt2M) message.error('Image must smaller than 2MB!');\r\n\r\n    if(!isJpgOrPng || !isLt2M) {\r\n        file = null;\r\n        fileList.pop();\r\n    }\r\n    return false;\r\n}\r\n\r\nexport const onRemove = (file, fileList, updateFileList, product, setProduct) => {               //handles image removal\r\n    const index = fileList.indexOf(file);\r\n\r\n    const newFileList = fileList.slice();\r\n    newFileList.splice(index, 1);\r\n    updateFileList(newFileList);\r\n\r\n    if(file.uid.startsWith(\"EST\")){                             //delete from p_image_uri if file is pre-established (not a newly added file)\r\n        const new_p_image_uri = product.p_image_uri.slice();\r\n        const newProduct = product;\r\n\r\n        new_p_image_uri.splice(index, 1);\r\n        newProduct.p_image_uri = new_p_image_uri;\r\n\r\n        setProduct(newProduct);\r\n    }\r\n}\r\n\r\nexport const setFormValues = (form, product) => {                 //sets the values of the form to appropriate values when in edit mode\r\n    let p_units_sold = \"\";\r\n\r\n    form.setFieldsValue({\r\n        p_name: product.p_name,\r\n        p_code: product.p_code,\r\n        p_units_sold: p_units_sold,\r\n        p_price: product.p_price.toString(),\r\n        p_categories: product.p_categories,\r\n        p_description: product.p_description,\r\n        p_unit: product.p_unit,\r\n        p_image_uri: []\r\n    });\r\n}\r\n\r\nexport const checkProductsEqual = (product_a, product_b, numberOfNewImages, originalFileLength) => {                   //checks if the product has been edited or not\r\n        if(product_a.p_code === product_b.p_code && \r\n            product_a.p_categories === product_b.p_categories && \r\n            product_a.p_name === product_b.p_name &&\r\n            product_a.p_description === product_b.p_description &&\r\n            JSON.stringify(product_a.p_image_uri) === JSON.stringify(product_b.p_image_uri) &&           \r\n            product_a.p_price === product_b.p_price.toString() && \r\n            product_a.p_image_uri.length + numberOfNewImages === product_b.p_image_uri.length &&\r\n            product_a.p_image_uri.length === originalFileLength &&\r\n            product_a.p_unit === product_b.p_unit &&\r\n            JSON.stringify(product_a.p_size) === JSON.stringify(product_b.p_size)){\r\n                return true\r\n            }\r\n            return false;   \r\n}\r\n\r\nexport const createFormData = (newProduct, fileList) => {               //create form data for add mode\r\n    let formData = new FormData();\r\n\r\n    newProduct.p_size.forEach(s => {\r\n        formData.append('p_size[]', s);               //appending all sizes to the form data\r\n    });\r\n\r\n    [...fileList].forEach(image => {\r\n        formData.append(\"images\", image.originFileObj);\r\n    });\r\n\r\n    formData.append(\"p_name\", newProduct.p_name);\r\n    formData.append(\"p_code\", newProduct.p_code);\r\n    formData.append(\"p_units_sold\", newProduct.p_units_sold);\r\n    formData.append(\"p_price\", newProduct.p_price);\r\n    formData.append(\"p_categories\", newProduct.p_categories);\r\n    formData.append(\"p_description\", newProduct.p_description);\r\n    formData.append(\"p_unit\", newProduct.p_unit);\r\n\r\n    return formData;\r\n}\r\n\r\nexport const createFormDataEdit = (newProduct, product, fileList) => {              //create form data for edit mode\r\n    let formData = new FormData();\r\n\r\n    formData.append(\"p_name\", newProduct.p_name);\r\n    formData.append(\"p_code\", newProduct.p_code);\r\n    formData.append(\"p_units_sold\", newProduct.p_units_sold);\r\n    formData.append(\"p_price\", newProduct.p_price);\r\n    formData.append(\"p_categories\", newProduct.p_categories);\r\n    formData.append(\"p_description\", newProduct.p_description);\r\n    formData.append(\"p_unit\", newProduct.p_unit);\r\n\r\n    newProduct.p_size.forEach(s => {\r\n        formData.append('p_size[]', s);               //appending all sizes to the form data\r\n    });\r\n\r\n    if(product.p_image_uri <= 0) formData.append(\"p_image_uri\", []);\r\n    else{\r\n        [...product.p_image_uri].forEach(image => {\r\n            formData.append(\"p_image_uri\", image); \r\n        });\r\n    }\r\n    \r\n    [...fileList].forEach(image => {    //If the image file starts with EST it is a preexisting image that does not need to be added\r\n        if(!image.uid.startsWith('EST')){\r\n            formData.append(\"image\", image.originFileObj);\r\n            newProduct.p_image_uri.push(URL.createObjectURL(image.originFileObj));       //adding blobs to newProduct so the store contains image URLS \r\n        } \r\n    });\r\n\r\n    return formData;\r\n}\r\n\r\nexport const checkBlob = (p_image_uri) => {                                     //for checking the p_image_uri field for blobs\r\n    for(let i = 0; i < p_image_uri.length; i++){\r\n        if(p_image_uri[i].includes(\"blob\")){\r\n            return true;\r\n        }\r\n    }\r\n    return false;\r\n}\r\n\r\nexport const addUriToFileList = (p_image_uri, updateFileList) => {              //adds pretend images to the updload input \r\n    const newFileList = [];\r\n    p_image_uri.forEach((uri, i) => {\r\n        newFileList.push(\r\n            {\r\n                uid: `EST_${i}`,\r\n                name: `image_${i}`,\r\n                status: 'done',\r\n                url: uri,\r\n            }\r\n        )\r\n    });\r\n    updateFileList(newFileList);\r\n}\r\n\r\nexport const deleteSizeOption = (s, sizeOptions, setSizeOptions) => {\r\n    const temp = [...sizeOptions];\r\n    const i = temp.indexOf(s);\r\n    if(i !== -1) temp.splice(i, 1);\r\n    setSizeOptions(temp);\r\n}\r\n\r\nexport const addSizeOption = (sizeOptions, setSizeOptions) => {\r\n    const s = document.getElementById('size-option-input').value;\r\n    if(s === \"\") return;\r\n    setSizeOptions([...sizeOptions, s]);\r\n}","import React, { useState, useEffect } from 'react';\r\nimport { Upload, Button, Form, Input, Select } from 'antd';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { useParams } from 'react-router-dom';\r\nimport '../../_assets/CSS/pages/AddEditProduct/AddEditProduct.css';\r\nimport { EDIT, ADD } from './PageStates';\r\nimport { history } from '../../_helpers/history'; \r\nimport { \r\n    getProduct, \r\n    _getProduct, \r\n    onPriceChange, \r\n    onPreview, \r\n    beforeUpload, \r\n    onRemove, \r\n    setFormValues, \r\n    checkProductsEqual, \r\n    addUriToFileList, \r\n    createFormDataEdit,\r\n    deleteSizeOption,\r\n    addSizeOption\r\n} from './Functions';\r\nimport { getAllCategories } from '../../_actions/categoryActions';\r\nimport { removeSpaces } from '../../_services/SharedFunctions';\r\nimport { confirmEdit, confirmAdd } from './Modals'; \r\nimport { createFormData, checkBlob } from './Functions';\r\nimport { useAuth, useAuthUpdate } from '../../SharedComponents/AuthContext/AuthContext';\r\n\r\nconst { Option, OptGroup } = Select;\r\n\r\n\r\n\r\n\r\n\r\nconst AddEditProduct = () => {\r\n\r\n    const { p_code } = useParams();\r\n\r\n    const dispatch = useDispatch();\r\n    const updateAuth = useAuthUpdate();             //authorization data\r\n    const auth = useAuth();\r\n\r\n    const productsList = useSelector(state => state.productState.products);\r\n    const categories = useSelector(state => state.categoryState.categories);\r\n    const emptyCategories = useSelector(state => state.categoryState.empty);        //for checking there are categories available \r\n\r\n    const [parentCategoires, setParentCategories] = useState([]);\r\n    const [childCategories, setChildCategories] = useState([]);\r\n\r\n    const [pageState, setPageState] = useState(null);\r\n    const [product, setProduct] = useState(null);\r\n    const [fileList, updateFileList] = useState([]);\r\n    const [originalImageListLength, setOriginalImageListLength] = useState(0);      //used for checking if the newly edited file differs from the original\r\n    const [newPage, setNewPage] = useState(true);                 //checks if the page is fresh \r\n    const [sizeOptions, setSizeOptions] = useState([]);\r\n\r\n    const [form] = Form.useForm();\r\n\r\n\r\n\r\n\r\n\r\n    useEffect(() => {                                                //Changes the page state to edit or Add. Will also determine if API call necessary\r\n        if(p_code){\r\n            if(productsList.length !== 0){                              //dont make API call if redux store is populated\r\n                const product = _getProduct(p_code, productsList);\r\n                if(checkBlob(product.p_image_uri) && newPage) window.location.reload(); //checks if the file list contains a blob. will not trigger unless the page is in a fresh state\r\n                if(product !== undefined){\r\n                    setProduct(product);            \r\n                    setPageState(EDIT);\r\n                }\r\n                else{                                   //if some nonsense is typed in the URL\r\n                    history.push('/editAddProducts');\r\n                    window.location.reload();\r\n                }                                \r\n            }\r\n            else getProduct(p_code, setProduct, setPageState);\r\n        }\r\n        else setPageState(ADD);\r\n\r\n        if(!categories.length && !emptyCategories) dispatch(getAllCategories());        //sets up the parent and child categories in the select input\r\n        else{   \r\n            if(!parentCategoires.length){\r\n                const parents = categories.filter(c => { return c.path === null });\r\n                setParentCategories(parents);\r\n            }\r\n            if(!childCategories.length){\r\n                const children = categories.filter(c => { return c.path !== null; });\r\n                setChildCategories(children);\r\n            }\r\n        }\r\n\r\n    }, [categories.length, dispatch, p_code, productsList, categories, childCategories.length, emptyCategories, parentCategoires.length, newPage]);\r\n        \r\n    useEffect(() => {                                                       \r\n        if(pageState === EDIT && newPage){\r\n            setFormValues(form, product, categories);       //sets the form values if in edit mode\r\n            setOriginalImageListLength(product.p_image_uri.length);      \r\n            setSizeOptions(product.p_size);\r\n            addUriToFileList(product.p_image_uri, updateFileList);     //populates the file list\r\n            \r\n        } \r\n    }, [categories, product, form, pageState, newPage]);\r\n\r\n\r\n\r\n\r\n\r\n    const selectCategories = parentCategoires.map(p => {                            //Options for the categories select input\r\n        const sub_categories = childCategories\r\n            .filter(c => { return c.path === `,${p.c_name},`})\r\n            .map(c => {\r\n                return <Option key={c._id} value={c._id}>{c.c_name}</Option>\r\n            });\r\n\r\n        return <OptGroup key={p._id} label={p.c_name}>{sub_categories}</OptGroup>\r\n    });\r\n\r\n    const sizeOptionsList = sizeOptions.map((s, i) => {\r\n        return(\r\n            <div key={i}>\r\n                <span>{s}</span> \r\n                <Button type='text' danger onClick={() => {deleteSizeOption(s, sizeOptions, setSizeOptions)}}>x</Button>\r\n            </div>\r\n        );\r\n    });\r\n\r\n    \r\n        \r\n\r\n\r\n\r\n\r\n    const onFinish = newProduct => {                                                    //handles form submission\r\n        newProduct.p_size = sizeOptions;                //adding size options to the form data\r\n\r\n        if(pageState === EDIT){\r\n            newProduct.p_code = product.p_code;             //set the new form p_code and p_image_uri fields to those of the original\r\n            newProduct.p_image_uri = product.p_image_uri;   \r\n            let number_of_new_images = 0;                   //used for checking if the product has been edited\r\n         \r\n            const formData = createFormDataEdit(newProduct, product, fileList);\r\n\r\n            [...fileList].forEach(image => {   \r\n                if(!image.uid.startsWith('EST')) number_of_new_images++;          \r\n            });\r\n\r\n            if(!checkProductsEqual(newProduct, product, number_of_new_images, originalImageListLength)){\r\n                setNewPage(false);\r\n                if(productsList.length !== 0) confirmEdit(newProduct, formData, auth.access_token, updateAuth, dispatch);    //if the Store contains the products, need to update this as well as do API call                                                                                 \r\n                else confirmEdit(newProduct, formData, auth.access_token, updateAuth);    //if the Store does not contain products, just need to do API call. do not need to update store   \r\n            }\r\n        }\r\n\r\n        if(pageState === ADD){                                      //if the page is in add mode, add the product\r\n            setNewPage(false);\r\n            let formData = createFormData(newProduct, fileList);\r\n            \r\n            for(let i = 0; i < fileList.length; i++)  newProduct.p_image_uri[i] = URL.createObjectURL(fileList[i].originFileObj);\r\n           \r\n            if(productsList.length !== 0) confirmAdd(newProduct, formData, auth.access_token, updateAuth, dispatch,);       //if there are products in redux store, add product there as well\r\n            else confirmAdd(newProduct, formData, auth.access_token, updateAuth);              //else just make the request as usual\r\n        };\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n    return (\r\n        <div>\r\n            {pageState === EDIT ? <h1 id=\"ae-product-header-title\">Editing Product: {product.p_code}</h1> : <></>}\r\n            {pageState === ADD ? <h1 id=\"ae-product-header-title\">Add Product</h1> : <></>}\r\n\r\n            <Form\r\n                encType='multipart/form-data'\r\n                form = {form}\r\n                onFinish={onFinish}\r\n                onFinishFailed={err => (\"Failed submit\", err)}\r\n            >\r\n                <div id=\"ae-product-form-wrapper\">\r\n                    <div className=\"ae-product-form\">\r\n                        <div className=\"ae-product-input\">\r\n                            <div><i style = {{color: 'red'}}>*</i> Product Name</div> \r\n\r\n                            <Form.Item \r\n                                name=\"p_name\"\r\n                                rules={[\r\n                                    {\r\n                                        required: true,\r\n                                        message: 'Please input the name of the product',\r\n                                        validateTrigger: \"onSubmit\",\r\n                                        whitespace: true\r\n                                    }\r\n                            ]}>\r\n                                <Input style ={{width:\"500px\"}}/>\r\n                            </Form.Item>\r\n                        </div>\r\n                        \r\n                        {\r\n                            pageState === ADD\r\n                            ?   <div>  \r\n                                    <div><i style = {{color: 'red'}}>*</i> Product Code</div> \r\n                                    <Form.Item \r\n                                        name=\"p_code\"\r\n                                        rules={[\r\n                                            {\r\n                                                required: true,\r\n                                                message: 'Please input the product code',\r\n                                                whitespace: true,\r\n                                                validateTrigger: \"onSubmit\",\r\n                                                \r\n                                            }\r\n                                    ]}>\r\n                                        <Input onChange={e => {removeSpaces(e, form, 'p_code')}} style ={{width:\"500px\"}}/>\r\n                                    </Form.Item>\r\n                                </div>\r\n                            :   <></>\r\n                        }\r\n\r\n                        <div><i style = {{color: 'red'}}>*</i> Units per item\r\n                            <Form.Item \r\n                                name=\"p_unit\"\r\n                                rules={[\r\n                                    {\r\n                                        required: true,\r\n                                        message: 'Please add value to this field',\r\n                                        validateTrigger: \"onSubmit\",\r\n                                        whitespace: true\r\n                                    },\r\n                                    {\r\n                                        validator: async (_, p_unit) => {\r\n                                            const reg = /^\\d+?\\s\\w+?\\/\\w+$/;\r\n                                            if (!reg.test(p_unit) && p_unit !== \"\" && p_unit !== undefined){\r\n                                                return Promise.reject(new Error(\"Please user the correct formatting\"));\r\n                                            }\r\n                                        },\r\n                                        validateTrigger: \"onSubmit\"\r\n                                    }\r\n                            ]}>\r\n                                <Input placeholder=\"Valid input e.g., 10 items/box, 20 bags/container\" maxLength={30}/>\r\n                            </Form.Item>\r\n                        </div>\r\n                        \r\n                        <div style = {{ width: \"500px\", paddingTop: \"4%\"}}>  \r\n                            <Form.Item \r\n                                name=\"p_image_uri\"\r\n                                getValueFromEvent={info => { return info.fileList }}                                      //this name is subject to change\r\n                                rules={[\r\n                                    {\r\n                                        validateTrigger: 'onSubmit',\r\n                                        validator: async (_) => {\r\n                                            if (fileList.length <= 0){\r\n                                                return Promise.reject(new Error(\"You must have at least one image uploaded\"));\r\n                                            } \r\n                                        }\r\n                                    }\r\n                                ]}  \r\n                            >\r\n                                <Upload \r\n                                    fileList={fileList}\r\n                                    listType = \"picture-card\"\r\n                                    onPreview = {file => { onPreview(file, fileList, updateFileList, product, setProduct) }}\r\n                                    onChange = {info => { updateFileList([...info.fileList]) }}\r\n                                    beforeUpload = {beforeUpload}\r\n                                    onRemove = {file => {onRemove(file, fileList, updateFileList, product, setProduct)}}\r\n                                >\r\n                                    {fileList.length < 6 && '+ Drag image or click'} \r\n                                </Upload>\r\n                            </Form.Item>\r\n                        \r\n                            <div><i style = {{color: 'red'}}>*</i> Size Options</div> \r\n                            <Form.Item \r\n                                name=\"p_size\"\r\n                                rules={[\r\n                                    {\r\n\r\n                                        validator: async (_,) => {\r\n                                            if (sizeOptions.length <= 0){\r\n                                                return Promise.reject(new Error('Must have at least 1 size option'));\r\n                                            } \r\n                                        },\r\n                                        validateTrigger: \"onSubmit\",\r\n                                        message: 'Please input at least 1 size option'\r\n                                    }\r\n                            ]}>\r\n                                <Input id=\"size-option-input\" placeholder={\"Enter size options for this product\"} style ={{width:\"500px\"}}/>     \r\n                            </Form.Item>\r\n\r\n                            <Button onClick={() => {addSizeOption(sizeOptions, setSizeOptions)}}>Add</Button>\r\n\r\n                            <div style={{textAlign: 'left', paddingTop: '2%'}}>\r\n                                {sizeOptionsList}\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"ae-product-form\">\r\n                        <div className=\"ae-product-input\">\r\n                            <div><i style = {{color: 'red'}}>*</i> Unit Price</div> \r\n\r\n                            <Form.Item \r\n                                name=\"p_price\"\r\n                                rules={[\r\n                                    {\r\n                                        required: true,\r\n                                        message: 'Please input the price of the product',\r\n                                        validateTrigger: \"onSubmit\",\r\n                                        whitespace:true\r\n                                    },\r\n\r\n                                    {\r\n                                        validator: async (_, value) => {\r\n                                            if (isNaN(value)){\r\n                                                return Promise.reject(new Error('Please only write numbers to the second decimal place'));\r\n                                            } \r\n                                        }\r\n                                    }\r\n                            ]}>\r\n                                <Input maxLength={6} onChange={e => {onPriceChange(e, form)}}/>\r\n                            </Form.Item>\r\n                        </div>\r\n\r\n                        <div>\r\n                            <div><i style = {{color: 'red'}}>*</i> Category</div>\r\n\r\n                            <Form.Item \r\n                                name=\"p_categories\"\r\n                                rules={[\r\n                                    {\r\n                                        required: true,\r\n                                        message: 'Please input the product category',\r\n                                        validateTrigger: \"onSubmit\"\r\n                                    }\r\n                            ]}>\r\n                                <Select placeholder=\"Select a category\">\r\n                                    {selectCategories}\r\n                                </Select>\r\n                            </Form.Item>\r\n                        </div>\r\n                     \r\n                        <div> Product Description\r\n                            \r\n                            <Form.Item \r\n                                name=\"p_description\"\r\n                                rules={[\r\n                                    {\r\n                                        whitespace: true,\r\n                                        message: 'No white spaces',\r\n                                        validateTrigger: \"onSubmit\"\r\n                                    }]}\r\n                            >\r\n                                <Input.TextArea style ={{width:\"500px\", height: \"125px\"}}/>\r\n                            </Form.Item>\r\n                        </div>\r\n\r\n                        <Form.Item>\r\n                            <Button type=\"primary\" htmlType=\"submit\" >\r\n                                <b>\r\n                                    {pageState === EDIT ? <>Edit </> : <></> }\r\n                                    {pageState === ADD ? <>Add </> : <></> }\r\n                                    Product\r\n                                </b>\r\n                            </Button>\r\n                        </Form.Item>\r\n                    </div>\r\n                </div> \r\n            </Form>   \r\n        </div>\r\n    );\r\n}\r\n   \r\nexport default AddEditProduct;","import { Modal } from 'antd';\r\nimport { addCategory, deleteCategory } from './Functions';\r\n\r\nexport const confirmAddingCategory = (values, form, access_token, updateAuth) => {\r\n    Modal.confirm({\r\n        title: 'Adding parent category',\r\n        content: `Are you sure you want to add a category with name: [${values.categoryName}] to the database?`,\r\n        onOk() {\r\n            return addCategory(values, form, access_token, updateAuth);\r\n        }\r\n    })\r\n}\r\n\r\nexport const confirmDeleteCategory = (value, access_token, updateAuth) => {\r\n    Modal.confirm({\r\n        title: 'WARNING! Deleting category [' + value.categoryToDelete + ']!',\r\n        content: `Are you sure you want to delete the category with name: [${value.categoryToDelete}]? Deleting this category will also delete its sub-categories and any products that falls under these sub-categories. This action cannot be reversed!`,\r\n        okType: 'danger',\r\n        onOk() {\r\n            return deleteCategory(value.categoryToDelete, access_token, updateAuth);\r\n        }\r\n    })\r\n}\r\n\r\nexport const errorModal = () => {\r\n    Modal.error({\r\n      title: 'Something went wrong!',\r\n      content: 'Try refreshing page or contact support!',\r\n    });\r\n}\r\n\r\nexport const successModal = (message) => {\r\n    Modal.info({\r\n        title: 'Success!',\r\n        content: <p>{message}</p>,\r\n        onOk() {\r\n            window.location.reload();\r\n        }\r\n    });\r\n  }","import axios from 'axios';\r\nimport { _logout } from '../../../_services/SharedFunctions';\r\nimport { errorModal, successModal } from './Modals';\r\n\r\nconst addCategoryURL = 'api/categories/add-category';\r\nconst deleteCategoryURL = 'api/categories/?c_name=';\r\n\r\nexport const addCategory = (values, form, access_token, updateAuth) => {\r\n    const config = { headers:{ authorization : `Bearer ${access_token}` }};\r\n\r\n    const newCategory = {\r\n        path: (values.categoryParentPath === 'root' ? null : values.categoryParentPath),\r\n        c_name: values.categoryName,\r\n        c_description: values.categoryDescription\r\n    }\r\n    \r\n    return axios.post(addCategoryURL, newCategory, config)\r\n    .then(res => {\r\n        if(res.data.success){\r\n            successModal(`Added parent category \"${newCategory.c_name}\" successfully.`);\r\n        }\r\n        else{\r\n            console.error(\"Sorry but the following error occured when adding new category[\" + newCategory.c_name + \"]: \")\r\n            console.error(res);\r\n            form.setFields([\r\n                {\r\n                    name: \"categoryName\",\r\n                    errors: ['Category name already taken!'],\r\n                }\r\n            ]);\r\n        }\r\n    })\r\n    .catch(err => {\r\n        console.error(err);\r\n        if(err.response.status === 401) _logout(updateAuth);\r\n        else errorModal();\r\n    })\r\n}\r\n\r\nexport const deleteCategory = (c_name, access_token, updateAuth) => {\r\n    const config = { headers:{ authorization : `Bearer ${access_token}` }};\r\n\r\n    return axios.delete(deleteCategoryURL + encodeURI(c_name), config)\r\n        .then(res => {\r\n            if (res.data.success) {\r\n                successModal(`Deleted category [${c_name}] from the database!`);\r\n            }\r\n            else {\r\n                console.error(\"Sorry but the following error occured when deleting the category[\" + c_name + \"]: \")\r\n                console.error(res);\r\n                errorModal();\r\n            }\r\n        })\r\n        .catch(err => {\r\n            console.error(err);\r\n            if(err.response.status === 401) _logout(updateAuth);\r\n            else errorModal();\r\n        });\r\n}","import { Input, Button, Form, Tree, TreeSelect} from 'antd';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { getAllCategories } from '../../_actions/categoryActions';\r\nimport { useEffect } from 'react';\r\nimport { confirmAddingCategory, confirmDeleteCategory } from './Helpers/Modals';\r\nimport { getCategoriesHierarchy } from '../../SharedComponents/Categories/CategoriesFunctions';\r\nimport { useAuth, useAuthUpdate } from '../../SharedComponents/AuthContext/AuthContext';\r\n\r\nconst { TextArea } = Input;\r\n\r\nconst ManageCategories = () => {\r\n    const dispatch = useDispatch();\r\n    const categories = useSelector(state => state.categoryState.categories);\r\n    const [form_add_category] = Form.useForm();\r\n    const [form_delete_category] = Form.useForm();\r\n    const updateAuth = useAuthUpdate();             //authorization data\r\n    const auth = useAuth();\r\n\r\n    const onSubmitAddCategoryForm = values => {\r\n        confirmAddingCategory(values, form_add_category, auth.access_token, updateAuth);\r\n    }\r\n    const onSubmitDeleteCategoryForm = values => {\r\n        confirmDeleteCategory(values, auth.access_token, updateAuth);\r\n    }\r\n    const createPathForCategory = (node) => {\r\n        if(node === null){\r\n            console.error(\"Invalid selection for parent node\");\r\n            return null;\r\n        }\r\n        if(node.path === null){\r\n            return \",\" + node.c_name + \",\";\r\n        } else {\r\n            if(node.value === 'root'){\r\n                return null;\r\n            } else {\r\n                return node.path + node.c_name + \",\";\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    useEffect(() => {             \r\n        if(!categories.length) dispatch(getAllCategories())\r\n    }, [categories.length, dispatch, categories]);\r\n\r\n    return (\r\n        <>\r\n            <div className=\"page-title-holder fill\">\r\n                <h2>Manage Categories</h2>\r\n            </div>\r\n            <div className=\"container flex-horizontal-box-container\">\r\n                <div className=\"box-item-xs-12 box-item-sm-12 box-item-md-6 box-item-lg-6 box-item-xl-4 box-shadow\" id=\"manage-categories-current-panel\">\r\n                    <h3>Current Categories</h3>\r\n                    <Tree treeData={getCategoriesHierarchy(categories, false)} selectable={false}/>\r\n                </div>\r\n                <div className=\"box-item-xs-12 box-item-sm-12 box-item-md-6 box-item-lg-6 box-item-xl-4 box-shadow\" id=\"manage-categories-add-category-panel\">\r\n                    <h3>Add Category</h3>\r\n                    <Form form={form_add_category} onFinish={onSubmitAddCategoryForm}\r\n                      initialValues={{\"categoryParentPath\": 'root'}}>\r\n                        <label htmlFor=\"categoryParentPath\">Select parent category</label>\r\n                        <Form.Item name=\"categoryParentPath\"\r\n                            rules={[\r\n                                {\r\n                                    required: true,\r\n                                    message: 'Please select a parent category!'\r\n                                }\r\n                            ]}>\r\n                            {/* Input for Category Parent - for path*/}\r\n                            <TreeSelect treeData={[{\r\n                                title: '<No Parent> Root',\r\n                                value: 'root',\r\n                                children: getCategoriesHierarchy(categories, false)\r\n                            }]} treeDefaultExpandAll placeholder=\"<No Parent> Root\" onSelect={(values, node, extra) => { form_add_category.setFieldsValue({categoryParentPath: createPathForCategory(node)}) }}/>\r\n                        </Form.Item>\r\n                        <label htmlFor=\"categoryName\">Enter category name</label>\r\n                        <Form.Item name=\"categoryName\"\r\n                            rules={[\r\n                                {\r\n                                    required: true,\r\n                                    message: 'Please input the new category\\'s name!'\r\n                                }\r\n                            ]}>\r\n                            <Input maxLength={30} placeholder=\"Type new category name here\" />\r\n                        </Form.Item>\r\n                        <label htmlFor=\"categoryDescription\">Enter category description</label>\r\n                        <Form.Item name=\"categoryDescription\" rules={[\r\n                            {\r\n                                required: true,\r\n                                message: 'Please input the new category\\'s description!'\r\n                            }\r\n                        ]}>\r\n                            <TextArea rows={4} placeholder=\"Type new category description here\" style={{resize: 'none'}}/>\r\n                        </Form.Item>\r\n                        <Form.Item>\r\n                            <div>\r\n                                <Button type=\"primary\" htmlType='submit'>Add Category</Button>\r\n                                &ensp;\r\n                                <Button type=\"secondary\" onClick={(e) => { form_add_category.setFieldsValue({ categoryParentPath: 'root', categoryName: undefined, categoryDescription: undefined }); }}>Clear Details</Button>\r\n                            </div>\r\n                        </Form.Item>\r\n                    </Form>\r\n                </div>\r\n                <div className=\"box-item-xs-12 box-item-sm-12 box-item-md-12 box-item-lg-12 box-item-xl-4 box-shadow\" id=\"manage-categories-delete-category-panel\">\r\n                    <h3>Delete Category</h3>\r\n                    <Form form={form_delete_category} onFinish={onSubmitDeleteCategoryForm}>\r\n                        <label htmlFor=\"categoryToDelete\">Select category to delete</label>\r\n                        <Form.Item name=\"categoryToDelete\"\r\n                            rules={[\r\n                                {\r\n                                    required: true,\r\n                                    message: 'Please select a category!'\r\n                                }\r\n                            ]}>\r\n                            <TreeSelect treeData={getCategoriesHierarchy(categories, false)} treeDefaultExpandAll placeholder=\"Please select a category to delete\" onSelect={(values, node, extra) => { form_delete_category.setFieldsValue({ categoryToDelete: node.c_name})}}/>\r\n                        </Form.Item>\r\n                        <Form.Item>\r\n                            <Button type=\"primary\" htmlType='submit'>Delete Category</Button>\r\n                        </Form.Item>\r\n                    </Form>\r\n                </div>\r\n            </div> \r\n        </>\r\n    );\r\n}\r\n\r\nexport default ManageCategories;","import { userConstants } from '../_constants/user.constants';\r\n\r\nimport Login from '../Pages/Login/Login';\r\nimport Homepage from '../Pages/Homepage/Homepage';\r\nimport HomepageAdmin from '../Pages/HomepageAdmin/HomepageAdmin';\r\nimport EditCustomer from '../Pages/EditCustomer/EditCustomer';              //might need to change role? This should be for CUSTOMER role?\r\nimport Products from '../Pages/Products/Products';\r\nimport ProductDetails from '../Pages/Products/ProductDetails';\r\nimport DeliveryDispatch from '../Pages/DeliveryDispatch/DeliveryDispatch';\r\nimport ContactUs from '../Pages/ContactUs/ContactUs';\r\nimport TermsConditions from '../Pages/TermsConditions/TermsConditions';\r\nimport Blog from '../Pages/Blog/Blog';\r\nimport EmailRequest from '../Pages/EmailRequest/EmailRequest';\r\nimport ReenterPassword from '../Pages/ReenterPassword/ReenterPassword';\r\nimport MyAccount from '../Pages/MyAccount/MyAccount';\r\nimport Cart from '../Pages/Cart/CartPage';\r\nimport CheckoutShipping from '../Pages/Checkout/CheckoutShipping';\r\nimport CheckoutSecurePayment from '../Pages/Checkout/CheckoutSecurePayment';\r\nimport CheckoutReviewOrder from '../Pages/Checkout/CheckoutReviewOrder';\r\nimport CheckoutOrderComplete from '../Pages/Checkout/CheckoutOrderComplete';\r\nimport PaymentCancelled from '../Pages/Checkout/PaymentCancelled';\r\nimport ManageOrdersCustomer from '../Pages/ManageOrdersCustomer/ManageOrdersCustomer';\r\nimport Order from '../Pages/Order/Order';\r\nimport CurrentOrders from '../Pages/CurrentOrders/CurrentOrders';\r\nimport ProcessedOrders from '../Pages/ProcessedOrders/ProcessedOrders';\r\nimport EditCompanyInfo from '../Pages/EditCompanyInfo/EditCompanyInfo';\r\nimport ManageProducts from '../Pages/ManageProducts/ManageProducts';\r\nimport AddEditProduct from '../Pages/AddEditProduct/AddEditProduct';\r\nimport ManageCategories from '../Pages/ManageCategories/ManageCategories';\r\n\r\n//if we dont have change password page for customer, will need to add Cutomer role to forgotpassword pages\r\n\r\nconst config =  {\r\n    routes: [\r\n        //CUSTOMER\r\n        {\r\n            component: EditCustomer,\r\n            url: '/editCustomer',\r\n            roles: [userConstants.ROLE_CUSTOMER],\r\n            exact: false\r\n        },\r\n        {\r\n            component: ManageOrdersCustomer,\r\n            url: '/manageOrders',\r\n            roles: [userConstants.ROLE_CUSTOMER],\r\n            exact: false\r\n        },\r\n        {\r\n            component: MyAccount,\r\n            url: '/myAccount',\r\n            roles: [userConstants.ROLE_CUSTOMER],\r\n            exact: false\r\n        },\r\n\r\n\r\n\r\n\r\n        //GUEST\r\n        {\r\n            component: EmailRequest,\r\n            url: '/emailRequest',\r\n            roles: [userConstants.ROLE_GUEST],\r\n            exact: false\r\n        },\r\n        {\r\n            component: ReenterPassword,\r\n            url: '/user/reset-password-email/token/:token/email/:email',\r\n            roles: [userConstants.ROLE_GUEST],\r\n            exact: false\r\n        },\r\n\r\n\r\n\r\n\r\n        //CUSTOMER AND GUEST\r\n        {\r\n            component: Homepage,\r\n            url: '/',\r\n            roles: [userConstants.ROLE_CUSTOMER, userConstants.ROLE_GUEST],\r\n            exact: true\r\n        },\r\n        {\r\n            component: Products,\r\n            url: '/products',\r\n            roles: [userConstants.ROLE_CUSTOMER, userConstants.ROLE_GUEST],\r\n            exact: true\r\n        },\r\n        {\r\n            component: Products,\r\n            url: '/products/:category',\r\n            roles: [userConstants.ROLE_CUSTOMER, userConstants.ROLE_GUEST],\r\n            exact: false\r\n        },\r\n        {\r\n            component: ProductDetails,\r\n            url: '/productDetails',\r\n            roles: [userConstants.ROLE_CUSTOMER, userConstants.ROLE_GUEST],\r\n            exact: false\r\n        },\r\n        {\r\n            component: DeliveryDispatch,\r\n            url: '/deliveryDispatch',\r\n            roles: [userConstants.ROLE_CUSTOMER, userConstants.ROLE_GUEST],\r\n            exact: false\r\n        },\r\n        {\r\n            component: ContactUs,\r\n            url: '/contactUs',\r\n            roles: [userConstants.ROLE_CUSTOMER, userConstants.ROLE_GUEST],\r\n            exact: false\r\n        },\r\n        {\r\n            component: TermsConditions,\r\n            url: '/termsConditions',\r\n            roles: [userConstants.ROLE_CUSTOMER, userConstants.ROLE_GUEST],\r\n            exact: false\r\n        },\r\n        {\r\n            component: Blog,\r\n            url: '/blog',\r\n            roles: [userConstants.ROLE_CUSTOMER, userConstants.ROLE_GUEST],\r\n            exact: false\r\n        },\r\n        {\r\n            component: Cart,\r\n            url: '/cart',\r\n            roles: [userConstants.ROLE_CUSTOMER, userConstants.ROLE_GUEST],\r\n            exact: false\r\n        },\r\n        {\r\n            component: CheckoutShipping,\r\n            url: '/checkoutShipping',\r\n            roles: [userConstants.ROLE_CUSTOMER, userConstants.ROLE_GUEST],\r\n            exact: false\r\n        },\r\n        {\r\n            component: CheckoutSecurePayment,\r\n            url: '/checkoutSecurePayment',\r\n            roles: [userConstants.ROLE_CUSTOMER, userConstants.ROLE_GUEST],\r\n            exact: false\r\n        },\r\n        {\r\n            component: CheckoutReviewOrder,\r\n            url: '/checkoutReviewOrder',\r\n            roles: [userConstants.ROLE_CUSTOMER, userConstants.ROLE_GUEST],\r\n            exact: false\r\n        },\r\n        {\r\n            component: CheckoutOrderComplete,\r\n            url: '/checkoutOrderComplete',\r\n            roles: [userConstants.ROLE_CUSTOMER, userConstants.ROLE_GUEST],\r\n            exact: false\r\n        },\r\n        {\r\n            component: PaymentCancelled,\r\n            url: '/paymentCancelled',\r\n            roles: [userConstants.ROLE_CUSTOMER, userConstants.ROLE_GUEST],\r\n            exact: false\r\n        },\r\n        {\r\n            component: PaymentCancelled,\r\n            url: '/paymentCancelled',\r\n            roles: [userConstants.ROLE_CUSTOMER, userConstants.ROLE_GUEST],\r\n            exact: false\r\n        },\r\n\r\n\r\n\r\n\r\n        //ADMIN\r\n        {\r\n            component: HomepageAdmin,\r\n            url: '/admin',\r\n            roles: [userConstants.ROLE_ADMIN],\r\n            exact: false\r\n        },\r\n        {\r\n            component: Order,\r\n            url: '/order',\r\n            roles: [userConstants.ROLE_ADMIN],\r\n            exact: true\r\n        },\r\n        {\r\n            component: Order,\r\n            url: '/order/:po_number',\r\n            roles: [userConstants.ROLE_ADMIN],\r\n            exact: true\r\n        },\r\n        {\r\n            component: Order,\r\n            url: '/order/:po_number/:status',\r\n            roles: [userConstants.ROLE_ADMIN],\r\n            exact: false\r\n        },\r\n        {\r\n            component: CurrentOrders,\r\n            url: '/currentOrders',\r\n            roles: [userConstants.ROLE_ADMIN],\r\n            exact: false\r\n        },\r\n        {\r\n            component: ProcessedOrders,\r\n            url: '/processedOrders',\r\n            roles: [userConstants.ROLE_ADMIN],\r\n            exact: false\r\n        },\r\n        {\r\n            component: EditCompanyInfo,\r\n            url: '/editCompanyInformation',\r\n            roles: [userConstants.ROLE_ADMIN],\r\n            exact: false\r\n        },\r\n        {\r\n            component: ManageProducts,\r\n            url: '/manageProducts',\r\n            roles: [userConstants.ROLE_ADMIN],\r\n            exact: false\r\n        },\r\n        {\r\n            component: AddEditProduct,\r\n            url: '/editAddProducts',\r\n            roles: [userConstants.ROLE_ADMIN],\r\n            exact: true\r\n        },\r\n        {\r\n            component: AddEditProduct,\r\n            url: '/editAddProducts/:p_code',\r\n            roles: [userConstants.ROLE_ADMIN],\r\n            exact: false\r\n        },\r\n        {\r\n            component: ManageCategories,\r\n            url: '/manageCategories',\r\n            roles: [userConstants.ROLE_ADMIN],\r\n            exact: false\r\n        },\r\n\r\n\r\n\r\n\r\n        //NO ROLE\r\n        {\r\n            component: Login,\r\n            url: '/login',\r\n            roles: null,\r\n            exact: false\r\n        },\r\n        {\r\n            component: Login,\r\n            url: '*',\r\n            roles: null,\r\n            exact: false\r\n        },\r\n    ]\r\n}\r\n\r\nexport default config;","import CategoryList from './CategoryList';\r\nimport { HomepageCarousel } from './HomepageCarousel';\r\nimport '../../_assets/CSS/pages/Homepage/Homepage.css';\r\n\r\nexport default function Homepage(){    \r\n    return(\r\n        <div className=\"homepage-product-list-outer-container-0\">\r\n            <HomepageCarousel />\r\n            <h3>SHOWN BY CATEGORY</h3>\r\n\r\n            <div id=\"homepage-product-list-outer-container-1\">\r\n                <CategoryList />\r\n            </div>\r\n        </div>\r\n    );\r\n}","import { Route, Redirect } from 'react-router';\r\nimport { useAuth } from '../SharedComponents/AuthContext/AuthContext'; \r\nimport { userConstants } from '../_constants/user.constants';\r\n\r\nconst PrivateRoute = ({component: Component, roles = [], ...rest}) => {\r\n    const user = useAuth();\r\n    const hasRole = roles.some(role => user.roles[0].includes(role));\r\n\r\n    return (\r\n        <Route {...rest} render={props => (\r\n            hasRole \r\n            ? <Component {...props} /> \r\n            : user.roles[0] === userConstants.ROLE_ADMIN \r\n            ? <Redirect to='/admin'/> \r\n            : <Redirect to='/'/>\r\n        )} />\r\n    );\r\n};\r\n\r\nexport default PrivateRoute;\r\n\r\n","import { Menu } from 'antd';\r\nimport { Link } from 'react-router-dom';\r\n\r\n\r\n\r\n\r\n\r\nexport default function FooterMenu(){\r\n\r\n      return (\r\n        <Menu className=\"footer-menubar\"\r\n              mode=\"horizontal\" >\r\n\r\n            <Menu.Item key=\"Terms\" className=\"item\">\r\n              <Link to=\"/termsConditions\"> Terms and Conditions </Link>\r\n            </Menu.Item >\r\n\r\n            <Menu.Item key=\"Support\" className=\"item\">\r\n              Support\r\n            </Menu.Item >\r\n\r\n            <Menu.Item key=\"Contact\" className=\"item\">\r\n              <Link to=\"/contactUs\"> Contact Us </Link>\r\n            </Menu.Item>\r\n        </Menu>\r\n    );\r\n}\r\n","import { Menu } from 'antd';\r\nimport { Link } from 'react-router-dom';\r\n\r\nexport default function FooterMenuMobile(){\r\n\r\n      return (\r\n        <Menu className=\"footer-menubar-mobile\" mode=\"vertical\" >\r\n            <Menu.Item key=\"Home\" className=\"item\">\r\n              Home\r\n            </Menu.Item >\r\n\r\n            <Menu.Item key=\"Terms\" className=\"item\">\r\n              <Link to=\"/termsAndConditions\"> Terms and Conditions </Link>\r\n            </Menu.Item >\r\n\r\n            <Menu.Item key=\"Support\" className=\"item\">\r\n              Support\r\n            </Menu.Item >\r\n\r\n            <Menu.Item key=\"Contact\" className=\"item\">\r\n              <Link to=\"/contactUs\"> Contact Us </Link>\r\n            </Menu.Item>\r\n        </Menu>\r\n    );\r\n  }","import { useSelector } from 'react-redux';\r\nimport FooterMenu from './FooterMenu';\r\nimport FooterMenuMobile from './FooterMenuMobile';\r\nimport { useAuth } from '../AuthContext/AuthContext';\r\nimport { userConstants } from '../../_constants/user.constants';\r\n\r\nexport default function FooterMain(){\r\n    const isLoading = useSelector(state => state.cartState.loading); // cart state\r\n    const auth = useAuth();\r\n\r\n    return (\r\n        <>\r\n            {   \r\n                auth.roles[0] === userConstants.ROLE_ADMIN\r\n                ?\r\n                    <></>\r\n                :\r\n                isLoading \r\n                ?\r\n                    <div id=\"copyright-background\">\r\n                        ©Copyright ©2020 Sungent Packaging | All rights reserved\r\n                    </div>\r\n                :\r\n                    <>\r\n                        <FooterMenu />\r\n                        <FooterMenuMobile />\r\n                        <div id=\"copyright-background\">©Copyright ©2020 Sungent Packaging | All rights reserved</div>\r\n                    </>\r\n            }\r\n        </>\r\n    );\r\n}","import './App.less';\r\nimport '../_assets/CSS/style.scss'\r\nimport Navbar from '../SharedComponents/Navbar/Navbar';\r\nimport { history } from '../_helpers/history';\r\nimport { Router, Route, Switch } from 'react-router-dom';\r\nimport config from '../_routers/config';\r\nimport PrivateRoute from '../_routers/PrivateRoute';\r\nimport AuthProvider from '../SharedComponents/AuthContext/AuthContext';\r\nimport Footer from '../SharedComponents/Footer/FooterMain';\r\n\r\nconst App = () => {\r\n    return(\r\n        <>\r\n            <AuthProvider>\r\n                <Router history = {history}>\r\n                    <div className=\"Website-Header\">\r\n                        <Navbar />\r\n                    </div>\r\n                        <div className=\"Website-Body\" >\r\n                            <Switch>\r\n                                {\r\n                                    config.routes.map(({component, url, roles, exact}) => roles === null \r\n                                        ? <Route key={url} path={url} component={component}/> \r\n                                        : exact \r\n                                        ? <PrivateRoute key={url} exact path={url} component={component} roles={roles} />\r\n                                        : <PrivateRoute key={url} path={url} component={component} roles={roles} /> \r\n                                    )\r\n                                }\r\n                            </Switch>\r\n                        </div>\r\n                    <footer className=\"Website-Footer\">\r\n                        <Footer />\r\n                    </footer>\r\n                </Router>\r\n            </AuthProvider>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default App;","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import { \r\n    GET_PRODUCTS, \r\n    LOADING_PRODUCTS,\r\n    DELETE_PRODUCT, \r\n    EDIT_PRODUCT, \r\n    ADD_PRODUCT, \r\n    ERROR, \r\n    DEFAULT_ORDER\r\n} from '../_constants/actionTypes.constants';\r\n\r\nconst initState = {\r\n    products: [],\r\n    isLoading: false,\r\n    error: false\r\n}\r\n\r\nconst productReducer = (state = initState, {type, payload}) => {\r\n    switch(type){\r\n        case GET_PRODUCTS:\r\n            return {\r\n                ...state,\r\n                products: payload.sort((a,b) => (a.p_code > b.p_code) ? 1 : ((b.p_code > a.p_code) ? -1 : 0)),\r\n                isLoading: false,\r\n                error: false\r\n            }\r\n        case DEFAULT_ORDER:\r\n            return {\r\n                ...state,\r\n                products: [...state.products].sort((a,b) => (a.p_code > b.p_code) ? 1 : ((b.p_code > a.p_code) ? -1 : 0))\r\n            }\r\n        case LOADING_PRODUCTS: \r\n            return {\r\n                ...state,\r\n                isLoading: payload\r\n            }\r\n        case EDIT_PRODUCT:{\r\n            const index = state.products.findIndex(p => {\r\n                return p.p_code === payload.p_code;\r\n            });\r\n            \r\n            return {\r\n                ...state,\r\n                products: [\r\n                    ...state.products.slice(0, index),\r\n                    payload,\r\n                    ...state.products.slice(index + 1)\r\n                ]\r\n            }\r\n        }\r\n        case DELETE_PRODUCT: \r\n            return {\r\n               ...state,\r\n               products: state.products.filter(p => p.p_code !== payload)\r\n            }\r\n        case ADD_PRODUCT: \r\n            return {\r\n                ...state,\r\n                products: [...state.products, payload]\r\n            }\r\n        case ERROR: \r\n            return {\r\n                ...state,\r\n                error: true\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport default productReducer;","import { \r\n    GET_PRODUCT, \r\n    ERROR,\r\n    SET_LOADING,\r\n} from '../_constants/actionTypes.constants';\r\n\r\nconst initState = {\r\n    product: null,\r\n    isLoading: false,\r\n    error: false\r\n}\r\n\r\nconst productDetailsReducer = (state = initState, { type, payload }) => {\r\n    switch (type) {\r\n        case GET_PRODUCT:\r\n            return {\r\n                ...state,\r\n                product: payload,\r\n                isLoading: false,\r\n                error: false\r\n            }\r\n        case SET_LOADING:\r\n            return {\r\n                ...state,\r\n                isLoading: true,\r\n                error: false\r\n            }\r\n        case ERROR:\r\n            return {\r\n                ...state,\r\n                error: true\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n};\r\n\r\nexport default productDetailsReducer;","import { \r\n    GET_CATEGORIES, \r\n    GET_SUB_CATEGORIES, \r\n    LOADING_CATEGORIES, \r\n    ERROR_CATEGORIES,\r\n    EMPTY_CATEGORIES \r\n} from '../_constants/actionTypes.constants';\r\n\r\nconst initState = {\r\n    categories: [],\r\n    loading: false,\r\n    error: false,\r\n    empty: false\r\n}\r\n\r\nconst categoryReducer = (state = initState, {type, payload}) => {\r\n    switch(type){\r\n        case GET_CATEGORIES:\r\n            return {\r\n                ...state,\r\n                categories: payload,\r\n                loading: false\r\n            }\r\n        case GET_SUB_CATEGORIES:\r\n            return {\r\n                ...state,\r\n                categories: payload,\r\n                loading: false\r\n            }\r\n        case LOADING_CATEGORIES:\r\n            return {\r\n                ...state,\r\n                loading: true\r\n            }\r\n        case ERROR_CATEGORIES:\r\n            return {\r\n                ...state,\r\n                loading: false,\r\n                error: true\r\n            }\r\n        case EMPTY_CATEGORIES: \r\n            return {\r\n                ...state,\r\n                loading: false,\r\n                empty: true\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport default categoryReducer;","import { \r\n    GET_COMPANY_INFO,\r\n    SET_COMPANY_INFO, \r\n    LOADING_COMPANY_INFO \r\n} from '../_constants/actionTypes.constants';\r\n\r\nconst initState = {\r\n    companyInfo: {},\r\n    loading: false,\r\n    error: false\r\n}\r\n\r\nconst companyInfoReducer = (state = initState, {type, payload}) => {\r\n    switch(type){\r\n        case GET_COMPANY_INFO:\r\n            return {\r\n                ...state,\r\n                companyInfo: payload\r\n            }\r\n        case SET_COMPANY_INFO:\r\n            return {\r\n                ...state,\r\n                companyInfo: payload\r\n            }\r\n        case LOADING_COMPANY_INFO:\r\n            return {\r\n                ...state,\r\n                loading: !state.loading\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport default companyInfoReducer;","import { \r\n    GET_COMPLETE_ORDERS, \r\n    ERROR_COMPLETE_ORDERS, \r\n    LOADING_COMPLETE_ORDERS, \r\n    DELETE_COMPLETE_ORDER, \r\n    ADD_COMPLETE_ORDER, \r\n    EDIT_COMPLETE_ORDER \r\n} from '../_constants/actionTypes.constants';\r\n\r\nconst initState = {\r\n    completeOrders: [],\r\n    loading: false,\r\n    error: false\r\n}\r\n\r\nconst completeOrdersReducer = (state = initState, {type, payload}) => {\r\n    switch(type){\r\n        case GET_COMPLETE_ORDERS:\r\n            return {\r\n                ...state,\r\n                completeOrders: payload.sort((a,b) => { return new Date(b.issued_date) - new Date(a.issued_date)}),\r\n                loading: false,\r\n                error: false\r\n            }\r\n        case ERROR_COMPLETE_ORDERS:\r\n            return {\r\n                ...state,\r\n                error: true,\r\n                loading: false\r\n            }\r\n        case LOADING_COMPLETE_ORDERS:\r\n            return {\r\n                ...state,\r\n                loading: payload\r\n            }\r\n        case DELETE_COMPLETE_ORDER:\r\n            return{\r\n                ...state,\r\n                completeOrders: state.completeOrders.filter(o => o.po_number !== payload)\r\n            }\r\n        case ADD_COMPLETE_ORDER: {\r\n            const newArray = [...state.completeOrders, payload];\r\n            newArray.sort((a,b) => { return new Date(b.issued_date) - new Date(a.issued_date)});\r\n            \r\n            return {\r\n                ...state,\r\n                completeOrders: newArray\r\n            }\r\n        }\r\n        case EDIT_COMPLETE_ORDER: {\r\n            const index = state.completeOrders.findIndex(o => {\r\n                return o.po_number === payload.po_number;\r\n            });\r\n            \r\n            return {\r\n                ...state,\r\n                completeOrders: [\r\n                    ...state.completeOrders.slice(0, index),\r\n                    payload,\r\n                    ...state.completeOrders.slice(index + 1)\r\n                ]\r\n            }\r\n        }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport default completeOrdersReducer;","import { \r\n    GET_INCOMPLETE_ORDERS,\r\n    ERROR_INCOMPLETE_ORDERS, \r\n    LOADING_INCOMPLETE_ORDERS, \r\n    DELETE_INCOMPLETE_ORDERS, \r\n    ADD_TRACKING, \r\n    ADD_INCOMPLETE_ORDER, \r\n    EDIT_INCOMPLETE_ORDER \r\n} from '../_constants/actionTypes.constants';\r\nimport { orderStatusConstants } from '../_constants/orderStatus.constants'; \r\n\r\nconst initState = {\r\n    incompleteOrders: [],\r\n    loading: false,\r\n    error: false\r\n}\r\n\r\nconst incompleteOrdersReducer = (state = initState, {type, payload}) => {\r\n    switch(type){\r\n        case GET_INCOMPLETE_ORDERS:\r\n            return {\r\n                ...state,\r\n                incompleteOrders: payload.sort((a,b) => { return new Date(b.issued_date) - new Date(a.issued_date)}),\r\n                loading: false,\r\n                error: false\r\n            }\r\n        case ERROR_INCOMPLETE_ORDERS:\r\n            return {\r\n                ...state,\r\n                error: true,\r\n                loading: false\r\n            }\r\n        case LOADING_INCOMPLETE_ORDERS:\r\n            return {\r\n                ...state,\r\n                loading: payload\r\n            }\r\n        case DELETE_INCOMPLETE_ORDERS:\r\n            return {\r\n                ...state,\r\n                incompleteOrders: state.incompleteOrders.filter(o => o.po_number !== payload)\r\n            }\r\n        case ADD_TRACKING:{\r\n            const index = state.incompleteOrders.findIndex(o => { return o.po_number === payload.po_number });\r\n            const tempArr = state.incompleteOrders;\r\n            let tempObj = tempArr[index];\r\n            \r\n            tempObj.tracking_number = payload.tracking_number;\r\n            tempObj.carrier = payload.carrier;\r\n            tempObj.status = orderStatusConstants.SHIPPED;\r\n\r\n            return {\r\n                ...state,\r\n                incompleteOrders: [...tempArr]\r\n            }\r\n        }\r\n        case ADD_INCOMPLETE_ORDER: {\r\n            const newArray = [...state.incompleteOrders, payload];\r\n            newArray.sort((a,b) => { return new Date(b.issued_date) - new Date(a.issued_date)});\r\n\r\n            return {\r\n                ...state,\r\n                incompleteOrders: newArray\r\n            }\r\n        }\r\n        case EDIT_INCOMPLETE_ORDER: {\r\n            const index = state.incompleteOrders.findIndex(o => {\r\n                return o.po_number === payload.po_number;\r\n            });\r\n            \r\n            return {\r\n                ...state,\r\n                incompleteOrders: [\r\n                    ...state.incompleteOrders.slice(0, index),\r\n                    payload,\r\n                    ...state.incompleteOrders.slice(index + 1)\r\n                ]\r\n            }\r\n        }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport default incompleteOrdersReducer;","/*\r\n  Author: Trang Nguyen\r\n  Notes: This file contains the reducer for all cart actions.\r\n    such as add-to-cart, clear cart, etc.\r\n*/\r\n\r\nimport {\r\n  ADD_TO_CART,\r\n  SET_SHIPPING_INFO,\r\n  SET_LOADING,\r\n  SET_ERROR,\r\n  LOAD_STRIPE,\r\n  INCREASE_QUANTITY,\r\n  DECREASE_QUANTITY,\r\n  REMOVE_ITEMS,\r\n  CLEAR_CART,\r\n  UPDATE_ITEM_INFO,\r\n} from '../_constants/cart.constants'\r\n\r\n// initial state of address\r\nconst address_init = {\r\n  po_attention_to: \"\",\r\n  po_address_line1: \"\",\r\n  po_address_line2: \"\",\r\n  po_suburb: \"Sydney\",\r\n  po_state: \"NSW\",\r\n  po_postcode: 2000,\r\n}\r\n\r\n// the cart's initial state\r\nconst initialState = {\r\n  items: JSON.parse(localStorage.getItem(\"items\")) || [],// array of {item_code, price_id (for stripe), unit_price, \r\n                                                         //   quantity, special_requirements, image_uri[]}\r\n  total: 0, // order total\r\n  address: JSON.parse(localStorage.getItem(\"address\")) || address_init, // shipping address\r\n  c_email: JSON.parse(localStorage.getItem(\"email\")) || \"\", // user email         \r\n  loading: false,    // page's loading state\r\n  error: null,       // if an error is returned\r\n  stripe: null,      // stripe session id\r\n}\r\n\r\n// cart reducer that performs different actions depending on action.type\r\nconst cartReducer= (state = initialState, action)=>{\r\n    \r\n  //INSIDE PRODUCT COMPONENT\r\n  if(action.type === ADD_TO_CART){\r\n    let addedItem = action.product;\r\n    let newTotal = state.total + (addedItem.p_price * action.quantity);\r\n\r\n    // check if the action id exists in the addedItems\r\n    // or if the item exists but the special requirements are different\r\n    // by returning its index (if not exists then return -1)\r\n    const i = state.items\r\n      .findIndex(p =>\r\n        p.item_code === addedItem.p_code \r\n          && p.special_requirements === action.special_requirements\r\n          && p.p_size === action.p_size\r\n      );\r\n    \r\n    if(i !== -1) // if item's already existed\r\n    {\r\n      // update current quantity and requirements of the existing item                    \r\n      state.items[i].quantity += action.quantity;\r\n\r\n      // return the cart state with updated total and item's quantity\r\n      return{\r\n        ...state,\r\n        total: newTotal,\r\n      }\r\n    }\r\n    else{     \r\n      // return cart state with updated item list and total      \r\n      return{\r\n        ...state,\r\n        items: [...state.items, \r\n          {\r\n            item_code: addedItem.p_code,\r\n            p_size: action.p_size,\r\n            quantity: action.quantity,\r\n            special_requirements: action.special_requirements,\r\n          }\r\n        ],            \r\n        total : newTotal\r\n      }\r\n    }\r\n  }\r\n  else if(action.type === INCREASE_QUANTITY){\r\n    const i = action.index;\r\n\r\n    // update new quantity\r\n    state.items[i].quantity += 1;\r\n\r\n    // calc new total\r\n    const newTotal = state.total + state.items[i].unit_price;\r\n\r\n    return {...state, total: newTotal};\r\n  }\r\n  else if(action.type === DECREASE_QUANTITY){\r\n    const i = action.index;\r\n\r\n    // decrease the quantity by 1\r\n    state.items[i].quantity -= 1;\r\n\r\n    // calc new total\r\n    const newTotal = state.total - state.items[i].unit_price;\r\n\r\n    // remove of item list if quantity = 0\r\n    if(state.items[i].quantity === 0){\r\n      state.items.splice(i, 1);\r\n    }\r\n\r\n    return {...state, total: newTotal};\r\n  }\r\n  else if(action.type === REMOVE_ITEMS){\r\n    let newItems = state.items;\r\n    action.invalid_pcodes.forEach(invalid => {\r\n      // remove items that are in invalid_pcodes\r\n      newItems = state.items.filter(item =>\r\n        (item.item_code !== invalid.item_code && item.p_size !== invalid.p_size)\r\n      );\r\n    });  \r\n    \r\n    // calc new total\r\n    let newTotal = 0;\r\n    state.items.forEach(item => {\r\n      newTotal += item.quantity * item.unit_price;\r\n    });\r\n\r\n    return {...state, items: newItems, total: newTotal};\r\n\r\n  }\r\n  else if(action.type === CLEAR_CART){\r\n    return{\r\n      ...state,\r\n      total: 0,\r\n      items: [],\r\n      address: address_init,\r\n      c_email: \"\",\r\n    };\r\n\r\n  }\r\n  else if(action.type === UPDATE_ITEM_INFO){\r\n    // set item info for each item in cart\r\n    action.items.forEach(item => {\r\n      // get the item index\r\n      state.items\r\n        .filter(i => i.item_code === item.p_code)\r\n        .forEach((element, index) => {\r\n\r\n          // add updated info on item\r\n          state.items[index].p_name = item.p_name;\r\n          state.items[index].price_id = item.p_price_id;\r\n          state.items[index].unit_price = item.p_price;\r\n          state.items[index].p_image_uri = item.p_image_uri[0];\r\n\r\n        });      \r\n    });\r\n\r\n    // calc new total\r\n    let newTotal = 0;\r\n    state.items.forEach(item => {\r\n      newTotal += item.quantity * item.unit_price;\r\n    });\r\n\r\n    console.log({total: newTotal})\r\n\r\n    return {...state, total: newTotal};\r\n  }\r\n  else if(action.type === SET_SHIPPING_INFO){\r\n    return { ...state, address: action.address, c_email: action.email };\r\n  }\r\n  else if(action.type === SET_LOADING){\r\n    return { ...state, loading: action.loading };\r\n  }\r\n  else if(action.type === SET_ERROR){\r\n    return {...state, error: action.error};\r\n  }\r\n  else if (action.type === LOAD_STRIPE){\r\n    return {...state, stripe: action.stripe}\r\n  }\r\n  else{\r\n    return state\r\n  }\r\n\r\n}\r\nexport default cartReducer;","import productReducer from './productReducer';\r\nimport productDetailsReducer from './productDetailsReducer';\r\nimport categoryReducer from './categoryReducer';\r\nimport companyInfoReducer from './companyInfoReducer';\r\nimport completeOrdersReducer from './completeOrdersReducer';\r\nimport incompleteOrdersReducer from './incompleteOrdersReducer';\r\nimport cartReducer from './cartReducer';\r\nimport { combineReducers } from 'redux';\r\n\r\n\r\nconst allReducers = combineReducers({\r\n    productState: productReducer,\r\n    productDetailsState: productDetailsReducer,\r\n    categoryState: categoryReducer,\r\n    companyInfoState: companyInfoReducer,\r\n    completeOrdersState: completeOrdersReducer,\r\n    incompleteOrdersState: incompleteOrdersReducer,\r\n    cartState: cartReducer,\r\n});\r\n\r\nexport default allReducers;","import thunk from 'redux-thunk';\r\nimport allReducers from '../_reducers';\r\nimport { createStore, applyMiddleware } from 'redux';\r\n\r\nexport const store = createStore(allReducers, applyMiddleware(thunk));","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App/App';\r\nimport reportWebVitals from './Misc/reportWebVitals';\r\nimport { Provider } from 'react-redux';\r\nimport { store } from './_helpers/store';\r\nimport { HelmetProvider } from 'react-helmet-async';\r\n\r\n\r\n\r\n\r\nReactDOM.render(\r\n  <Provider store = {store}>\r\n    <HelmetProvider>\r\n      <App />\r\n    </HelmetProvider>,\r\n  </Provider>,\r\n  document.getElementById('main')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}