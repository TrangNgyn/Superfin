(this.webpackJsonpsuperfin=this.webpackJsonpsuperfin||[]).push([[0],{242:function(e,t,r){},243:function(e,t,r){},244:function(e,t,r){},406:function(e,t,r){},407:function(e,t,r){},413:function(e,t,r){},415:function(e,t,r){},416:function(e,t,r){},417:function(e,t,r){},418:function(e,t,r){},419:function(e,t,r){},420:function(e,t,r){},422:function(e,t,r){},423:function(e,t,r){},424:function(e,t,r){},425:function(e,t,r){},426:function(e,t,r){},427:function(e,t,r){"use strict";r.r(t);var n=r(0),c=r(37),a=r.n(c),i=(r(242),r(243),r(244),r(9)),s=r(437),o=r(445),l=r(442),d=r(447),j=r(448),u=r(449),b=r(27),m=r(12),h="ROLE_GUEST",p="ROLE_ADMIN",O="ROLE_CUSTOMER",x=r(59),g=Object(x.a)(),f=r(439),v=r(1),_=function(e,t){var r=t.find((function(t){return t._id===e}));return void 0===r?"Category Not Found":r.c_name},y=function(e,t,r,n,c){var a=/^[0-9]*$/,i=e.target.value,s={};if("undefined"!==typeof n){var o=t.getFieldValue(r),l=o[n];""===i||a.test(i)?l[c]=i:l[c]=w(i),s[r]=o}else""===i||a.test(i)?s[r]=i:s[r]=w(i);t.setFieldsValue(s)},w=function(e){for(var t=0;t<e.length;t++)(isNaN(e[t])||" "===e[t])&&(e=e.substring(0,t)+e.substring(t+1,e.length),t--);return e},S=function(e,t,r){var n=e.filter((function(e){return e.c_email===t}));0!==n.length?r(n):f.a.warning({title:"Email not found",content:Object(v.jsx)("div",{children:Object(v.jsx)("p",{children:"Please check the spelling is correct"})}),onOk:function(){}})},N=function(e){for(var t=0;t<e.length;t++)" "!==e[t]&&/^[a-z0-9A-Z]+$/.test(e[t])||(e=e.substring(0,t)+e.substring(t+1,e.length),t--);return e},A=function(e){for(var t=0;t<e.length;t++)if(" "!==e[t])return!1;return!0},C=function(e){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase())},k=function(e){return/^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9])(?=.*?[#?!@$%^&*-]).{8,}$/.test(e)},E=function(e){localStorage.setItem("SUPERFIN_USER",JSON.stringify({roles:[h]})),e({roles:[h]}),g.push("/login")},P=Object(n.createContext)(),I=Object(n.createContext)();function T(){return Object(n.useContext)(P)}function F(){return Object(n.useContext)(I)}var D=function(){try{var e=JSON.parse(localStorage.getItem("SUPERFIN_USER"));return null===e?(localStorage.setItem("SUPERFIN_USER",JSON.stringify({roles:[h]})),{roles:[h]}):(t=e,JSON.stringify({roles:[h]})===JSON.stringify(t)||t.hasOwnProperty("access_token")&&t.hasOwnProperty("expires_in")&&t.hasOwnProperty("roles")&&t.hasOwnProperty("token_type")&&Array.isArray(t.roles)&&4===Object.keys(t).length?e:(localStorage.setItem("SUPERFIN_USER",JSON.stringify({roles:[h]})),g.push("/login"),{roles:[h]}))}catch(r){return localStorage.setItem("SUPERFIN_USER",JSON.stringify({roles:[h]})),g.push("/login"),{roles:[h]}}var t},L=function(e){var t=e.children,r=Object(n.useState)(D()),c=Object(i.a)(r,2),a=c[0],s=c[1];return Object(v.jsx)(P.Provider,{value:a,children:Object(v.jsx)(I.Provider,{value:function(e){s(e)},children:t})})},R=r(22),q=r.n(R),z="GET_PRODUCTS",B="GET_PRODUCT",V="DEFAULT_ORDER",U="LOADING_PRODUCTS",W="DELETE_PRODUCT",M="EDIT_PRODUCT",G="ADD_PRODUCT",J="ERROR",Y="SET_LOADING",Q="GET_CATEGORIES",Z="GET_SUB_CATEGORIES",H="ERROR_CATEGORIES",X="LOADING_CATEGORIES",K="EMPTY_CATEGORIES",$="GET_COMPANY_INFO",ee="SET_COMPANY_INFO",te="LOADING_COMPANY_INFO",re="GET_COMPLETE_ORDERS",ne="LOADING_COMPLETE_ORDERS",ce="DELETE_COMPLETE_ORDER",ae="ERROR_COMPLETE_ORDERS",ie="ADD_COMPLETE_ORDER",se="EDIT_COMPLETE_ORDER",oe="GET_INCOMPLETE_ORDERS",le="LOADING_INCOMPLETE_ORDERS",de="DELETE_INCOMPLETE_ORDERS",je="ERROR_INCOMPLETE_ORDERS",ue="ADD_TRACKING",be="ADD_INCOMPLETE_ORDER",me="EDIT_INCOMPLETE_ORDER",he=function(){return function(e){e(pe()),q.a.get("/api/categories/all-categories").then((function(t){0===t.data.length?e({type:K}):e({type:Q,payload:t.data})})).catch((function(t){console.log(t),e({type:H})}))}},pe=function(){return{type:X}},Oe=r.p+"static/media/new_logo.462ce060.jpg",xe=s.a.SubMenu;function ge(){var e=Object(m.c)(),t=F(),r=T(),c=Object(n.useState)({}),a=Object(i.a)(c,2),x=a[0],f=a[1],_=Object(n.useState)([]),y=Object(i.a)(_,2),w=y[0],S=y[1],N=Object(n.useState)([]),A=Object(i.a)(N,2),C=A[0],k=A[1],P=Object(m.d)((function(e){return e.categoryState.categories})),I=Object(m.d)((function(e){return e.categoryState.empty})),D=Object(m.d)((function(e){return e.cartState.items.length})),L=Object(m.d)((function(e){return e.cartState.loading}));Object(n.useEffect)((function(){if(P.length||I){if(!w.length){var t=P.filter((function(e){return null===e.path}));S(t)}if(!C.length){var r=P.filter((function(e){return null!==e.path}));k(r)}}else e(he())}),[P.length,e,P,C.length,I,w.length]),Object(n.useEffect)((function(){if(r.roles[0]!==h&&"{}"===JSON.stringify(x)){var e={headers:{authorization:"Bearer ".concat(r.access_token)}};q.a.defaults.baseURL="http://localhost:5000",q.a.get("api/user/",e).then((function(e){f(e.data)})).catch((function(e){console.log(e),401===e.response.status&&E(t)}))}else r.roles[0]===h&&"{}"!==JSON.stringify(x)&&f({})}),[r,t,x]);var R=function(){E(t)},z=Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(s.a.Item,{children:Object(v.jsx)(b.a,{to:"/products",children:" Browse Products "})}),Object(v.jsx)(s.a.Item,{children:Object(v.jsx)(b.a,{to:"/cart",children:" View Cart "})}),Object(v.jsx)(s.a.Item,{children:Object(v.jsx)(b.a,{to:"/manageOrders",children:" Manage Orders "})}),Object(v.jsx)(s.a.Item,{children:Object(v.jsx)(b.a,{to:"/editCustomer",children:" Edit Profile "})})]}),B=Object(v.jsx)(v.Fragment,{});r.roles[0]===O&&(B=z);var V=Object(v.jsxs)(s.a,{children:[B,Object(v.jsx)(s.a.Item,{onClick:R,children:"Logout"})]}),U=Object(v.jsxs)(xe,{className:"submenu-background",icon:Object(v.jsx)(d.a,{}),title:"Welcome, "+x.first_name,children:[B,Object(v.jsx)(s.a.Item,{onClick:R,children:"Logout"})]},"AccountMenuMobile"),W=w.map((function(e){var t=C.filter((function(t){return t.path===",".concat(e.c_name,",")})).map((function(e){return Object(v.jsx)(s.a.Item,{children:e.c_name},e._id)}));return Object(v.jsx)(xe,{title:e.c_name,children:t},e._id)})),M=Object(v.jsxs)(s.a,{children:[Object(v.jsx)(s.a.Item,{children:Object(v.jsx)(b.a,{to:"/",children:Object(v.jsx)("b",{children:"Shop By Category"})})}),W,Object(v.jsx)(s.a.Item,{children:Object(v.jsx)(b.a,{to:"/products",children:Object(v.jsx)("b",{children:"View all Products  >"})})})]}),G=Object(v.jsxs)(xe,{className:"submenu-background",title:"Our Products",children:[Object(v.jsx)(s.a.Item,{disabled:!0,children:Object(v.jsx)("b",{children:"Shop By Category"})}),W,Object(v.jsx)(s.a.Item,{children:Object(v.jsx)(b.a,{to:"/products",children:Object(v.jsx)("b",{children:"View all Products  >"})})})]},"OurProductsSubmenu"),J=Object(v.jsx)(s.a.Item,{icon:Object(v.jsx)(d.a,{}),children:Object(v.jsx)(b.a,{to:"/login",children:" Login/Sign up "})},"Login"),Y=J;r.roles[0]===O?(J=Object(v.jsx)(s.a.Item,{icon:Object(v.jsx)(d.a,{}),children:Object(v.jsx)(o.a,{overlay:V,children:Object(v.jsxs)("span",{children:[" Welcome, ",x.first_name," "]})})},"Welcome"),Y=Object(v.jsx)(v.Fragment,{children:U})):r.roles[0]===p&&(J=Object(v.jsx)(s.a.Item,{onClick:R,icon:Object(v.jsx)(d.a,{}),children:Object(v.jsx)("span",{children:" Logout "})},"Welcome"),Y=Object(v.jsx)(v.Fragment,{children:U}));var Q=Object(v.jsxs)(s.a,{children:[Object(v.jsx)(s.a.Item,{children:Object(v.jsx)(b.a,{to:"/currentOrders",children:"Current Orders"})}),Object(v.jsx)(s.a.Item,{children:Object(v.jsx)(b.a,{to:"/order",children:"Add Order"})}),Object(v.jsx)(s.a.Item,{children:Object(v.jsx)(b.a,{to:"/processedOrders",children:"Processed Orders"})})]}),Z=Object(v.jsxs)(s.a,{children:[Object(v.jsx)(s.a.Item,{children:Object(v.jsx)(b.a,{to:"/manageProducts",children:"Manage Products"})}),Object(v.jsx)(s.a.Item,{children:Object(v.jsx)(b.a,{to:"/editAddProducts",children:"Add Product"})})]}),H=Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(s.a.Item,{children:Object(v.jsx)(o.a,{overlay:M,children:Object(v.jsx)("span",{children:"Our Products"})})},"Products"),Object(v.jsx)(s.a.Item,{children:Object(v.jsx)(b.a,{to:"/deliveryDispatch",children:" Delivery and Dispatch "})},"Delivery"),Object(v.jsx)(s.a.Item,{children:Object(v.jsx)(b.a,{to:"/blog",children:" Blog "})},"Blog"),Object(v.jsx)(s.a.Item,{icon:Object(v.jsx)(l.a,{count:D,showZero:!0,style:{backgroundColor:"#EB6E00"},children:Object(v.jsx)(j.a,{})}),children:Object(v.jsx)(b.a,{to:"/cart",children:" Cart "})},"Cart")]}),X=Object(v.jsxs)(xe,{icon:Object(v.jsx)(u.a,{}),title:"Menu",children:[G,Object(v.jsx)(s.a.Item,{children:Object(v.jsx)(b.a,{to:"/deliveryDispatch",children:" Delivery and Dispatch "})},"Delivery"),Object(v.jsx)(s.a.Item,{children:Object(v.jsx)(b.a,{to:"/blog",children:" Blog "})},"Blog")]},"SubMenuMoreDetails");r.roles[0]===p&&(H=Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(s.a.Item,{children:Object(v.jsx)(o.a,{overlay:Q,children:Object(v.jsx)("span",{children:"Orders"})})},"Orders"),Object(v.jsx)(s.a.Item,{children:Object(v.jsx)(o.a,{overlay:Z,children:Object(v.jsx)("span",{children:"Products"})})},"Products"),Object(v.jsx)(s.a.Item,{children:Object(v.jsx)(b.a,{to:"/manageCategories",children:"Manage Product Categories"})},"EditCustomer"),Object(v.jsx)(s.a.Item,{children:Object(v.jsx)(b.a,{to:"/editCompanyInformation",children:"Edit Company Information"})},"EditCompany")]}));var K="/";return r.roles[0]===p&&(K="/admin"),Object(v.jsx)(v.Fragment,{children:L?Object(v.jsx)(s.a,{className:"Navbar box-shadow",mode:"horizontal",selectable:!1,children:Object(v.jsx)(s.a.Item,{id:"Logo",selectable:"false",disabled:!0,children:Object(v.jsx)("img",{src:Oe,alt:"Logo",onClick:function(){g.push(K)}})},"Logo")}):Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)(s.a,{className:"Navbar box-shadow",mode:"horizontal",selectable:!1,children:[Object(v.jsx)(s.a.Item,{id:"Logo",selectable:"false",children:r.roles[0]===p?Object(v.jsx)(b.a,{to:"/admin",children:Object(v.jsx)("img",{src:Oe,alt:"Logo"})}):Object(v.jsx)(b.a,{to:"/",children:Object(v.jsx)("img",{src:Oe,alt:"Logo"})})},"Logo"),H,J]}),Object(v.jsxs)(s.a,{className:"Navbar-Mobile",mode:"inline",selectable:!1,children:[Object(v.jsx)(s.a.Item,{id:"Logo",onClick:function(){g.push(K)},children:r.roles[0]===p?Object(v.jsx)(b.a,{to:"/admin",children:Object(v.jsx)("img",{src:Oe,alt:"Logo"})}):Object(v.jsx)(b.a,{to:"/",children:Object(v.jsx)("img",{src:Oe,alt:"Logo"})})},"Logo"),X,Object(v.jsx)(s.a.Item,{icon:Object(v.jsx)(l.a,{count:D,showZero:!0,style:{backgroundColor:"#EB6E00"},children:Object(v.jsx)(j.a,{})}),children:Object(v.jsx)(b.a,{to:"/cart",children:" Cart "})},"Cart"),Y]})]})})}var fe=r(42),ve=r(7),_e=r(432),ye=r(440),we=r(58),Se=r(51),Ne={labelCol:{span:8},wrapperCol:{span:14}},Ae={wrapperCol:{span:22}},Ce=function(){var e=Object(n.useState)(!1),t=Object(i.a)(e,2),r=t[0],c=t[1],a=Object(Se.useForm)(),s=Object(i.a)(a,1)[0],o=F();return Object(v.jsxs)("div",{children:[Object(v.jsx)("div",{className:"page-title-holder with-divider center-page",children:Object(v.jsx)("h1",{children:"Login"})}),Object(v.jsxs)(_e.a,Object(ve.a)(Object(ve.a)({},Ne),{},{name:"authentication-form",form:s,children:[Object(v.jsx)(_e.a.Item,{label:"Email",name:"email",rules:[{type:"email",required:!0,message:"Please input valid email!",whitespace:!0,validateTrigger:"onSubmit"}],children:Object(v.jsx)(ye.a,{maxLength:100})}),Object(v.jsx)(_e.a.Item,{label:"Password",name:"password",rules:[{required:!0,message:"Please input your password!",whitespace:!0},{validator:function(e,t){var r=s.getFieldValue("email");if(!t||A(t)||!C(r))return Promise.resolve();c(!0);var n={email:r.toLowerCase(),password:t};return q.a.post("api/auth/sign_in",n).then((function(e){c(!1),localStorage.setItem("SUPERFIN_USER",JSON.stringify(e.data)),o(e.data),e.data.roles[0]===p?g.push("/admin"):g.push("/")})).catch((function(e){return console.log(e),c(!1),Promise.reject(new Error("Could not find email or password our system!"))}))},validateTrigger:"onSubmit"}],children:Object(v.jsx)(ye.a.Password,{maxLength:100})}),Object(v.jsx)(_e.a.Item,Object(ve.a)(Object(ve.a)({},Ae),{},{children:Object(v.jsx)("span",{style:{cursor:"pointer",color:"#EB6E00",marginRight:"17px"},onClick:function(){g.push("/emailRequest")},children:"Forgot Password ?"})})),Object(v.jsx)(_e.a.Item,Object(ve.a)(Object(ve.a)({},Ae),{},{children:Object(v.jsx)(we.a,{style:{marginRight:"17px"},loading:r,type:"primary",htmlType:"submit",children:"Login"})})),Object(v.jsx)(_e.a.Item,Object(ve.a)(Object(ve.a)({},Ae),{},{children:Object(v.jsxs)("span",{children:["Don't have an account yet ? \xa0 ",Object(v.jsx)(we.a,{type:"link",onClick:function(){return g.push("/signup")},children:"Create an Account"})]})}))]}))]})},ke=(r(406),r(407),r.p+"static/media/No_Image.04e9798e.jpg"),Ee=function(e){var t=e,r=e.onClick,n=e.image;return Object(v.jsxs)("div",{className:"Category-Container",onClick:function(){r(e.c_name)},children:[Object(v.jsx)("img",{className:"Category-Image-Text",src:n,alt:ke}),Object(v.jsx)("b",{className:"Category-Image-Text",children:t.c_name})]})},Pe=function(){return function(e){e(Fe(!0)),q.a.get("api/products/all-product").then((function(t){e({type:z,payload:t.data.products})})).catch((function(){e(Fe(!1)),e({type:J})}))}},Ie=function(){return{type:Y}},Te=function(){return{type:V}},Fe=function(e){return{type:U,payload:e}},De=r(222),Le=r(228),Re=function(){var e=Object(m.c)(),t=Object(m.d)((function(e){return e.categoryState.categories})),r=Object(m.d)((function(e){return e.categoryState.loading})),c=Object(m.d)((function(e){return e.categoryState.error})),a=Object(m.d)((function(e){return e.categoryState.empty})),s=Object(m.d)((function(e){return e.productState.products})),o=Object(n.useState)(0),l=Object(i.a)(o,2),d=l[0],j=l[1],u=Object(n.useState)([]),b=Object(i.a)(u,2),h=b[0],p=b[1],O=Object(n.useState)(!1),x=Object(i.a)(O,2),g=x[0],f=x[1],_=Object(n.useState)([]),y=Object(i.a)(_,2),w=y[0],S=y[1],N=Object(n.useState)([]),A=Object(i.a)(N,2),C=A[0],k=A[1],E=function(e){if(!g){f(!0);var t=C.filter((function(t){return t.path===",".concat(e,",")}));p(t),j(0)}};Object(n.useEffect)((function(){if(s.length?e(Te()):e(Pe()),t.length||a){if(!w.length&&!C.length){var r=t.filter((function(e){return null===e.path}));S(r),p(r);var n=t.filter((function(e){return null!==e.path}));k(n)}}else e(he())}),[t.length,e,t,C,a,w.length,s.length]);var P=Math.ceil(h.length/6)-1,I=h.slice(6*d,6*(d+1)>h.length?h.length:6*(d+1)).map((function(e,r){var n=function(e){var r=e;if(!g){var n=t.find((function(e){return e._id===r})),c=t.find((function(e){return e.path===",".concat(n.c_name,",")}));if(void 0===c)return ke;r=c._id}var a=s.find((function(e){return e.p_categories===r}));return void 0!==a?a.p_image_uri[0]:ke}(e._id.toString());return Object(v.jsx)("div",{children:Object(v.jsx)(Ee,Object(ve.a)(Object(ve.a)({},e),{},{onClick:E,image:n}))},r)}));return Object(v.jsxs)(v.Fragment,{children:[c?Object(v.jsx)("h1",{style:{textAlign:"center",color:"red"},children:"Could not load data, please try refreshing page"}):Object(v.jsx)(v.Fragment,{}),g?Object(v.jsx)(we.a,{onClick:function(){f(!1),p(w),j(0)},children:"Go back"}):Object(v.jsx)(v.Fragment,{}),r?Object(v.jsx)(De.a,{size:"large"}):Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("div",{className:"Category-List-Container",children:I}),Object(v.jsx)(Le.a,{current:d+1,defaultCurrent:1,total:10*(P+1),onChange:function(e){j(e-1)}})]})]})},qe=r(436),ze=r.p+"static/media/Image_1.b0b95258.png",Be=r.p+"static/media/Image_2.b47bd8c8.png",Ve=r.p+"static/media/Image_3.e8c817bf.png",Ue=(r(413),function(){return Object(v.jsxs)("div",{style:{position:"relative"},children:[Object(v.jsx)(we.a,{className:"homepage-carousel-button",children:"SHOP NOW"}),Object(v.jsxs)(qe.a,{autoplay:!0,children:[Object(v.jsx)("div",{children:Object(v.jsxs)("div",{className:"homepage-carousel-background",children:[Object(v.jsx)("u",{className:"homepage-carousel-text",children:"Environmentally Sustainable Packaging"}),Object(v.jsx)("img",{src:ze,className:"homepage-carousel-image",alt:ke})]})}),Object(v.jsx)("div",{children:Object(v.jsxs)("div",{className:"homepage-carousel-background",children:[Object(v.jsx)("u",{className:"homepage-carousel-text",children:"Great Customer Satisfaction"}),Object(v.jsx)("img",{src:Be,className:"homepage-carousel-image",alt:ke})]})}),Object(v.jsx)("div",{children:Object(v.jsxs)("div",{className:"homepage-carousel-background",children:[Object(v.jsx)("u",{className:"homepage-carousel-text",children:"Customizable Products"}),Object(v.jsx)("img",{src:Ve,className:"homepage-carousel-image",alt:ke})]})})]})]})});r(415);r(416),r(417);var We="NEW",Me="SHIPPED",Ge="COMPLETE",Je=r(235),Ye=r(236),Qe=function(){g.push("/order"),window.scrollTo(0,0)},Ze=function(e,t){return function(r){r(He(!0));var n={headers:{authorization:"Bearer ".concat(e)}};q.a.get("api/orders/all-uncomplete",n).then((function(e){r({type:oe,payload:e.data})})).catch((function(e){console.log(e),401===e.response.status&&E(t),r({type:je})}))}},He=function(e){return{type:le,payload:e}},Xe=function(e,t){return function(r){var n={headers:{authorization:"Bearer ".concat(t)}};return q.a.post("api/orders/add-tracking",e,n).then((function(t){return t.data.success?(r({type:ue,payload:e}),t):(console.log(t),t)}))}},Ke=function(e,t){return function(r){r($e(!0));var n={headers:{authorization:"Bearer ".concat(e)}};return q.a.get("api/orders/all-complete",n).then((function(e){r({type:re,payload:e.data})})).catch((function(e){console.log(e),401===e.response.status&&E(t),r({type:ae})}))}},$e=function(e){return{type:ne,payload:e}},et=function(e,t,r,n){f.a.confirm({title:"Deleting product: ".concat(e),content:"Are you sure you wish to delete this product?",okText:"Delete",okType:"danger",onOk:function(){t(function(e,t,r){return function(n){var c={headers:{authorization:"Bearer ".concat(t)}};return q.a.post("api/products/delete-product",{p_code:e},c).then((function(t){t.data.succes&&n({type:W,payload:e})})).catch((function(e){console.log(e),401===e.response.status&&E(r)}))}}(e,r,n))}})},tt=function(e){f.a.info({title:"Success",content:"Deleted order: ".concat(e),okText:"Ok"})},rt=function(e){f.a.info({title:"Error",content:"Failed to delete product: ".concat(e,". Please reload the page and try again or contact support."),okText:"Ok"})},nt=function(e,t,r,n,c){f.a.confirm({title:"Deleting order: ".concat(e),content:"Are you sure you wish to delete this order?",okText:"Delete",okType:"danger",onOk:function(){return t===Ge?c(function(e,t){return function(r){var n={headers:{authorization:"Bearer ".concat(t)}};return q.a.post("api/orders/delete-order",{po_number:e},n).then((function(t){return t.data.success?(r({type:ce,payload:e}),t):(console.log(t),t)}))}}(e,r)).then((function(t){t.data.success?tt(e):rt(e)})).catch((function(t){console.log(t),401===t.response.status?E(n):rt(e)})):c(function(e,t){return function(r){var n={headers:{authorization:"Bearer ".concat(t)}};return q.a.post("api/orders/delete-order",{po_number:e},n).then((function(t){return t.data.success?(r({type:de,payload:e}),t):(console.log(t),t)}))}}(e,r)).then((function(t){t.data.success?tt(e):rt(e)})).catch((function(t){console.log(),401===t.response.status?E(n):rt(e)}))}})},ct=function(e){f.a.info({title:"Error",content:"Order: ".concat(e," tracking information could not be submitted. Please try reloading the page or contact support."),okText:"Ok"})},at=function(e,t,r,n){f.a.confirm({title:"Are you sure you want to submit the following details for order: ".concat(e.po_number),content:"Tracking Number: ".concat(e.tracking_number,", Carrier: ").concat(e.carrier,"?"),okText:"Submit",onOk:function(){return t(Xe(e,r)).then((function(t){var r;t.data.success?(r=e.po_number,f.a.info({title:"Success",content:"Order: ".concat(r," tracking information was submitted"),okText:"Ok"})):ct(e.po_number)})).catch((function(t){console.log(t),401===t.response.status?E(n):ct(e.po_number)}))}})},it=function(e){var t=e.order,r=e.dispatch,n=e.access_token,c=e.updateAuth,a=Object(Se.useForm)(),s=Object(i.a)(a,1)[0],o=new Date(t.issued_date),l="".concat(o.getDate(),"/").concat(o.getMonth()+1,"/").concat(o.getFullYear()),d=Object(v.jsx)("div",{children:Object(v.jsxs)(_e.a,{form:s,name:"submit-tracking-form",onFinish:function(){s.validateFields().then((function(e){e.po_number=t.po_number,at(e,r,n,c)}))},onFinishFailed:function(e){console.log(e)},children:[Object(v.jsx)("div",{className:"Homepage-Admin-Order-Text",children:Object(v.jsx)("b",{children:"Enter Tracking Number"})}),Object(v.jsx)("div",{className:"Homepage-Admin-Order-Text",style:{paddingTop:"15px"},children:Object(v.jsx)(_e.a.Item,{name:"tracking_number",rules:[{required:!0,message:"Please input the tracking number",whitespace:!0}],children:Object(v.jsx)(ye.a,{maxLength:"40",placeholder:"Enter tracking number here",style:{width:"300px"}})})}),Object(v.jsx)("div",{className:"Homepage-Admin-Order-Text",children:Object(v.jsx)("b",{children:"Enter Carrier"})}),Object(v.jsx)("div",{className:"Homepage-Admin-Order-Text",style:{paddingTop:"15px"},children:Object(v.jsx)(_e.a.Item,{name:"carrier",rules:[{required:!0,message:"Please input the carrier name",whitespace:!0}],children:Object(v.jsx)(ye.a,{maxLength:"40",placeholder:"Enter carrier name here",style:{width:"300px"}})})}),Object(v.jsx)("div",{className:"Homepage-Admin-Order-Text",children:Object(v.jsx)(_e.a.Item,{children:Object(v.jsx)(we.a,{type:"primary",htmlType:"submit",children:"Submit"})})})]})});return t.status!==Ge&&t.status!==Me||(d=Object(v.jsxs)("div",{children:[Object(v.jsx)("div",{children:Object(v.jsxs)("div",{className:"Homepage-Admin-Order-Text",children:["Tracking Number: ",t.tracking_number]})}),Object(v.jsx)("div",{children:Object(v.jsxs)("div",{className:"Homepage-Admin-Order-Text",children:["Carrier: ",t.carrier]})})]})),Object(v.jsxs)("div",{id:"homepage-admin-order-container",children:[Object(v.jsxs)("div",{className:"Homepage-Admin-Order-Text",children:["Order Number: ",t.po_number]}),Object(v.jsxs)("div",{className:"Homepage-Admin-Order-Text",children:["Status: ",t.status]}),Object(v.jsxs)("div",{className:"Homepage-Admin-Order-Text",children:["CustomerID: ",t.c_email]}),Object(v.jsxs)("div",{className:"Homepage-Admin-Order-Text",children:["Date Issued: ",l]}),d,Object(v.jsxs)("div",{id:"homepage-admin-order-icon-container",children:[Object(v.jsx)(Je.a,{className:"homepage-admin-order-icon",onClick:function(){nt(t.po_number,t.status,n,c,r)}}),Object(v.jsx)(Ye.a,{className:"homepage-admin-order-icon",onClick:function(){var e,r;e=t.po_number,r=t.status,g.push("/order/".concat(e,"/").concat(r)),window.scrollTo(0,0)}})]})]})},st=(r(418),function(e){var t=e.orders,r=e.loadingOrders,n=e.errorLoadingOrders,c=e.dispatch,a=e.access_token,i=e.updateAuth,s=[];return 0!==t.length&&(s=t.map((function(e){var t={order:e,dispatch:c,updateAuth:i,access_token:a};return Object(v.jsx)("div",{children:Object(v.jsx)(it,Object(ve.a)({},t))},e._id)}))),Object(v.jsxs)("div",{children:[r?Object(v.jsxs)("div",{style:{textAlign:"center"},children:[" ",Object(v.jsx)(De.a,{size:"large"})," "]}):Object(v.jsx)(v.Fragment,{}),n?Object(v.jsx)("h1",{style:{textAlign:"center",color:"red"},children:"Could not load data, please try refreshing page"}):Object(v.jsx)(v.Fragment,{}),Object(v.jsx)("div",{id:"homepage-admin-orderlist-container",children:s})]})}),ot=(r(419),r(420),function(e){var t=e.dispatch,r=e.product,n=e.categoryName;return Object(v.jsxs)("div",{id:"admin-product-container",children:[Object(v.jsx)("img",{id:"admin-product-image",src:r.p_image_uri[0],alt:ke,onClick:function(){console.log("View product info for "+r.name)},style:{height:"310px",width:"310px"}}),Object(v.jsx)("table",{id:"admin-product-text-container",className:"center-content",children:Object(v.jsxs)("tbody",{children:[Object(v.jsx)("tr",{children:Object(v.jsxs)("td",{children:["Product Code: ",r.p_code]})}),Object(v.jsx)("tr",{children:Object(v.jsxs)("td",{children:["Product Name: ",r.p_name]})}),Object(v.jsx)("tr",{children:Object(v.jsxs)("td",{children:["Unit Price: $",r.p_price]})}),Object(v.jsx)("tr",{children:Object(v.jsxs)("td",{children:["Category: ",n]})})]})}),Object(v.jsxs)("div",{id:"admin-product-icon-container",children:[Object(v.jsx)(Je.a,{onClick:function(){et(r.p_code,t,e.access_token,e.updateAuth)},className:"admin-product-icon"}),Object(v.jsx)(Ye.a,{onClick:function(){g.push("/editAddProducts/".concat(r.p_code))},className:"admin-product-icon"})]})]})}),lt=function(e){var t,r=Object(m.d)((function(e){return e.categoryState.categories})),c=e.dispatch;return Object(n.useEffect)((function(){r.length||c(he())}),[r.length,c]),t=e.productsList.length?e.productsList.map((function(t){var n={product:t,dispatch:e.dispatch,categoryName:_(t.p_categories,r),updateAuth:e.updateAuth,access_token:e.access_token};return Object(v.jsx)("div",{children:Object(v.jsx)(ot,Object(ve.a)({},n))},t._id)})):[],Object(v.jsxs)("div",{children:[e.errorLoading?Object(v.jsx)("h1",{style:{textAlign:"center",color:"red"},children:"Could not load data, please try refreshing page"}):Object(v.jsx)(v.Fragment,{}),e.loading?Object(v.jsx)("div",{style:{textAlign:"center"},children:Object(v.jsx)(De.a,{size:"large"})}):Object(v.jsx)(v.Fragment,{}),Object(v.jsx)("div",{id:"admin-product-list-container",children:t})]})},dt=r(441),jt=function(){var e=Object(m.c)(),t=F(),r=T(),c=Object(n.useState)(!1),a=Object(i.a)(c,2),s=a[0],o=a[1],l=Object(m.d)((function(e){return e.productState.products})),d=Object(m.d)((function(e){return e.productState.error})),j=Object(m.d)((function(e){return e.productState.isLoading})),u=Object(m.d)((function(e){return e.completeOrdersState.completeOrders})),b=Object(m.d)((function(e){return e.completeOrdersState.error})),h=Object(m.d)((function(e){return e.completeOrdersState.loading})),p=Object(m.d)((function(e){return e.incompleteOrdersState.incompleteOrders})),O=Object(m.d)((function(e){return e.incompleteOrdersState.error})),x=Object(m.d)((function(e){return e.incompleteOrdersState.loading})),f={dispatch:e,productsList:l,errorLoading:d,loading:j,updateAuth:t,access_token:r.access_token},_=[],y=!1,w=!1;s?(_=u,y=b,w=h):(_=p,y=O,w=x);var S={dispatch:e,orders:_,errorLoadingOrders:y,loadingOrders:w,updateAuth:t,access_token:r.access_token};Object(n.useEffect)((function(){l.length?e(Te()):e(Pe()),!u.length&&s&&e(Ke(r.access_token,t)),p.length||s||e(Ze(r.access_token,t))}),[l.length,u.length,p.length,s,e,r.access_token,t]);var N=function(){o(!s)};return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("div",{id:"homepage-admin-header",children:"Admin Station"}),Object(v.jsx)("div",{style:{height:"20px"}}),Object(v.jsx)("div",{style:{textAlign:"center"},children:Object(v.jsx)("div",{className:"Homepage-Admin-Products-Orders-Plus",onClick:function(){g.push("/editAddProducts")},children:"Product +"})}),Object(v.jsx)("div",{id:"homepage-admin-number-of-products-container",children:Object(v.jsxs)("div",{id:"homepage-admin-number-of-products",children:["Total Products: ",l.length]})}),Object(v.jsx)("div",{className:"Homepage-Admin-Scrollbox-Container",children:Object(v.jsx)("div",{className:"Homepage-Admin-Scrollbox",children:Object(v.jsx)(lt,Object(ve.a)({},f))})}),Object(v.jsx)("div",{style:{height:"50px"}}),Object(v.jsx)(we.a,{id:"homepage-admin-button-1",type:"primary",onClick:function(){g.push("manageProducts")},children:"View Full List"}),Object(v.jsx)("div",{style:{height:"50px"}}),Object(v.jsx)("div",{style:{textAlign:"center"},children:Object(v.jsx)("div",{className:"Homepage-Admin-Products-Orders-Plus",onClick:Qe,children:"Orders +"})}),Object(v.jsx)("div",{style:{height:"20px"}}),Object(v.jsxs)("div",{id:"homepage-admin-radiobuttons-container",children:[Object(v.jsx)("div",{id:"homepage-admin-radiobutton-1",children:Object(v.jsx)(dt.a,{className:"Homepage-Admin-Radiobuttons",checked:!s,onChange:N,children:" Current Orders "})}),Object(v.jsx)("div",{id:"homepage-admin-radiobutton-2",children:Object(v.jsx)(dt.a,{className:"Homepage-Admin-Radiobuttons",checked:s,onChange:N,children:" Previous Orders "})})]}),Object(v.jsx)("div",{style:{height:"20px"}}),Object(v.jsx)("div",{children:Object(v.jsx)("div",{className:"Homepage-Admin-Scrollbox-Container",children:Object(v.jsx)("div",{className:"Homepage-Admin-Scrollbox",style:{height:"500px"},children:Object(v.jsx)(st,Object(ve.a)({},S))})})}),Object(v.jsx)("div",{style:{height:"50px"}}),Object(v.jsx)(we.a,{id:"homepage-admin-button-1",type:"primary",onClick:function(){!function(e){var t="/currentOrders";e&&(t="/processedOrders"),g.push(t),window.scrollTo(0,0)}(s)},children:"View Full List"}),Object(v.jsx)("div",{style:{height:"50px"}})]})},ut=r(29),bt=r.n(ut),mt=r(41),ht={labelCol:{span:8},wrapperCol:{span:16}},pt={wrapperCol:{span:24}},Ot=function(){f.a.error({title:"Something went wrong!",content:"An error has occured. Please try to make your edits again, or contact support.",onOk:function(){window.location.reload()}})},xt=function(){var e=Object(n.useState)(!1),t=Object(i.a)(e,2),r=t[0],c=t[1],a=Object(n.useState)(!1),s=Object(i.a)(a,2),o=s[0],l=s[1],d=Object(n.useState)(null),j=Object(i.a)(d,2),u=j[0],b=j[1],m=Object(Se.useForm)(),h=Object(i.a)(m,1)[0],p=Object(Se.useForm)(),O=Object(i.a)(p,1)[0],x=F(),g=T();Object(n.useEffect)((function(){if(null===u){c(!0);var e={headers:{authorization:"Bearer ".concat(g.access_token)}};q.a.get("api/user/",e).then((function(e){c(!1),delete e.data.email,b(e.data),h.setFieldsValue({first_name:e.data.first_name,last_name:e.data.last_name,mobile:e.data.mobile})})).catch((function(e){console.log(e),401===e.response.status?E(x):(c(!1),l(!0))}))}}),[g.access_token,h,x,u]);return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("div",{className:"page-title-holder fill",children:Object(v.jsx)("h2",{children:"Edit Customer Details"})}),Object(v.jsx)("div",{className:"container flex-horizontal-box-container",children:r?Object(v.jsx)("div",{className:"box-item-xs-12 box-item-sm-12 box-item-md-12 box-item-lg-12 box-item-xl-12",style:{textAlign:"center"},children:Object(v.jsx)(De.a,{size:"large"})}):o?Object(v.jsx)("h1",{style:{textAlign:"center",color:"red"},children:"Could not load data, please try refreshing page"}):Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)("div",{className:"box-item-xs-12 box-item-sm-12 box-item-md-12 box-item-lg-12 box-item-xl-6 div-box box-shadow",children:[Object(v.jsx)("h3",{children:"Customer Information"}),Object(v.jsxs)(_e.a,Object(ve.a)(Object(ve.a)({},ht),{},{form:h,onFinish:function(e){if(JSON.stringify(e)!==JSON.stringify(u)){var t={headers:{authorization:"Bearer ".concat(g.access_token)}};!function(e){f.a.confirm({title:"Please confirm!",content:"Are you sure you want to make these changes?",onOk:function(){return e()}})}((function(){return q.a.post("api/user/edit-customer",e,t).then((function(){f.a.success({title:"Success!",content:"You edited your details successfully!",onOk:function(){window.location.reload()}})})).catch((function(e){console.log(e),401===e.response.status?E(x):Ot()}))}))}},children:[Object(v.jsx)(_e.a.Item,{label:"First Name",name:"first_name",rules:[{whitespace:!0,required:!0,message:"Please input your first name!"}],children:Object(v.jsx)(ye.a,{maxLength:50})}),Object(v.jsx)(_e.a.Item,{label:"Last Name",name:"last_name",rules:[{whitespace:!0,required:!0,message:"Please input your last name!"}],children:Object(v.jsx)(ye.a,{maxLength:50})}),Object(v.jsx)(_e.a.Item,{label:"Phone",name:"mobile",validateTrigger:["onBlur"],rules:[{validator:function(){var e=Object(mt.a)(bt.a.mark((function e(t,r){return bt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(void 0!==r&&""!==r&&r.length<10)){e.next=2;break}return e.abrupt("return",Promise.reject(new Error("Phone number must be valid!")));case 2:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()},{required:!0,message:"Please input a valid phone number!",whitespace:!0}],children:Object(v.jsx)(ye.a,{maxLength:10,onChange:function(e){y(e,h,"mobile")}})}),Object(v.jsx)(_e.a.Item,Object(ve.a)(Object(ve.a)({},pt),{},{children:Object(v.jsx)(we.a,{style:{float:"right"},type:"primary",htmlType:"submit",children:"Edit"})}))]}))]}),Object(v.jsxs)("div",{className:"box-item-xs-12 box-item-sm-12 box-item-md-12 box-item-lg-12 box-item-xl-6 div-box box-shadow",children:[Object(v.jsx)("h3",{children:"Change password"}),Object(v.jsxs)(_e.a,Object(ve.a)(Object(ve.a)({},ht),{},{onFinish:function(e){!function(e){f.a.confirm({title:"Please confirm",content:"Are you sure you want to change your password?",onOk:function(){return e()}})}((function(){var t={headers:{authorization:"Bearer ".concat(g.access_token)}};return q.a.post("api/user/change-password",{new_password:e.new_password,verify_password:e.verify_password},t).then((function(){f.a.success({title:"Success!",content:"You changed your password successfully!"})})).catch((function(e){401===e.response.status?E(x):400===e.response.status?O.setFields([{name:"verify_password",errors:["Cannot use old password!"]}]):403===e.response.status?O.setFields([{name:"verify_password",errors:["Password incorrect!"]}]):Ot()}))}))},form:O,children:[Object(v.jsx)(_e.a.Item,{label:"Old Password",name:"verify_password",rules:[{whitespace:!0,required:!0,message:"Please input your old password!"}],children:Object(v.jsx)(ye.a.Password,{maxLength:30})}),Object(v.jsx)(_e.a.Item,{label:"New Password",name:"new_password",validateTrigger:["onBlur"],rules:[{whitespace:!0,required:!0,message:"Please input your new password!"},{validator:function(){var e=Object(mt.a)(bt.a.mark((function e(t,r){return bt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(k(r)||void 0===r||A(r)){e.next=2;break}return e.abrupt("return",Promise.reject(new Error("Password not strong enough!")));case 2:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()}],children:Object(v.jsx)(ye.a.Password,{maxLength:30})}),Object(v.jsx)(_e.a.Item,{label:"Confirm password",name:"password_confirm",rules:[{required:!0,message:"Please confirm your password!",whitespace:!0},function(e){var t=e.getFieldValue;return{validator:function(e,r){return t("new_password")===r||void 0===r||A(r)?Promise.resolve():Promise.reject(new Error("The two passwords that you entered do not match!"))},validateTrigger:"onSubmit"}}],children:Object(v.jsx)(ye.a.Password,{maxLength:30})}),Object(v.jsx)(_e.a.Item,Object(ve.a)(Object(ve.a)({},pt),{},{children:Object(v.jsx)(we.a,{style:{float:"right"},type:"primary",htmlType:"submit",children:"Edit"})}))]}))]})]})})]})},gt=r(118),ft=r(433),vt=r(450),_t=r(451),yt=r(452),wt=r(453),St=r(431),Nt=function(e){return e||(e=0),e=Math.round(100*(e+Number.EPSILON))/100,new Intl.NumberFormat("en-US",{style:"currency",currency:"AUD",currencyDisplay:"symbol"}).format(e)},At=St.a.Meta,Ct=function(e){var t=e.productDetails,r=null;return r=null===t.p_description||null!==t.p_description&&0===t.p_description.trim().length&&0===t.p_description.length?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("span",{children:Object(v.jsx)("strong",{children:Nt(t.p_price)})}),Object(v.jsx)("p",{children:"\u200c"})]}):Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("span",{children:Object(v.jsx)("strong",{children:Nt(t.p_price)})}),Object(v.jsx)("p",{children:t.p_description})]}),Object(v.jsx)(St.a,{className:"card-shadow-hoverable",tabIndex:0,cover:Object(v.jsx)("img",{className:"cover-img fixed-size",style:{cursor:"pointer"},alt:null===t.p_name||null!==t.p_name&&0===t.p_name.length?"image for paper bag":t.p_name,src:null===t.p_image_uri[0]||null!==t.p_image_uri[0]&&0===t.p_image_uri[0].length?ke:t.p_image_uri[0],onClick:function(){g.push("productDetails?p_code=".concat(t.p_code,"&price_id=").concat(t.p_price_id))}}),children:Object(v.jsx)(At,{title:Object(v.jsx)("span",{id:"view-product-title",onClick:function(){g.push("productDetails?p_code=".concat(t.p_code))},children:t.p_name}),description:r})})},kt=r(446),Et=function(e){var t=e.productDetails;return Object(v.jsx)(v.Fragment,{children:Object(v.jsx)(kt.b,{className:"container",grid:{gutter:6,xs:1,sm:2,md:2,lg:3,xl:4,xxl:5},pagination:{showSizeChanger:!0,position:"both"},dataSource:Object.values(t),renderItem:function(e){return Object(v.jsx)(kt.b.Item,{children:Object(v.jsx)(Ct,{productDetails:e},e)})}})})},Pt=function e(t,r){null==r?console.error("Sorry, categories list is null!"):t.forEach((function(t){t.title=t.c_name,t.key=t._id,t.value=t._id,t.children=[];r.filter((function(e){return e.path.includes(t.c_name)})).forEach((function(e){r.splice(r.indexOf(e),1),t.children.push(e)})),e(t.children,t.children)}))},It=function(e,t){var r=e.map((function(e){return e})),n=r.filter((function(e){return null==e.path}));return n.forEach((function(e){r.splice(r.indexOf(e),1)})),Pt(n,r),t?[{title:"All Categories",value:"allCategories",children:n}]:n},Tt=gt.a.Option,Ft=function(){var e=Object(m.c)(),t=Object(m.d)((function(e){return e.categoryState.categories})),r=Object(m.d)((function(e){return e.categoryState.loading})),c=Object(m.d)((function(e){return e.categoryState.error})),a=Object(m.d)((function(e){return e.productState.products})),s=Object(m.d)((function(e){return e.productState.loading})),o=Object(m.d)((function(e){return e.productState.error})),l=Object(n.useState)(a),d=Object(i.a)(l,2),j=d[0],u=d[1],b=Object(n.useState)("allCategories"),h=Object(i.a)(b,2),p=h[0],O=h[1],x=Object(n.useState)("priceAsc"),g=Object(i.a)(x,2),f=g[0],_=g[1],y=!(!r&&!s),w=!(!c&&!o),S=function(){var e=a.filter((function(e){return"allCategories"===p||e.p_categories===p})).sort((function(e,t){return function(e,t,r){switch(r){case"priceAsc":return e.p_price<t.p_price?-1:1;case"priceDesc":return e.p_price<t.p_price?1:-1;case"alphaDesc":return e.p_name.toLowerCase()<t.p_name.toLowerCase()?1:-1;case"alphaAsc":return e.p_name.toLowerCase()<t.p_name.toLowerCase()?-1:1;default:return 0}}(e,t,f)}));u(e)};return Object(n.useEffect)((function(){e(he()),e(Pe())}),[]),Object(n.useEffect)((function(){S()}),[a,p,f]),Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("div",{className:"page-title-holder fill",children:Object(v.jsx)("h2",{children:"Our product range"})}),w?Object(v.jsx)("div",{class:"container",children:Object(v.jsx)("h1",{style:{textAlign:"center",color:"red"},children:"Could not load data, please try refreshing page!"})}):y?Object(v.jsx)(De.a,{size:"large"}):Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)("div",{className:"container flex-horizontal-box-container",children:[Object(v.jsx)(ft.a,{className:"box-item-xs-12 box-item-sm-6 box-item-md-4 box-item-lg-4 box-item-xl-3",treeData:It(t,!0),placeholder:"Filter Category",defaultValue:"allCategories",treeDefaultExpandAll:!0,onChange:function(e){O(e),S()}}),Object(v.jsxs)(gt.a,{className:"box-item-xs-12 box-item-sm-6 box-item-md-4 box-item-lg-4 box-item-xl-3",defaultValue:"priceAsc",onSelect:function(e){_(e),S()},children:[Object(v.jsxs)(Tt,{value:"noSort",disabled:!0,children:[Object(v.jsx)(vt.a,{}),"Sort By"]}),Object(v.jsxs)(Tt,{value:"alphaAsc",children:[Object(v.jsx)(vt.a,{}),"Sort By: Alphabetically Ascending"]}),Object(v.jsxs)(Tt,{value:"alphaDesc",children:[Object(v.jsx)(_t.a,{}),"Sort By: Alphabetically Descending"]}),Object(v.jsxs)(Tt,{value:"priceAsc",children:[Object(v.jsx)(yt.a,{}),"Sort By: Price Ascending"]}),Object(v.jsxs)(Tt,{value:"priceDesc",children:[Object(v.jsx)(wt.a,{}),"Sort By: Price Descending"]})]})]}),Object(v.jsx)(Et,{productDetails:j},j)]})]})},Dt=function(e){var t=e.productDetails;return Object(v.jsx)("div",{className:"product-details-images box-shadow div-box",children:Object(v.jsx)(qe.a,{dotPosition:"bottom",children:function(){var e=[];return t&&t.p_image_uri&&t.p_image_uri.length>0?t.p_image_uri.forEach((function(r){e.push(Object(v.jsx)("div",{children:Object(v.jsx)("img",{src:r,alt:t.p_code})}))})):e.push(Object(v.jsx)("div",{children:Object(v.jsx)("img",{src:ke,alt:"Product Number: ".concat(t.p_code)})})),e}()})})},Lt=r(454),Rt="ADD_TO_CART",qt="CLEAR_CART",zt="REMOVE_ITEMS",Bt="INCREASE_QUANTITY",Vt="DECREASE_QUANTITY",Ut="SET_SHIPPING_INFO",Wt="SET_LOADING",Mt="SET_ERROR",Gt="LOAD_STRIPE",Jt="UPDATE_ITEM_INFO",Yt=function(){return{type:qt}},Qt=function(e){return{type:Wt,loading:e}},Zt=function(e){return{type:Mt,error:e}},Ht=[1,2,3,4,5,6,7,8,9,10],Xt=Object(m.b)((function(e){return{items:e.cartState.items,total:e.cartState.total}}),(function(e){return{addToCart:function(t,r,n,c){e(function(e,t,r,n){return{type:Rt,product:e,quantity:t,special_requirements:r,p_size:n}}(t,r,n,c))}}}))((function(e){var t=gt.a.Option,r=ye.a.TextArea,c=e.productDetails,a=Object(n.useState)(c?1:0),s=Object(i.a)(a,2),o=s[0],l=s[1],d=Object(n.useState)(""),j=Object(i.a)(d,2),u=j[0],b=j[1],m=Object(n.useState)(c?c.p_size[0]:"Not Available"),h=Object(i.a)(m,2),p=h[0],O=h[1],x=function(e,r,n){return e?Object(v.jsx)(v.Fragment,{children:Object(v.jsx)(gt.a,{defaultValue:e[0],id:"sizeSelectionComponent",onChange:r,children:e.map((function(e){return Object(v.jsx)(t,{value:e,children:e})}))})}):Object(v.jsx)(gt.a,{value:"Not Available",id:"sizeSelectionComponent",disabled:!0,children:Object(v.jsx)(t,{value:"Not Available",children:"Not Available"})})};return Object(n.useEffect)((function(){var t=e.items.map((function(e){return{item_code:e.item_code,p_size:e.p_size,quantity:e.quantity,special_requirements:e.special_requirements}}));localStorage.setItem("items",JSON.stringify(t))}),[e.total,e.items]),Object(v.jsxs)("div",{className:"product-details-main-title",children:[Object(v.jsx)("h3",{id:"product-name",children:c&&c.p_name}),Object(v.jsxs)("div",{id:"product-price",children:[Object(v.jsxs)("strong",{children:["Price: ",Nt(c.p_price)," "]}),Object(v.jsx)("br",{}),Object(v.jsxs)("strong",{children:["Unit per Item: ",c.p_unit," "]})]}),Object(v.jsxs)("div",{id:"quantity-selection",children:[Object(v.jsx)("label",{htmlFor:"quantitySelectionComponent",children:"Quantity: "}),x(c.p_code?Ht:null,(function(e){l(e)}))]}),Object(v.jsxs)("div",{id:"size-selection",children:[Object(v.jsx)("label",{htmlFor:"sizeSelectionComponent",children:"Size: "}),x(c.p_size,(function(e){O(e)}))]}),Object(v.jsxs)("div",{id:"special-requirements",children:[Object(v.jsx)("label",{htmlFor:"specialRequirementsField",children:"Special Requirements:"}),Object(v.jsx)(r,{id:"specialRequirementsField",placeholder:"Please specify any special requirement\r (e.g: Red Bag with a Rooster Icon on the front).\r (Max length: 100)",maxLength:100,rows:3,showCount:!0,onChange:function(e){b(e.target.value)}})]}),Object(v.jsx)("br",{}),Object(v.jsx)(we.a,{type:"primary",icon:Object(v.jsx)(Lt.a,{}),size:"large",onClick:function(){!function(t,r,n,c){e.addToCart(t,r,n,c)}(c,o,u,p)},children:"Add to Cart"})]})})),Kt=function(e){var t=e.productDetails;return Object(v.jsxs)("div",{className:"product-details-description",children:[Object(v.jsx)("h4",{children:"Description"}),Object(v.jsx)("p",{id:"description-content",children:t&&t.p_description?t.p_description:Object(v.jsx)("em",{children:"Sorry, no description is available for this product!"})}),Object(v.jsx)("span",{id:"product-code",children:Object(v.jsxs)("em",{children:["Product Code: ",t&&t.p_code]})}),Object(v.jsxs)("span",{id:"enquire-span",children:[Object(v.jsx)(we.a,{type:"primary",onClick:function(){g.push("ContactUs")},children:"Inquire"})," Click here for more information on how to send us your product enquiry."]})]})},$t=r(429),er=function(e){var t=Object(m.c)(),r=Object(m.d)((function(e){return e.productDetailsState.product})),c=Object(m.d)((function(e){return e.productDetailsState.isLoading})),a=(Object(m.d)((function(e){return e.productDetailsState.error})),Object(n.useState)(function(){var e=window.location.search,t=new URLSearchParams(e).get("p_code");return t&&""!==t?t:""}())),s=Object(i.a)(a,2),o=s[0];s[1];return Object(n.useEffect)((function(){var e;window.scrollTo(0,0),t((e=o,function(t){t(Ie(!0)),q.a.post("api/products/product-by-id",{p_code:e}).then((function(e){t({type:B,payload:e.data})})).catch((function(){t(Ie(!1)),t({type:J})}))}))}),[]),Object(v.jsx)(v.Fragment,{children:c?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("br",{}),Object(v.jsxs)("div",{align:"center",children:[Object(v.jsx)(De.a,{size:"large"})," ",Object(v.jsx)("br",{}),"Loading data... Please wait!"]})]}):r&&!1!==r.success?Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)("div",{className:"container with-top-padding flex-horizontal-box-container",children:[Object(v.jsx)("div",{className:"box-item-xs-12 box-item-sm-12 box-item-md-6 box-item-lg-6 box-item-xl-6",children:Object(v.jsx)(Dt,{productDetails:r},r)}),Object(v.jsx)("div",{className:"box-item-xs-12 box-item-sm-12 box-item-md-6 box-item-lg-6 box-item-xl-6",children:Object(v.jsx)(Xt,{productDetails:r},r)}),Object(v.jsx)($t.a,{}),Object(v.jsx)("div",{className:"box-item-xs-12 box-item-sm-12 box-item-md-12 box-item-lg-12 box-item-xl-12",children:Object(v.jsx)(Kt,{productDetails:r},r)})]})}):Object(v.jsxs)("h4",{style:{color:"red",textAlign:"center"},children:[Object(v.jsx)("br",{}),"Could not load data. ",Object(v.jsx)("br",{}),r?r.message:"Please refresh the page!"]})})},tr=function(){return function(e){return e({type:te}),q.a.get("/api/aboutus/").then((function(t){return e({type:$,payload:t.data}),e({type:te}),t})).catch((function(t){return console.log(t),e({type:te}),t}))}},rr=function(){var e=Object(m.d)((function(e){return e.companyInfoState.companyInfo})),t=Object(m.c)();return Object(n.useEffect)((function(){0===Object.keys(e).length&&e.constructor===Object&&t(tr())}),[t,e]),Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("div",{className:"page-title-holder fill",children:Object(v.jsx)("h2",{children:"Delivery and Dispatch"})}),Object(v.jsx)("div",{className:"container",children:Object(v.jsx)("p",{style:{textAlign:"center"},children:"Sorry :( this feature is being implemented!"})})]})},nr=r(143),cr=r(434),ar=r(455),ir=r(456),sr=r(457),or=(ye.a.TextArea,cr.a.Title),lr=function(){var e=function(e){var t=Object(n.useState)({}),r=Object(i.a)(t,2),c=r[0],a=r[1];return{handleSubmit:function(e){e&&(e.preventDefault(),alert("Thank you for your response"))},handleInputChange:function(e){e.persist(),a((function(t){return Object(ve.a)(Object(ve.a)({},t),{},Object(nr.a)({},e.target.name,e.target.value))}))},inputs:c}}(),t=(e.inputs,e.handleInputChange,e.handleSubmit,Object(m.d)((function(e){return e.companyInfoState.companyInfo}))),r=Object(m.c)();return Object(n.useEffect)((function(){0===Object.keys(t).length&&t.constructor===Object&&r(tr())}),[r,t]),Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("div",{className:"page-title-holder fill",children:Object(v.jsx)("h2",{children:"We'd love to hear from you"})}),Object(v.jsxs)("div",{className:"container",children:[Object(v.jsx)(or,{level:3,children:"You can contact us via:"}),Object(v.jsxs)(or,{level:3,children:[Object(v.jsx)(ar.a,{}),": (02) 9681 6075"]}),Object(v.jsxs)(or,{level:3,children:[Object(v.jsx)(ir.a,{}),": sungentpkg@bigpond.com"]}),Object(v.jsxs)(or,{level:3,children:[Object(v.jsx)(sr.a,{}),": 3/34-36 Fairfield St, Fairfield East NSW 2165"]})]})]})},dr=function(){return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("div",{className:"page-title-holder fill",children:Object(v.jsxs)("h2",{children:["Terms ","&"," Conditions"]})}),Object(v.jsx)("div",{className:"container",children:Object(v.jsx)("p",{style:{textAlign:"center"},children:"Sorry :( this feature is being implemented!"})})]})},jr=function(){var e=Object(m.d)((function(e){return e.companyInfoState.companyInfo})),t=Object(m.c)();return Object(n.useEffect)((function(){0===Object.keys(e).length&&e.constructor===Object&&t(tr())}),[t,e]),Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("div",{className:"page-title-holder fill",children:Object(v.jsx)("h2",{children:"Company Blog"})}),Object(v.jsx)("div",{className:"container",children:Object(v.jsx)("p",{style:{textAlign:"center"},children:"Sorry :( this feature is being implemented!"})})]})},ur=(r(422),f.a.info),br={labelCol:{span:8},wrapperCol:{span:7}},mr={wrapperCol:{offset:8,span:16}},hr=function(){var e=Object(Se.useForm)(),t=Object(i.a)(e,1)[0],r=Object(n.useState)(!1),c=Object(i.a)(r,2),a=c[0],s=c[1];return Object(v.jsxs)("div",{children:[Object(v.jsx)("div",{style:{height:"5px"}}),Object(v.jsx)("div",{className:"emailrequest-text-wrapper",children:Object(v.jsx)("h1",{className:"emailrequest-text",children:"Login"})}),Object(v.jsx)("div",{id:"emailrequest-devider-1"}),Object(v.jsx)("div",{className:"emailrequest-text-wrapper",children:Object(v.jsx)("div",{className:"emailrequest-text",style:{fontSize:"17px"},children:"Enter your email and we will send a reset password link to your registered email address"})}),Object(v.jsx)("div",{style:{height:"25px"}}),Object(v.jsxs)(_e.a,Object(ve.a)(Object(ve.a)({form:t},br),{},{name:"Email-Request-Form",children:[Object(v.jsx)(_e.a.Item,{label:"Email",name:"email",rules:[{validator:function(){var e=t.getFieldValue("email").toLowerCase();return C(e)?(s(!0),q.a.post("api/user/forgot-password",{email:e}).then((function(){s(!1),function(e){ur({title:"Email Sent!",content:Object(v.jsxs)("span",{children:["A link has been sent to ","".concat(e),". Please click this link to reset your password. If you cannot find the email, check your spam folder or contact support."]}),onOk:function(){g.push("/login")}})}(e)})).catch((function(e){return s(!1),console.log(e),Promise.reject(new Error("Could not find email in our system!"))}))):Promise.reject(new Error("Not a valid email!"))},validateTrigger:"onSubmit"}],children:Object(v.jsx)(ye.a,{})}),Object(v.jsx)(_e.a.Item,Object(ve.a)(Object(ve.a)({},mr),{},{children:Object(v.jsx)(we.a,{loading:a,type:"primary",htmlType:"submit",children:" Submit "})}))]}))]})},pr=r(73),Or={labelCol:{span:8},wrapperCol:{span:14}},xr={wrapperCol:{span:22}},gr=function(){f.a.error({title:"Something went wrong!",content:"Please try try sending your forgotten password request again or contact support",onOk:function(){g.push("/emailRequest")}})},fr=function(){var e=Object(fe.g)(),t=e.token,r=e.email,c=Object(Se.useForm)(),a=Object(i.a)(c,1)[0],s=Object(n.useState)(!1),o=Object(i.a)(s,2),l=o[0],d=o[1],j=Object(n.useState)(!1),u=Object(i.a)(j,2),b=u[0],m=u[1];void 0!==t&&void 0!==r||gr(),console.log("token",t),console.log(r,r);return Object(v.jsxs)("div",{children:[Object(v.jsx)("div",{className:"page-title-holder with-divider center-page",children:Object(v.jsx)("h1",{children:"Re-enter Password"})}),Object(v.jsxs)(_e.a,Object(ve.a)(Object(ve.a)({},Or),{},{name:"authentication-form",form:a,children:[Object(v.jsx)(pr.a,{visible:l,title:"Password must contain at least 8 characters, a special charater, a number, and an upper case letter",children:Object(v.jsx)(_e.a.Item,{label:"New Password",name:"password",rules:[{required:!0,message:"Please input your new password!"}],children:Object(v.jsx)(ye.a.Password,{maxLength:50,onFocus:function(){d(!1)}})})}),Object(v.jsx)(_e.a.Item,{label:"Confirm Password",name:"confirmPassword",rules:[{required:!0,message:"Please confirm your password!"},{validator:function(e,n){var c=a.getFieldValue("password");if(!n)return Promise.resolve();if(c!==n)return Promise.reject(new Error("Passwords do not match"));if(!k(n))return d(!0),Promise.reject(new Error("Password not strong enough"));var i={new_password:c,email:r,token:t};return m(!0),q.a.post("/api/user/reset-password-email",i).then((function(){m(!1),f.a.success({title:"Password reset!",content:"Confirmation has been sent to your email address. You can now use this password to log into your account.",onOk:function(){g.push("/login")}})})).catch((function(e){if(m(!1),console.log(e),400===e.response.status)return Promise.reject(new Error("Cannot use previous password!"));gr()}))},validateTrigger:"onSubmit"}],children:Object(v.jsx)(ye.a.Password,{maxLength:50})}),Object(v.jsx)(_e.a.Item,Object(ve.a)(Object(ve.a)({},xr),{},{children:Object(v.jsx)(we.a,{loading:b,type:"primary",htmlType:"submit",children:"Reset"})}))]}))]})},vr=r(23),_r=r(120),yr=r(237),wr=r(458),Sr=ye.a.TextArea,Nr=Object(m.b)(null,(function(e){return{increase:function(t){e(function(e){return{type:Bt,index:e}}(t))},decrease:function(t){e(function(e){return{type:Vt,index:e}}(t))}}}))((function(e){var t=e.editable,r=e.product,c=e.index,a=Object(n.useState)(r.quantity),s=Object(i.a)(a,2),o=s[0],l=s[1];return Object(v.jsxs)("tr",{children:[Object(v.jsxs)("td",{children:[Object(v.jsx)("img",{alt:null===r.item_code||void 0===r.item_code||null!==r.item_code&&void 0!==r.item_code&&0===r.item_code.length?"image of paper bag":r.item_code+"'s image",src:null===r.p_image_uri||void 0===r.p_image_uri||null!==r.p_image_uri&&void 0!==r.p_image_uri&&0===r.p_image_uri.length?ke:r.p_image_uri,height:"160px",width:"120px",style:{objectFit:"scale-down"}}),Object(v.jsx)("br",{}),Object(v.jsx)("span",{children:Object(v.jsx)("em",{children:r.p_name})})]}),Object(v.jsx)("td",{children:Nt(r.unit_price)}),Object(v.jsx)("td",{children:r.p_size}),Object(v.jsxs)("td",{children:[t&&Object(v.jsx)(we.a,{onClick:function(){return l(o+1),void e.increase(c)},icon:Object(v.jsx)(yr.a,{}),type:"primary"}),Object(v.jsx)("br",{}),o,Object(v.jsx)("br",{}),t&&Object(v.jsx)(we.a,{onClick:function(){return l(o-1),void e.decrease(c)},icon:Object(v.jsx)(wr.a,{}),type:"secondary"})]}),Object(v.jsx)("td",{children:Object(v.jsx)(Sr,{placeholder:t?"Please input any special requirements that you have here":"No Special Requirements",rows:4,maxLength:100,autoSize:{minRows:4,maxRows:4},disabled:!t,value:null===r.special_requirements||void 0===r.special_requirements||null!==r.special_requirements&&void 0!==r.special_requirements&&0===r.special_requirements.length?"":r.special_requirements})})]})})),Ar=Object(m.b)((function(e){return{line_items:e.cartState.items,total:e.cartState.total}}),(function(e){return{removeItems:function(t){e(function(e){return{type:zt,invalid_pcodes:e}}(t))},updateItemInfo:function(t){e(function(){return{type:Jt,items:arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]}}(t))}}}))((function(e){var t=e.editable,r=Object(n.useState)(e.line_items.map((function(e){return e.item_code}))),c=Object(i.a)(r,2),a=c[0],s=c[1],o=Object(n.useState)([]),l=Object(i.a)(o,2),d=l[0],j=l[1],u=Object(n.useState)([]),b=Object(i.a)(u,2),m=b[0],h=b[1],p=Object(n.useState)(!0),O=Object(i.a)(p,2),x=O[0],g=O[1],_=Object(n.useState)(!1),y=Object(i.a)(_,2),w=y[0],S=y[1];Object(n.useEffect)((function(){q.a.post("/api/products/validate-products",{p_codes:e.line_items.map((function(e){return e.item_code}))}).then((function(t){e.updateItemInfo(t.data.valid_pcodes),h(t.data.valid_pcodes),t.data.valid_pcodes?s(t.data.valid_pcodes.map((function(e){return e.p_code}))):s([]),console.log({res:t}),g(!1)})).catch((function(e){console.log(e),g(!1)}))}),[]),Object(n.useEffect)((function(){!function(){if(a&&a.length!==e.line_items.length){var t=e.line_items.filter((function(e){return!a.includes(e.item_code)})).map((function(e){return{item_code:e.item_code,p_size:e.p_size}}));j(t);var r=[];m.forEach((function(t){e.line_items.filter((function(e){return e.item_code===t.p_code&&!t.p_size.includes(e.p_size)})).forEach((function(e){r=[].concat(Object(vr.a)(r),[{item_code:e.item_code,p_size:e.p_size}])}))})),r.forEach((function(e){j([].concat(Object(vr.a)(d),[e]))}))}}()}),[a]);var N,A=function(){var r=[];if(e.line_items)for(var n=0;n<e.line_items.length;n++)r.push(Object(v.jsx)(v.Fragment,{children:Object(v.jsx)(Nr,{product:e.line_items[n],editable:t,index:n},e.line_items[n])}));return r};return Object(v.jsx)(v.Fragment,{children:x?Object(v.jsx)("tr",{children:Object(v.jsx)("td",{colSpan:5,children:Object(v.jsxs)("h3",{style:{textAlign:"center"},children:["Fetching your Cart Items. . .",Object(v.jsx)("br",{}),"Thank you for your patience!",Object(v.jsx)("br",{}),Object(v.jsx)(De.a,{size:"large"})]})})}):w?A():d.length>0?(N=d,void f.a.info({title:"Unavailable Products exist in Cart",icon:Object(v.jsx)(_r.a,{}),content:Object(v.jsxs)("div",{children:[Object(v.jsx)("p",{children:"The following products in your Cart are outdated or no longer available:"}),Object(v.jsx)("ul",{children:N.map((function(e,t){return Object(v.jsx)("li",{children:"Product Code: ".concat(e.item_code," (Product Size: ").concat(e.p_size,")")},"".concat(e.item_code," ").concat(t))}))}),Object(v.jsx)("p",{children:"Please remove them from your Cart!"})]}),okText:"Remove Items",onOk:function(){!function(t){console.log("OK"),e.removeItems(t),S(!0)}(N)}})):A()})})),Cr=r.p+"static/media/visa.562a774f.png",kr=r.p+"static/media/mastercard.e84e92d4.jpg",Er=Object(m.b)((function(e){return{cartItems:e.cartState.items,total:e.cartState.total}}),(function(e){return{clearCart:function(){e(Yt())}}}))((function(e){var t=e.cartItems.length,r=e.total,c=r/11,a=.1*r,i=r+a;return Object(n.useEffect)((function(){var t=e.cartItems.map((function(e){return{item_code:e.item_code,p_size:e.p_size,quantity:e.quantity,special_requirements:e.special_requirements}}));localStorage.setItem("items",JSON.stringify(t))}),[e.cartItems,e.total]),Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("div",{className:"page-title-holder fill",children:Object(v.jsx)("h2",{children:"Shopping Cart"})}),Object(v.jsxs)("div",{className:"container flex-horizontal-box-container",id:"cart-content-page",children:[Object(v.jsx)("div",{className:"box-item-xs-12 box-item-sm-12 box-item-md-12 box-item-lg-8 box-item-xl-9 box-shadow table-container",children:Object(v.jsxs)("table",{className:"center-content",children:[Object(v.jsx)("thead",{children:Object(v.jsxs)("tr",{children:[Object(v.jsx)("th",{children:"Product"}),Object(v.jsx)("th",{children:"Unit Price"}),Object(v.jsx)("th",{children:"Size"}),Object(v.jsx)("th",{children:"Quantity"}),Object(v.jsx)("th",{children:"Special Requirements"})]})}),Object(v.jsx)("tbody",{children:t>0?Object(v.jsx)(Ar,{editable:!1},e.cartItems):Object(v.jsx)("tr",{children:Object(v.jsx)("td",{colSpan:5,children:Object(v.jsx)("h3",{style:{textAlign:"center"},children:"Your cart is empty! :("})})})})]})}),Object(v.jsxs)("div",{className:"box-item-xs-12 box-item-sm-12 box-item-md-12 box-item-lg-4 box-item-xl-3 box-shadow",children:[Object(v.jsx)("h4",{children:"Order Summary"}),Object(v.jsx)("table",{children:Object(v.jsxs)("tbody",{children:[Object(v.jsxs)("tr",{className:"non-hover",children:[Object(v.jsx)("td",{children:Object(v.jsx)("strong",{children:"Total items:"})}),Object(v.jsx)("td",{children:t})]}),Object(v.jsxs)("tr",{className:"non-hover",children:[Object(v.jsx)("td",{children:Object(v.jsx)("strong",{children:"Subtotal (incl. GST):"})}),Object(v.jsx)("td",{children:Nt(r)})]}),Object(v.jsxs)("tr",{className:"non-hover",children:[Object(v.jsx)("td",{children:Object(v.jsx)("strong",{children:"GST:"})}),Object(v.jsx)("td",{children:Nt(c)})]}),Object(v.jsxs)("tr",{className:"non-hover",children:[Object(v.jsx)("td",{children:Object(v.jsx)("strong",{children:"Freight charge:"})}),Object(v.jsx)("td",{children:Nt(a)})]}),Object(v.jsxs)("tr",{className:"non-hover",children:[Object(v.jsx)("td",{children:Object(v.jsx)("strong",{children:"Grand total:"})}),Object(v.jsx)("td",{children:Nt(i)})]})]})}),Object(v.jsx)(we.a,{type:"secondary",disabled:t<1,onClick:function(){e.clearCart()},children:"Clear Cart"}),"\u2003",Object(v.jsx)(we.a,{type:"primary",disabled:t<1,children:Object(v.jsx)(b.a,{to:"/CheckoutShipping",children:"Checkout"})}),Object(v.jsxs)("div",{id:"cart-content-page-accept-payment",children:[Object(v.jsx)("strong",{children:Object(v.jsx)("em",{children:"We accept the following: "})}),Object(v.jsx)("img",{src:Cr,alt:"Visa"}),Object(v.jsx)("img",{src:kr,alt:"Mastercard"}),Object(v.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOEAAADhCAMAAAAJbSJIAAAAmVBMVEX///8Aru86OjwArO8Aqu4AqO5fwfLF5vrA5PkxMTM3Nzk1tfCO0fXs9/0cHB+Kiove3t4kJCbx8fEZsfArKy5MTE1XV1mysrMJCQ+6uruW1PbY7vsbGx5sxfNTvfLu7u6ampt8fH3Ly8sAAABCQkTV1dWjo6Pr9/18yvSj2PfR6/uHzvUFBQyPj5BlZWZ9fX5vb3BbW1yx3vhEzyk3AAAGXklEQVR4nO2ci3aqOhCGuQRtoqIoVvFet1q1tbW+/8OdCREFQaU9+xTi+b92LSEJ7vzOZGYI2xoGAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwMjcO6kpNxfRu7sL1aLedGe1nYzHMydpidH2Y+nS+drgw+Xc0Km3ouhoyZ38MZny5ur4xms7kqcPr3GTrf1Eewk0Sy4ee8NStw/vf5vj5pxUN0eYt+5G952XzXRRV20fPOz4/0kZ8+3X/rcvB6dRV2apLONRuui555XqrXnLSj+gf2lf5asfPOz9M1hUcFUFh+oPCxFCaKz6OCuhNv1VxhZ1CPMVD91bd4W01vhTnmPLb1VtiI8dpQ/XQQo6K3QtOJc8z49URjbCFqqfDxY2kcO1J45xMoP0mFnTMT1T+ItT2AQjbMPfQhFY5t/RWatSw6x+SfXJGaKszEUZbdPq5CU41cJ/OGpgpT9bVsy3RSLRXaTmdcHwzq64kp98BPTqrqt4P2Cpk9eD03bzcVpmo0u6JaaqbmCp1Bqmu4mZAtj3EmtTOum8JrmfBQOZpwclmfaqZQGeqpXpnUJuNBNT0s/XBDL4VsQzeCaxVe5A6GM9lcDKulkopeCk1ppIQbMqcSfxBqNDY1R+N8aG+MRsoLbaeWfDQxfLOZrnfAzutFVR0Z0r6IP9UxO4nUSiEzjMznM/YkYzyJZNop7GQ4qXm+zb+kupY1j2YKs2xoH/eijNplYJXFQEUrhQ4l9PQijCTUbMbqjUIn+a8I1+EwndGd6AloWMzYzvr15tuUmDBbvBnGJiGRmVFdE1VrtjPJKHV0IMz45KZG1YwSAaW9qAxv1M5ZxGadw613KiuhQpUWniq23Nc2x6dMv724G2bsTb8Fqao2Fq26RlzBOh1h7YtqTgOiu6dKqufAMjf0bUczZ43ugG2WyHqNgXl9i4qcVaPIet6nYWx8GEonfa0OLm8k0obUJ7ImnnIzFj5Dy3bPC42d++9dDrY59kszFWZU5SXlB//3MlRYL3riuUltMeXDufkQp1Rsf2REjZzUMMY/WYmORukiax/tvkBtcoVifCf7XZLavyk/w4rDcuOY6QcAOjCs5mSr1QoEAADw31Dd6LYRc5VpO3FGyNe1Y2c80teSl/577GzWd90/8kDeaTgFTenvMh1Zfux7kU1uWa48sHXaoLjJJ7cEP5+eFA5Np/MQdRmZ0LL84HR+UvgwSEWWWCTOH0phW5rQsrx51HBSGOx2u3B9zuhgacyeubU/jmoHu4+Fz7ufPRmFA75YWLPo+p612P+mgLvMSJCg3+eo4aSQJPhdem31Off3vs+F4K6a/PLPO3/+8j3uj3pypBBiFGUcT7jl+k6+S+Z7JomnaZ0UdoXS3fKkG3P/y6Nh/kc4SH2fOaAeKXFOr7ypLu/5ovvbGm6y8mkJypnyyLWyFfokoC2N7QWxq79kgxpqHY1oicSI4vHDKcupj6aqJVMh/5Qtcz8Rk45j23Ejzj0hflfBHciEliFd6+xmmQr9XtjnkjXd8JMImvuX3epDKIXGc/QRPQu/XH9VgQs1d1IYudkthaFXUjxtLzzOPdeViSZUuHSVnenVK0bJFSgsqGpmJY04Cw9vKXyhPp8UWtzii1XQ60Y2ND6UEfec7wrQcR3raELlf+rTv6VQ9pENyalVYIrWIQ2SRnyh5Dpqp/6VAqEYGhWkMi0qGfcU0jqkVeeez5WkvUwle8FfflnDbRaC71qKMEyGUfCWQvJFOciPCoSYwpasjUh5qf7yB8V44faPyKARZrJbCuXRTDr3MSXEFNISlBI/CtBxna4Q+yBCxpqwGsnOh2EqCXy1WOl+S9WxcYXhPcq5vC0DS++U5SUyLnrLazVNmCO4sPpSQquv7D1fiLNCGWgT5UDxfPFEWAioGuHkZE2fymjZQCbm57rU6+49qryVjXp9YfnuaMTjJffUi99mloCW6FrTeEOXEC1jt6AXef5F53JZSYWiS3pGYhapWX6N3JE1+6QhVtQ29+NbBToRRprAmCZ35Izp5bjSFWy5icXSW1Bk1nVrII/C5XznWd7sV+bz98mhcPrH58IrVy78BnkUvvuerouQaL17Xv+OlwbzUlVrAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwP+TfwDCVm3F3uwbggAAAABJRU5ErkJggg==",alt:"Alipay"})]})]})]})]})})),Pr=r(443),Ir=r(435),Tr=r(459),Fr=gt.a.Option,Dr=Pr.a.Step,Lr=Object(m.b)((function(e){return{address:e.cartState.address,email:e.cartState.c_email}}),(function(e){return{setShipping:function(t,r){e(function(e,t){return{type:Ut,address:e,email:t}}(t,r))}}}))((function(e){var t=_e.a.useForm(),r=Object(i.a)(t,1)[0],n=e.address,c=e.email;return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("div",{className:"page-title-holder fill",children:Object(v.jsx)("h2",{children:"Checkout"})}),Object(v.jsxs)("div",{className:"container flex-horizontal-box-container",children:[Object(v.jsxs)(Pr.a,{current:0,direction:"vertical",size:"small",className:"box-item-xs-12 box-item-sm-12 box-item-md-3 box-item-lg-2 box-item-xl-2",children:[Object(v.jsx)(Dr,{title:"Shipping Address"}),Object(v.jsx)(Dr,{title:"Review Order"}),Object(v.jsx)(Dr,{title:"Secure Payment"}),Object(v.jsx)(Dr,{title:"Order Complete"})]}),Object(v.jsxs)(_e.a,{layout:"vertical",form:r,onFinish:function(t){var r={po_attention_to:t.fullname,po_address_line1:t.address_line1,po_address_line2:t.address_line2,po_suburb:t.suburb,po_state:t.state,po_postcode:t.postcode},n=t.email;console.log(r),e.setShipping(r,n),localStorage.setItem("address",JSON.stringify(r)),localStorage.setItem("email",JSON.stringify(n)),g.push("/checkoutReviewOrder")},onFinishFailed:function(e){console.log("Failed:",e)},requiredMark:!1,className:"box-item-xs-12 box-item-sm-12 box-item-md-9 box-item-lg-10 box-item-xl-10 div-box box-shadow flex-horizontal-box-container",initialValues:{fullname:n.po_attention_to,address_line1:n.po_address_line1,address_line2:n.po_address_line2,suburb:n.po_suburb,state:n.po_state,postcode:n.po_postcode,email:c},children:[Object(v.jsx)(_e.a.Item,{className:"box-item-xs-1 box-item-sm-1 box-item-md-1 box-item-lg-1 box-item-xl-1",children:Object(v.jsx)(we.a,{type:"secondary",children:Object(v.jsxs)(b.a,{to:"/Cart",children:[Object(v.jsx)(Tr.a,{}),"Return to cart"]})})}),Object(v.jsx)(_e.a.Item,{className:"box-item-xs-12 box-item-sm-12 box-item-md-12 box-item-lg-12 box-item-xl-12",label:"Full Name",name:"fullname",rules:[{required:!0,message:"Please enter your full name!"}],children:Object(v.jsx)(ye.a,{})}),Object(v.jsx)(_e.a.Item,{className:"box-item-xs-12 box-item-sm-12 box-item-md-12 box-item-lg-12 box-item-xl-12",label:"Email Address",name:"email",rules:[{type:"email",required:!0,message:"Please enter your email!"}],children:Object(v.jsx)(ye.a,{})}),Object(v.jsx)(_e.a.Item,{className:"box-item-xs-12 box-item-sm-12 box-item-md-12 box-item-lg-6 box-item-xl-6",label:"Address Line 1",name:"address_line1",rules:[{required:!0,message:"Please enter your address line 1"}],children:Object(v.jsx)(ye.a,{})}),Object(v.jsx)(_e.a.Item,{className:"box-item-xs-12 box-item-sm-12 box-item-md-12 box-item-lg-6 box-item-xl-6",label:"Address Line 2",name:"address_line2",rules:[{required:!1}],children:Object(v.jsx)(ye.a,{})}),Object(v.jsx)(_e.a.Item,{className:"box-item-xs-12 box-item-sm-12 box-item-md-12 box-item-lg-4 box-item-xl-4",label:"Suburb",name:"suburb",rules:[{required:!0,message:"Please enter your suburb"}],children:Object(v.jsx)(ye.a,{})}),Object(v.jsx)(_e.a.Item,{className:"box-item-xs-12 box-item-sm-12 box-item-md-12 box-item-lg-4 box-item-xl-4",label:"State",name:"state",rules:[{required:!0,message:"Please select a state!"}],children:Object(v.jsxs)(gt.a,{children:[Object(v.jsx)(Fr,{value:"NSW",children:"NSW"}),Object(v.jsx)(Fr,{value:"VIC",children:"VIC"}),Object(v.jsx)(Fr,{value:"ACT",children:"ACT"}),Object(v.jsx)(Fr,{value:"NT",children:"NT"}),Object(v.jsx)(Fr,{value:"QLD",children:"QLD"}),Object(v.jsx)(Fr,{value:"SA",children:"SA"}),Object(v.jsx)(Fr,{value:"TAS",children:"TAS"}),Object(v.jsx)(Fr,{value:"WA",children:"WA"})]})}),Object(v.jsx)(_e.a.Item,{className:"box-item-xs-12 box-item-sm-12 box-item-md-12 box-item-lg-4 box-item-xl-4",label:"Postcode",name:"postcode",rules:[{required:!0,type:"number",message:"Please enter your postcode"}],children:Object(v.jsx)(Ir.a,{min:200,max:9729})}),Object(v.jsx)(_e.a.Item,{className:"box-item-xs-12 box-item-sm-12 box-item-md-12 box-item-lg-12 box-item-xl-12",children:Object(v.jsx)(we.a,{style:{float:"right"},type:"primary",htmlType:"submit",children:"Continue"})})]})]})]})})),Rr=r(224),qr=Pr.a.Step,zr=function(){var e=Object(mt.a)(bt.a.mark((function e(t){var r;return bt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.line_items,e.abrupt("return",fetch("api/stripe/create-checkout-session",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({line_items:r})}).then((function(e){return e.json()})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Br=Object(m.b)((function(e){return{line_items:e.cartState.items,stripe:e.cartState.stripe,isLoading:e.cartState.loading,error:e.cartState.error}}),(function(e){return{loadStripeAction:function(t){e(function(e){return{type:Gt,stripe:e}}(t))},setLoading:function(t){e(Qt(t))},setError:function(t){e(Zt(t))}}}))((function(e){var t=_e.a.useForm(),r=Object(i.a)(t,1)[0];Object(n.useEffect)((function(){function t(){return(t=Object(mt.a)(bt.a.mark((function t(){var r,n;return bt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("api/stripe/config").then((function(e){return e.json()}));case 2:return r=t.sent,n=r.publicKey,r.currency,t.t0=e,t.next=8,Object(Rr.a)(n);case 8:t.t1=t.sent,t.t0.loadStripeAction.call(t.t0,t.t1);case 10:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[]);var c=function(){var t=Object(mt.a)(bt.a.mark((function t(r){var n,c,a,i;return bt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setLoading(!0),t.next=3,zr({line_items:e.line_items});case 3:if(n=t.sent,!(c=n.sessionId)){t.next=14;break}return t.next=8,e.stripe.redirectToCheckout({sessionId:c});case 8:a=t.sent,(i=a.error)&&(e.setError(i),e.setLoading(!1)),e.setLoading(!1),t.next=16;break;case 14:e.setError(c),e.setLoading(!1);case 16:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("div",{className:"page-title-holder fill",children:Object(v.jsx)("h2",{children:"Checkout"})}),Object(v.jsxs)("div",{className:"container flex-horizontal-box-container",children:[Object(v.jsxs)(Pr.a,{current:2,direction:"vertical",size:"small",className:"box-item-xs-12 box-item-sm-12 box-item-md-3 box-item-lg-2 box-item-xl-2",children:[Object(v.jsx)(qr,{title:"Shipping Address"}),Object(v.jsx)(qr,{title:"Review Order"}),Object(v.jsx)(qr,{title:"Secure Payment"}),Object(v.jsx)(qr,{title:"Order Complete"})]}),Object(v.jsxs)("div",{className:"box-item-xs-12 box-item-sm-12 box-item-md-9 box-item-lg-10 box-item-xl-10 div-box box-shadow",children:[Object(v.jsx)(we.a,{type:"secondary",children:Object(v.jsxs)(b.a,{to:"/checkoutReviewOrder",children:[Object(v.jsx)(Tr.a,{}),"Back to Review Order"]})}),Object(v.jsx)("h4",{children:"Secure Payment"}),Object(v.jsx)("p",{children:"You are about to be redirected to our payment gateway to perform the transaction."}),Object(v.jsx)(_e.a,{layout:"vertical",form:r,name:"basic",requiredMark:!1,className:"flex-horizontal-box-container",children:Object(v.jsx)(_e.a.Item,{className:"box-item-xs-12 box-item-sm-12 box-item-md-12 box-item-lg-12 box-item-xl-12",children:Object(v.jsx)(we.a,{style:{float:"right"},type:"primary",htmlType:"submit",onClick:c,children:"Continue to Payment Gateway"})})})]})]})]})})),Vr=Pr.a.Step,Ur=Object(m.b)((function(e){return{cartItems:e.cartState.items,total:e.cartState.total,address:e.cartState.address,email:e.cartState.c_email}}))((function(e){var t=e.total,r=e.cartItems.length,n=e.address,c=e.email;return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("div",{className:"page-title-holder fill",children:Object(v.jsx)("h2",{children:"Checkout"})}),Object(v.jsxs)("div",{className:"container flex-horizontal-box-container",children:[Object(v.jsxs)(Pr.a,{current:1,direction:"vertical",size:"small",className:"box-item-xs-12 box-item-sm-12 box-item-md-3 box-item-lg-2 box-item-xl-2",children:[Object(v.jsx)(Vr,{title:"Shipping Address"}),Object(v.jsx)(Vr,{title:"Review Order"}),Object(v.jsx)(Vr,{title:"Secure Payment"}),Object(v.jsx)(Vr,{title:"Order Complete"})]}),Object(v.jsxs)("div",{className:"box-item-xs-12 box-item-sm-12 box-item-md-9 box-item-lg-10 box-item-xl-10 div-box box-shadow flex-horizontal-box-container",children:[Object(v.jsx)("div",{className:"box-item-xs-1 box-item-sm-1 box-item-md-1 box-item-lg-1 box-item-xl-1",children:Object(v.jsx)(we.a,{type:"secondary",children:Object(v.jsxs)(b.a,{to:"/checkoutShipping",children:[Object(v.jsx)(Tr.a,{}),"Back to Shipping Address"]})})}),Object(v.jsxs)("div",{className:"box-item-xs-12 box-item-sm-12 box-item-md-12 box-item-lg-12 box-item-xl-12",children:[Object(v.jsx)("h4",{children:"Shipping Information"}),n?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)("p",{children:[Object(v.jsx)("strong",{children:"Recipient's Name:\u2002"}),n.po_attention_to]}),Object(v.jsxs)("p",{children:[Object(v.jsx)("strong",{children:"Recipient's Address:\u2002"}),n.po_address_line2?Object(v.jsxs)(v.Fragment,{children:[n.po_address_line2,"/"]}):Object(v.jsx)(v.Fragment,{}),n.po_address_line1,", ",n.po_suburb,", ",n.po_state," ",n.po_postcode]}),Object(v.jsxs)("p",{children:[Object(v.jsx)("strong",{children:"Recipient's Email:\u2002"}),c]})]}):Object(v.jsxs)("h5",{children:["Shipping Address not available.",Object(v.jsx)("br",{}),"Please go back to the previous step!"]}),Object(v.jsx)($t.a,{})]}),Object(v.jsxs)("div",{className:"box-item-xs-12 box-item-sm-12 box-item-md-12 box-item-lg-12 box-item-xl-12",children:[Object(v.jsxs)("h4",{children:["Order Summary (",r," items)"]}),Object(v.jsx)("div",{className:"table-container",children:Object(v.jsxs)("table",{className:"center-content",children:[Object(v.jsx)("thead",{children:Object(v.jsxs)("tr",{children:[Object(v.jsx)("th",{children:"Product"}),Object(v.jsx)("th",{children:"Unit Price"}),Object(v.jsx)("th",{children:"Size"}),Object(v.jsx)("th",{children:"Quantity"}),Object(v.jsx)("th",{children:"Special Requirements"})]})}),Object(v.jsx)("tbody",{children:0===r?Object(v.jsx)("tr",{children:Object(v.jsx)("td",{colSpan:5,children:Object(v.jsx)("h3",{style:{textAlign:"center"},children:"Your cart is empty! :("})})}):Object(v.jsx)(Ar,{editable:!1},r)})]})}),Object(v.jsx)($t.a,{})]}),Object(v.jsx)("div",{className:"box-item-xs-12 box-item-sm-12 box-item-md-12 box-item-lg-12 box-item-xl-12",children:Object(v.jsx)("table",{className:"right-content",children:Object(v.jsxs)("tbody",{children:[Object(v.jsx)("tr",{className:"non-hover",children:Object(v.jsxs)("td",{children:[Object(v.jsx)("strong",{children:"Subtotal:\u2002"}),Nt(t)]})}),Object(v.jsx)("tr",{className:"non-hover",children:Object(v.jsxs)("td",{children:[Object(v.jsx)("strong",{children:"GST:\u2002"}),Nt(.01*t)]})}),Object(v.jsx)("tr",{className:"non-hover",children:Object(v.jsxs)("td",{children:[Object(v.jsx)("strong",{children:"Freight Charge:\u2002"}),Nt(.05*t)]})}),Object(v.jsx)("tr",{className:"non-hover",children:Object(v.jsxs)("td",{children:[Object(v.jsx)("strong",{children:"Total:\u2002"}),Nt(1.06*t)]})})]})})}),Object(v.jsx)("div",{className:"box-item-xs-12 box-item-sm-12 box-item-md-12 box-item-lg-12 box-item-xl-12",children:Object(v.jsx)(we.a,{type:"primary",style:{float:"right"},children:Object(v.jsx)(b.a,{to:"/checkoutSecurePayment",children:"Go to payment"})})})]})]})]})})),Wr=r(72),Mr=r(109),Gr=Pr.a.Step,Jr=Object(m.b)(null,(function(e){return{setLoading:function(t){e(Qt(t))},setError:function(t){e(Zt(t))},clearCart:function(){e(Yt())}}}))((function(e){var t=JSON.parse(localStorage.getItem("total")),r=JSON.parse(localStorage.getItem("items")),c=JSON.parse(localStorage.getItem("address")),a=JSON.parse(localStorage.getItem("email")),s=Object(n.useState)(!0),o=Object(i.a)(s,2),l=o[0],d=o[1];return Object(n.useEffect)((function(){return q.a.post("/api/orders/create-order",{c_email:a,status:"NEW",items:r,address:c}).then((function(e){return d(!1),e})).catch((function(t){return e.setError(t)})),function(){localStorage.clear(),e.clearCart()}}),[]),Object(n.useEffect)((function(){e.setLoading(l)}),[l]),Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("div",{className:"page-title-holder fill",children:Object(v.jsx)("h2",{children:"Checkout"})}),Object(v.jsxs)("div",{className:"container flex-horizontal-box-container",children:[Object(v.jsxs)(Pr.a,{current:3,direction:"vertical",size:"small",className:"box-item-xs-12 box-item-sm-12 box-item-md-3 box-item-lg-2 box-item-xl-2",children:[Object(v.jsx)(Gr,{title:"Shipping Address"}),Object(v.jsx)(Gr,{title:"Review Order"}),Object(v.jsx)(Gr,{title:"Secure Payment"}),Object(v.jsx)(Gr,{title:"Order Complete"})]}),Object(v.jsx)("div",{className:"box-item-xs-12 box-item-sm-12 box-item-md-9 box-item-lg-10 box-item-xl-10 div-box box-shadow flex-horizontal-box-container",children:l?Object(v.jsxs)("div",{className:"box-item-xs-12 box-item-sm-12 box-item-md-12 box-item-lg-12 box-item-xl-12",align:"center",children:[Object(v.jsx)("p",{children:Object(v.jsx)(De.a,{size:"large"})}),Object(v.jsx)("p",{children:"We are processing your order."}),Object(v.jsxs)("p",{children:["Please wait and kindly ",Object(v.jsx)("strong",{children:"do not close this tab"})," until your order is processed!"]})]}):r?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)("div",{className:"box-item-xs-12 box-item-sm-12 box-item-md-12 box-item-lg-12 box-item-xl-12",align:"center",children:[Object(v.jsx)("h3",{children:"Order Placed"}),Object(v.jsx)(Mr.a,{style:{fontSize:"400%",color:"green"}}),Object(v.jsx)("h4",{children:Object(v.jsx)("em",{children:"Your order has been received and will be processed soon."})}),Object(v.jsx)("h4",{children:"Thank you for choosing us!"}),Object(v.jsx)($t.a,{})]}),Object(v.jsxs)("div",{className:"box-item-xs-12 box-item-sm-12 box-item-md-12 box-item-lg-12 box-item-xl-12",children:[Object(v.jsx)("h4",{children:"Shipping Information"}),c?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)("p",{children:[Object(v.jsx)("strong",{children:"Recipient's Name:\u2002"}),c.po_attention_to]}),Object(v.jsxs)("p",{children:[Object(v.jsx)("strong",{children:"Recipient's Address:\u2002"}),c.po_address_line2?Object(v.jsxs)(v.Fragment,{children:[c.po_address_line2,"/"]}):Object(v.jsx)(v.Fragment,{}),c.po_address_line1,", ",c.po_suburb,", ",c.po_state," ",c.po_postcode]}),Object(v.jsxs)("p",{children:[Object(v.jsx)("strong",{children:"Recipient's Email:\u2002"}),a]})]}):Object(v.jsxs)("h5",{children:["Shipping Address not available.",Object(v.jsx)("br",{}),"Please go back to the previous step!"]}),Object(v.jsx)($t.a,{})]}),Object(v.jsxs)("div",{className:"box-item-xs-12 box-item-sm-12 box-item-md-12 box-item-lg-12 box-item-xl-12",children:[Object(v.jsx)("h4",{children:"Order Summary"}),Object(v.jsx)("div",{className:"table-container",children:Object(v.jsxs)("table",{className:"center-content",children:[Object(v.jsx)("thead",{children:Object(v.jsxs)("tr",{children:[Object(v.jsx)("th",{children:"Product"}),Object(v.jsx)("th",{children:"Unit Price"}),Object(v.jsx)("th",{children:"Size"}),Object(v.jsx)("th",{children:"Quantity"}),Object(v.jsx)("th",{children:"Special Requirements"})]})}),Object(v.jsx)("tbody",{children:Object(v.jsx)(Ar,{editable:!1},r)})]})}),Object(v.jsx)($t.a,{})]}),Object(v.jsx)("div",{className:"box-item-xs-12 box-item-sm-12 box-item-md-12 box-item-lg-12 box-item-xl-12",children:Object(v.jsx)("table",{className:"right-content",children:Object(v.jsxs)("tbody",{children:[Object(v.jsx)("tr",{className:"non-hover",children:Object(v.jsxs)("td",{children:[Object(v.jsx)("strong",{children:"Subtotal:\u2002"}),Nt(t)]})}),Object(v.jsx)("tr",{className:"non-hover",children:Object(v.jsxs)("td",{children:[Object(v.jsx)("strong",{children:"GST:\u2002"}),Nt(.01*t)]})}),Object(v.jsx)("tr",{className:"non-hover",children:Object(v.jsxs)("td",{children:[Object(v.jsx)("strong",{children:"Freight Charge:\u2002"}),Nt(.05*t)]})}),Object(v.jsx)("tr",{className:"non-hover",children:Object(v.jsxs)("td",{children:[Object(v.jsx)("strong",{children:"Total:\u2002"}),Nt(1.06*t)]})})]})})})]}):Object(v.jsxs)("div",{className:"box-item-xs-12 box-item-sm-12 box-item-md-12 box-item-lg-12 box-item-xl-12",align:"center",children:[Object(v.jsx)("p",{children:Object(v.jsx)(Wr.a,{style:{fontSize:"400%",color:"red"}})}),Object(v.jsx)("h2",{children:"Page Not Found"}),Object(v.jsx)("p",{children:"The page you're looking for is unavailable."}),Object(v.jsxs)("p",{children:["Please click ",Object(v.jsx)(b.a,{to:"/",children:"here"})," to continue shopping."]})]})})]})]})})),Yr=r(112),Qr=function(){return Object(n.useEffect)((function(){localStorage.removeItem("address"),localStorage.removeItem("email")}),[]),Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("div",{className:"page-title-holder fill",children:Object(v.jsx)("h2",{children:"Payment canceled"})}),Object(v.jsxs)("div",{style:{textAlign:"center"},children:[Object(v.jsx)("br",{}),Object(v.jsx)(Yr.a,{justify:"space-around",align:"middle",children:Object(v.jsx)("p",{children:Object(v.jsx)(Wr.a,{style:{fontSize:"400%",color:"#EB6E00"}})})}),Object(v.jsx)(Yr.a,{justify:"space-around",align:"middle",children:Object(v.jsx)("p",{children:"Your have cancelled the payment."})}),Object(v.jsx)(Yr.a,{justify:"space-around",align:"middle",children:Object(v.jsxs)("p",{children:["Please click ",Object(v.jsx)(b.a,{to:"/",children:"here"})," to continue shopping."]})})]})]})},Zr=r(444),Hr=function(e){if(null===e.order)return Object(v.jsx)(v.Fragment,{});var t=new Date(e.order.issued_date),r=e.order.items.map((function(e,t){return Object(v.jsxs)("tr",{children:[Object(v.jsx)("td",{children:e.item_code}),Object(v.jsx)("td",{children:e.quantity}),Object(v.jsx)("td",{children:Object(v.jsx)("textarea",{id:"manage-order-details-panel-special-spec",disabled:!0,children:e.special_requirements})})]},t)}));return Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)("div",{className:"container box-shadow",id:"manage-order-details-panel",children:[Object(v.jsx)(we.a,{onClick:function(){e.setCurrentOrder(null),e.setPage(0)},children:"Back to Orders"}),Object(v.jsxs)(Zr.b,{title:Object(v.jsx)("h3",{children:"Order Details"}),children:[Object(v.jsx)(Zr.b.Item,{label:"Purchase Order Number",children:e.order.po_number}),Object(v.jsx)(Zr.b.Item,{label:"Customer Email",children:e.order.c_email}),Object(v.jsx)(Zr.b.Item,{label:"Issue Date",children:"".concat(t.getDate(),"/").concat(t.getMonth()+1,"/").concat(t.getFullYear())}),Object(v.jsx)(Zr.b.Item,{label:"Status",children:e.order.status}),Object(v.jsx)(Zr.b.Item,{label:"Carrier",children:e.order.carrier}),Object(v.jsx)(Zr.b.Item,{label:"Tracking Number",children:e.order.tracking_number}),Object(v.jsx)(Zr.b.Item,{label:"Address Line 1",children:e.order.address.po_address_line1}),Object(v.jsx)(Zr.b.Item,{label:"Address Line 2",children:e.order.address.po_address_line2}),Object(v.jsx)(Zr.b.Item,{label:"Attention To",children:e.order.address.po_attention_to}),Object(v.jsx)(Zr.b.Item,{label:"Suburb",children:e.order.address.po_suburb}),Object(v.jsx)(Zr.b.Item,{label:"State",children:e.order.address.po_state}),Object(v.jsx)(Zr.b.Item,{label:"Post Code",children:e.order.address.po_postal_code}),Object(v.jsx)(Zr.b.Item,{label:"Country",children:e.order.address.po_country})]}),Object(v.jsx)("div",{className:"table-container",children:Object(v.jsxs)("table",{className:"center-content",children:[Object(v.jsx)("thead",{children:Object(v.jsxs)("tr",{children:[Object(v.jsx)("th",{children:"Item Code"}),Object(v.jsx)("th",{children:"Quantity"}),Object(v.jsx)("th",{children:"Special Requirements"})]})}),Object(v.jsx)("tbody",{children:r})]})})]})})},Xr=gt.a.OptGroup,Kr=gt.a.Option,$r=function(){var e=T(),t=F(),r=Object(n.useState)([]),c=Object(i.a)(r,2),a=c[0],s=c[1],o=Object(n.useState)([]),l=Object(i.a)(o,2),d=l[0],j=l[1],u=Object(n.useState)(null),b=Object(i.a)(u,2),m=b[0],h=b[1],p=Object(n.useState)(!1),O=Object(i.a)(p,2),x=O[0],g=O[1],f=Object(n.useState)(!1),_=Object(i.a)(f,2),y=_[0],w=_[1],S=Object(n.useState)(!1),N=Object(i.a)(S,2),A=N[0],C=N[1],k=Object(n.useState)(0),P=Object(i.a)(k,2),I=P[0],D=P[1],L=Math.ceil(a.length/10)-1,R=Object(v.jsx)(v.Fragment,{});return Object(n.useEffect)((function(){if(!a.length){g(!0);var r={headers:{authorization:"Bearer ".concat(e.access_token)}};q.a.get("api/orders/orders-for-user",r).then((function(e){if(e.data.hasOwnProperty("success"))console.log(e),C(!0),g(!1);else{var t=e.data.sort((function(e,t){return new Date(t.issued_date)-new Date(e.issued_date)}));s(t),j(t),g(!1)}})).catch((function(e){console.log(e),401===e.response.status?E(t):(w(!0),g(!1))}))}}),[a.length,e.access_token,t]),0!==a.length&&(R=a.slice(10*I,10*(I+1)>a.length?a.length:10*(I+1)).map((function(e){var t=new Date(e.issued_date),r="".concat(t.getDate(),"/").concat(t.getMonth()+1,"/").concat(t.getFullYear());return Object(v.jsxs)("tr",{children:[Object(v.jsx)("td",{children:e.po_number}),Object(v.jsx)("td",{children:Object(v.jsx)("strong",{children:e.status})}),Object(v.jsx)("td",{children:r}),Object(v.jsx)("td",{children:Object(v.jsx)("strong",{children:null===e.tracking_number||null!==e.tracking_number&&0===e.tracking_number.length?Object(v.jsx)("em",{children:"Not Available"}):e.tracking_number})}),Object(v.jsx)("td",{children:null===e.carrier||null!==e.carrier&&0===e.carrier.length?Object(v.jsx)("em",{children:"Not Available"}):e.carrier}),Object(v.jsx)("td",{children:Object(v.jsx)(we.a,{type:"secondary",onClick:function(){h(e)},children:" View Order Details "})})]},e._id)}))),Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("div",{className:"page-title-holder fill",children:Object(v.jsx)("h2",{children:"Manage Orders"})}),null===m?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)("div",{className:"container flex-horizontal-box-container",children:[Object(v.jsxs)(gt.a,{className:"box-item-xs-6 box-item-sm-4 box-item-md-4 box-item-lg-4 box-item-xl-3",placeholder:"Filter By",onSelect:function(e){!function(e,t,r){r(t.filter((function(t){return t.status===e})))}(e,d,s),D(0)},children:[Object(v.jsx)(Kr,{value:We,children:"New"}),Object(v.jsx)(Kr,{value:Me,children:"Shipped"}),Object(v.jsx)(Kr,{value:Ge,children:"Complete"})]}),Object(v.jsx)(gt.a,{className:"box-item-xs-6 box-item-sm-4 box-item-md-4 box-item-lg-4 box-item-xl-3",placeholder:"Order By",onSelect:function(e){!function(e,t,r){if("d_decending"===e){var n=t.sort((function(e,t){return new Date(t.issued_date)-new Date(e.issued_date)}));r(Object(vr.a)(n))}else{var c=t.sort((function(e,t){return new Date(e.issued_date)-new Date(t.issued_date)}));r(Object(vr.a)(c))}}(e,a,s),D(0)},children:Object(v.jsxs)(Xr,{label:"Data Issued",children:[Object(v.jsx)(Kr,{value:"d_decending",children:"Latest"}),Object(v.jsx)(Kr,{value:"d_ascending",children:"Earliest"})]})}),Object(v.jsx)(we.a,{className:"box-item-xs-3 box-item-sm-4 box-item-md-3 box-item-lg-2 box-item-xl-2",type:"secondary",onClick:function(){s(d)},children:"Reset Filters"})]}),Object(v.jsx)("div",{className:"container table-container",children:x?Object(v.jsx)("div",{style:{textAlign:"center"},children:Object(v.jsx)(De.a,{size:"large"})}):y?Object(v.jsx)("h1",{style:{textAlign:"center",color:"red"},children:"Could not load data, please try refreshing page"}):A?Object(v.jsx)("h1",{style:{textAlign:"center",color:"green"},children:"You have no current order history"}):Object(v.jsxs)("table",{className:"box-shadow center-content",children:[Object(v.jsx)("thead",{children:Object(v.jsxs)("tr",{children:[Object(v.jsx)("th",{children:"PO Number"}),Object(v.jsx)("th",{children:"Status"}),Object(v.jsx)("th",{children:"Date Issued"}),Object(v.jsx)("th",{children:"Tracking Number"}),Object(v.jsx)("th",{children:"Carrier"}),Object(v.jsx)("th",{children:"Actions"})]})}),Object(v.jsx)("tbody",{children:R})]})}),Object(v.jsx)(Le.a,{current:I+1,defaultCurrent:1,total:10*(L+1),onChange:function(e){D(e-1)},className:"text-center"})]}):Object(v.jsx)(Hr,{order:m,setCurrentOrder:h,setPage:D})]})},en=(r(423),function(e){var t=e;if(t.items)for(var r=0;r<t.items.lenth;r++)void 0===t.items[r].special_requirements&&(t.items[r].special_requirements="");else t.items=[];return void 0===t.tracking_number&&(t.tracking_number=""),void 0===t.carrier&&(t.carrier=""),t}),tn={EDIT:"EDIT",VIEW:"VIEW",ADD:"ADD"},rn=function(e){return Object(v.jsxs)(_e.a,{form:e.form,layout:"vertical",style:{fontWeight:"bold"},children:[Object(v.jsx)(_e.a.Item,{name:"item_code",label:"Product Code",rules:[{whitespace:!0,required:!0,validateTrigger:"onSubmit",message:"Please input a product code"}],children:Object(v.jsx)(ye.a,{maxLength:100})}),Object(v.jsx)(_e.a.Item,{name:"quantity",label:"Quantity",rules:[{required:!0,validateTrigger:"onSubmit",message:"Please input a required quantity"},{validateTrigger:"onSubmit",validator:function(){var e=Object(mt.a)(bt.a.mark((function e(t,r){return bt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==Number(r)){e.next=2;break}return e.abrupt("return",Promise.reject(new Error("Cannot have value of 0")));case 2:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()}],children:Object(v.jsx)(ye.a,{maxLength:4,onChange:function(t){return y(t,e.form,"quantity")},style:{width:"50px"}})}),Object(v.jsx)(_e.a.Item,{name:"p_size",label:"Size",rules:[{whitespace:!0,required:!0,validateTrigger:"onSubmit",message:"Please input a product size"}],children:Object(v.jsx)(ye.a,{maxLength:50,style:{width:"100px"}})}),Object(v.jsx)(_e.a.Item,{maxLength:200,name:"special_requirements",label:"Special Requirements",children:Object(v.jsx)(ye.a,{})})]})},nn=function(e){return Object(v.jsx)(f.a,{title:"Add Item",visible:e.visible,onOk:function(){e.form.validateFields().then((function(t){var r=Object(vr.a)(e.order.items);r.unshift(t);var n=Object(ve.a)({},e.order);n.items=r,e.setOrder(n),e.setNewItemFormVisible(!1),e.form.resetFields()})).catch((function(e){console.log(e)}))},onCancel:function(){e.form.resetFields(),e.setNewItemFormVisible(!1)},children:Object(v.jsx)(rn,{form:e.form})})},cn=function(e,t){f.a.confirm({title:"Add Order?",icon:Object(v.jsx)(_r.a,{}),content:"Are you sure you want to add this order?",okText:"Yes",cancelText:"No",onOk:function(){if(void 0!==t)return t(function(e){return function(t){return q.a.post("/api/orders/create-order",e).then((function(r){return r.data.success?(e.po_number=r.data.po_number,t({type:be,payload:e})):console.log(r),r}))}}(e)).then((function(e){e.data.success?an():sn()})).catch((function(){sn()}));q.a.post("/api/orders/create-order",e).then((function(e){e.data.success?an():(console.log(e),sn())})).catch((function(e){console.log(e),sn()}))}})},an=function(){f.a.info({title:"Add Successful",content:"Successfully added order",okText:"Ok",onOk:function(){g.push("/admin")}})},sn=function(){f.a.info({title:"ERROR",content:"There was a problem adding this order. Please try again or contact support.",okText:"Ok",onOk:function(){g.push("/order"),window.location.reload()}})},on=function(e){f.a.info({title:"Edit Successful",content:"Successfully edited order",okText:"Ok",onOk:function(){g.push("/order/".concat(e.po_number,"/").concat(e.status))}})},ln=function(){f.a.info({title:"ERROR",content:"There was a problem editing this order. Please try again or contact support.",okText:"Ok",onOk:function(){g.push("/order"),window.location.reload()}})},dn=function(e){var t=function(t){var r=Object(vr.a)(e.order.items);r.splice(t,1);var n=Object(ve.a)({},e.order);n.items=r,e.setOrder(n)},r=e.order.items.map((function(r,n){return Object(v.jsxs)("tr",{className:"view-order-table-row",children:[Object(v.jsxs)("td",{children:[r.item_code,Object(v.jsx)(_e.a.Item,{hidden:!0,name:["items",n,"item_code"],children:Object(v.jsx)(ye.a,{})})]}),Object(v.jsx)("td",{children:e.mode===tn.EDIT||e.mode===tn.ADD?Object(v.jsx)(_e.a.Item,{name:["items",n,"quantity"],rules:[{validateTrigger:"onSubmit",validator:function(){var e=Object(mt.a)(bt.a.mark((function e(t,r){return bt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==Number(r)){e.next=2;break}return e.abrupt("return",Promise.reject(new Error("Please enter a value greater than 0")));case 2:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()}],children:Object(v.jsx)(ye.a,{maxLength:4,onChange:function(t){return y(t,e.form,"items",n,"quantity")},style:{width:"50px"}})}):r.quantity}),Object(v.jsx)("td",{children:e.mode===tn.EDIT||e.mode===tn.ADD?Object(v.jsx)(_e.a.Item,{name:["items",n,"special_requirements"],children:Object(v.jsx)(ye.a.TextArea,{maxLength:500,style:{width:"500px"}})}):r.special_requirements}),Object(v.jsx)("td",{children:e.mode===tn.EDIT||e.mode===tn.ADD?Object(v.jsx)(_e.a.Item,{name:["items",n,"p_size"],rules:[{required:!0,message:"Please input a size"}],children:Object(v.jsx)(ye.a,{maxLength:50,style:{width:"100px"}})}):r.p_size}),e.mode===tn.EDIT||e.mode===tn.ADD?Object(v.jsx)("td",{onClick:function(){return function(e,t){f.a.confirm({title:"Warning!",icon:Object(v.jsx)(_r.a,{}),content:"Are you sure you want to delete this item from this order?",okText:"Delete",cancelText:"No",onOk:function(){t(e)}})}(n,t)},children:Object(v.jsx)(Je.a,{className:"view-order-icon"})}):Object(v.jsx)(v.Fragment,{})]},n)}));return Object(v.jsx)(_e.a,{onBlur:function(){if(JSON.stringify(e.order.items)!==JSON.stringify(e.form.getFieldValue("items"))){var t=Object(ve.a)({},e.order);t.items=e.form.getFieldValue("items"),e.setOrder(t)}},form:e.form,children:Object(v.jsx)("table",{id:"view-order-table-wrapper",className:"center-content",children:Object(v.jsxs)("tbody",{children:[Object(v.jsxs)("tr",{style:{border:"solid black 1px"},children:[Object(v.jsxs)("th",{children:[Object(v.jsx)("span",{style:{color:"red"},children:"*"}),"Item Code"]}),Object(v.jsxs)("th",{children:[Object(v.jsx)("span",{style:{color:"red"},children:"*"}),"Quantity"]}),Object(v.jsx)("th",{children:"Special Requirements"}),Object(v.jsxs)("th",{children:[Object(v.jsx)("span",{style:{color:"red"},children:"*"}),"Size"]}),e.mode===tn.EDIT||e.mode===tn.ADD?Object(v.jsx)("th",{onClick:function(){e.onClick(!0)},className:"view-order-icon",style:{fontSize:"30px"},children:"+"}):Object(v.jsx)(v.Fragment,{})]}),r]})})})},jn=function(e){var t=new Date(e.orderOriginal.issued_date),r="".concat(t.getDate(),"/").concat(t.getMonth()+1,"/").concat(t.getFullYear()),n=function(t){var r=t.target.id;if(e.order[r]!==t.target.value){var n=Object(ve.a)({},e.order);n[r]=t.target.value,e.setOrder(n)}},c=Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("div",{className:"view-order-field-header",children:"Purchase Order Number"}),Object(v.jsx)("div",{className:"view-order-field-header",style:{paddingBottom:"20px",fontWeight:"normal"},children:e.order.po_number}),Object(v.jsx)(_e.a.Item,{hidden:!0,name:"po_number",children:Object(v.jsx)(ye.a,{})}),Object(v.jsx)("div",{className:"view-order-field-header",children:"Issued Date"}),Object(v.jsx)("div",{className:"view-order-field-header",style:{paddingBottom:"20px",fontWeight:"normal"},children:r}),Object(v.jsxs)("div",{className:"view-order-field-header",children:[Object(v.jsx)("span",{style:{color:"red"},children:"*"}),"Customer Email"]}),Object(v.jsx)(_e.a.Item,{name:"c_email",rules:[{required:!0,type:"email",validateTrigger:"onSubmit",message:"Please enter a valid email"}],children:Object(v.jsx)(ye.a,{onBlur:n,maxLength:100,style:{width:"500px"}})}),Object(v.jsxs)("div",{className:"view-order-field-header",children:[Object(v.jsx)("span",{style:{color:"red"},children:"*"}),"Status"]}),Object(v.jsx)(_e.a.Item,{name:"status",rules:[{required:!0,validateTrigger:"onSubmit",message:"Please select order status"}],children:Object(v.jsxs)(gt.a,{onChange:function(t){var r=Object(ve.a)({},e.order);r.status=t,e.setOrder(r)},style:{width:"500px",textAlign:"left"},children:[Object(v.jsx)(gt.a.Option,{value:"NEW",children:"New"}),Object(v.jsx)(gt.a.Option,{value:"SHIPPED",children:"Shipped"}),Object(v.jsx)(gt.a.Option,{value:"COMPLETE",children:"Complete"})]})}),Object(v.jsx)("div",{className:"view-order-field-header",children:"Carrier"}),Object(v.jsx)(_e.a.Item,{name:"carrier",rules:[{whitespace:!0,validateTrigger:"onSubmit",message:"Cannot contain white spaces"},{validator:function(){var t=Object(mt.a)(bt.a.mark((function t(r,n){return bt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.order.status===We||void 0!==n&&""!==n){t.next=2;break}return t.abrupt("return",Promise.reject(new Error("Only New orders can have empty carrier fields")));case 2:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()},{validator:function(){var t=Object(mt.a)(bt.a.mark((function t(r,n){return bt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.order.status!==We||void 0===n||""===n){t.next=2;break}return t.abrupt("return",Promise.reject(new Error('Set status to "Shipped" or "Complete" if you wish to add carrier values')));case 2:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()}],children:Object(v.jsx)(ye.a,{onBlur:n,maxLength:100,style:{width:"500px"}})}),Object(v.jsx)("div",{className:"view-order-field-header",children:"Tracking Number"}),Object(v.jsx)(_e.a.Item,{name:"tracking_number",rules:[{whitespace:!0,validateTrigger:"onSubmit",message:"Cannot contain white spaces"},{validator:function(){var t=Object(mt.a)(bt.a.mark((function t(r,n){return bt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.order.status===We||void 0!==n&&""!==n){t.next=2;break}return t.abrupt("return",Promise.reject(new Error("Only New orders can have empty tracking number fields")));case 2:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()},{validator:function(){var t=Object(mt.a)(bt.a.mark((function t(r,n){return bt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.order.status!==We||void 0===n||""===n){t.next=2;break}return t.abrupt("return",Promise.reject(new Error('Set status to "Shipped" or "Complete" if you wish to add tracking values')));case 2:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()}],children:Object(v.jsx)(ye.a,{onBlur:n,maxLength:100,style:{width:"500px"}})})]}),a=Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)("div",{className:"view-order-field-header",children:[Object(v.jsx)("span",{style:{color:"red"},children:"*"}),"Customer Email"]}),Object(v.jsx)(_e.a.Item,{name:"c_email",rules:[{required:!0,type:"email",validateTrigger:"onSubmit",message:"Please enter a valid email"}],children:Object(v.jsx)(ye.a,{onBlur:n,maxLength:100,style:{width:"500px"}})})]});return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("div",{className:"view-order-column",children:Object(v.jsxs)(_e.a,{form:e.form,children:[e.mode===tn.EDIT?c:Object(v.jsx)(v.Fragment,{}),e.mode===tn.ADD?a:Object(v.jsx)(v.Fragment,{})]})}),Object(v.jsx)("div",{className:"view-order-column",children:Object(v.jsxs)(_e.a,{onBlur:n,form:e.form,children:[Object(v.jsxs)("div",{className:"view-order-field-header",children:[Object(v.jsx)("span",{style:{color:"red"},children:"*"}),"Address Line 1"]}),Object(v.jsx)(_e.a.Item,{name:"po_address_line1",rules:[{whitespace:!0,required:!0,validateTrigger:"onSubmit",message:"Please input an address"}],children:Object(v.jsx)(ye.a,{maxLength:200,style:{width:"500px"}})}),Object(v.jsxs)("div",{className:"view-order-field-header",children:[Object(v.jsx)("span",{style:{color:"red"},children:"*"}),"Address Line 2"]}),Object(v.jsx)(_e.a.Item,{name:"po_address_line2",rules:[{whitespace:!0,required:!0,validateTrigger:"onSubmit",message:"Please input an address"}],children:Object(v.jsx)(ye.a,{maxLength:200,style:{width:"500px"}})}),Object(v.jsxs)("div",{className:"view-order-field-header",children:[Object(v.jsx)("span",{style:{color:"red"},children:"*"}),"Attention to"]}),Object(v.jsx)(_e.a.Item,{name:"po_attention_to",rules:[{whitespace:!0,required:!0,validateTrigger:"onSubmit",message:"Please input Attention to"}],children:Object(v.jsx)(ye.a,{maxLength:200,style:{width:"500px"}})}),Object(v.jsxs)("div",{className:"view-order-field-header",children:[Object(v.jsx)("span",{style:{color:"red"},children:"*"}),"Suburb"]}),Object(v.jsx)(_e.a.Item,{name:"po_suburb",rules:[{whitespace:!0,required:!0,validateTrigger:"onSubmit",message:"Please input a suburb"}],children:Object(v.jsx)(ye.a,{maxLength:100,style:{width:"500px"}})}),Object(v.jsxs)("div",{className:"view-order-field-header",children:[Object(v.jsx)("span",{style:{color:"red"},children:"*"}),"State"]}),Object(v.jsx)(_e.a.Item,{name:"po_state",rules:[{whitespace:!0,required:!0,validateTrigger:"onSubmit",message:"Please input a state"}],children:Object(v.jsx)(ye.a,{maxLength:100,style:{width:"500px"}})}),Object(v.jsxs)("div",{className:"view-order-field-header",children:[Object(v.jsx)("span",{style:{color:"red"},children:"*"}),"Post Code"]}),Object(v.jsx)(_e.a.Item,{name:"po_postcode",rules:[{whitespace:!0,required:!0,validateTrigger:"onSubmit",message:"Please input a postal code"}],children:Object(v.jsx)(ye.a,{onChange:function(t){return y(t,e.form,"po_postcode")},maxLength:100,style:{width:"500px"}})}),Object(v.jsxs)("div",{className:"view-order-field-header",children:[Object(v.jsx)("span",{style:{color:"red"},children:"*"}),"Country"]}),Object(v.jsx)(_e.a.Item,{name:"po_country",rules:[{whitespace:!0,required:!0,validateTrigger:"onSubmit",message:"Please input a country"}],children:Object(v.jsx)(ye.a,{maxLength:100,style:{width:"500px"}})})]})})]})},un=function(e){var t=new Date(e.order.issued_date);return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)("div",{className:"view-order-column",children:[Object(v.jsx)("div",{className:"view-order-field-header",children:"Purchase Order Number"}),Object(v.jsx)("div",{className:"view-order-field-header",style:{paddingBottom:"20px",fontWeight:"normal"},children:e.order.po_number}),Object(v.jsx)("div",{className:"view-order-field-header",children:"Customer Email"}),Object(v.jsx)("div",{className:"view-order-field-header",style:{paddingBottom:"20px",fontWeight:"normal"},children:e.order.c_email}),Object(v.jsx)("div",{className:"view-order-field-header",children:"Issue Date"}),Object(v.jsx)("div",{className:"view-order-field-header",style:{paddingBottom:"20px",fontWeight:"normal"},children:"".concat(t.getDate(),"/").concat(t.getMonth()+1,"/").concat(t.getFullYear())}),Object(v.jsx)("div",{className:"view-order-field-header",children:"Status"}),Object(v.jsx)("div",{className:"view-order-field-header",style:{paddingBottom:"20px",fontWeight:"normal"},children:e.order.status}),Object(v.jsx)("div",{className:"view-order-field-header",children:"Carrier"}),Object(v.jsx)("div",{className:"view-order-field-header",style:{paddingBottom:"20px",fontWeight:"normal"},children:e.order.carrier}),Object(v.jsx)("div",{className:"view-order-field-header",children:"Tracking Number"}),Object(v.jsx)("div",{className:"view-order-field-header",style:{paddingBottom:"20px",fontWeight:"normal"},children:e.order.tracking_number})]}),Object(v.jsxs)("div",{className:"view-order-column",children:[Object(v.jsx)("div",{className:"view-order-field-header",children:"Address Line 1"}),Object(v.jsx)("div",{className:"view-order-field-header",style:{paddingBottom:"20px",fontWeight:"normal"},children:e.order.address.po_address_line1}),Object(v.jsx)("div",{className:"view-order-field-header",children:"Address Line 2"}),Object(v.jsx)("div",{className:"view-order-field-header",style:{paddingBottom:"20px",fontWeight:"normal"},children:e.order.address.po_address_line2}),Object(v.jsx)("div",{className:"view-order-field-header",children:"Attention To"}),Object(v.jsx)("div",{className:"view-order-field-header",style:{paddingBottom:"20px",fontWeight:"normal"},children:e.order.address.po_attention_to}),Object(v.jsx)("div",{className:"view-order-field-header",children:"Suburb"}),Object(v.jsx)("div",{className:"view-order-field-header",style:{paddingBottom:"20px",fontWeight:"normal"},children:e.order.address.po_suburb}),Object(v.jsx)("div",{className:"view-order-field-header",children:"State"}),Object(v.jsx)("div",{className:"view-order-field-header",style:{paddingBottom:"20px",fontWeight:"normal"},children:e.order.address.po_state}),Object(v.jsx)("div",{className:"view-order-field-header",children:"Post Code"}),Object(v.jsx)("div",{className:"view-order-field-header",style:{paddingBottom:"20px",fontWeight:"normal"},children:e.order.address.po_postcode}),Object(v.jsx)("div",{className:"view-order-field-header",children:"Country"}),Object(v.jsx)("div",{className:"view-order-field-header",style:{paddingBottom:"20px",fontWeight:"normal"},children:e.order.address.po_country})]})]})},bn=function(){var e=Object(m.c)(),t=F(),r=T(),c=Object(fe.g)(),a=c.po_number,s=c.status,o=Object(m.d)((function(e){return e.incompleteOrdersState.incompleteOrders})),l=Object(m.d)((function(e){return e.completeOrdersState.completeOrders})),d=Object(n.useState)({items:[]}),j=Object(i.a)(d,2),u=j[0],b=j[1],h=Object(n.useState)(u),p=Object(i.a)(h,2),O=p[0],x=p[1],g=Object(n.useState)(tn.ADD),_=Object(i.a)(g,2),y=_[0],w=_[1],S=Object(n.useState)(!1),N=Object(i.a)(S,2),A=N[0],C=N[1],k=_e.a.useForm(),P=Object(i.a)(k,1)[0],I=_e.a.useForm(),D=Object(i.a)(I,1)[0];Object(n.useEffect)((function(){P.setFieldsValue({items:Object(vr.a)(u.items)})})),Object(n.useEffect)((function(){var e={headers:{authorization:"Bearer ".concat(r.access_token)}};if(s===Ge)if(o.length){var n=l.find((function(e){return e.po_number===a}));void 0!==n&&(n=en(n),b(n),x(n),w(tn.VIEW))}else q.a.post("/api/orders/single-order",{po_number:a},e).then((function(e){if(!1!==e.data.success){var t=en(e.data);b(t),x(t),w(tn.VIEW)}else console.log(e)})).catch((function(e){console.log(e),401===e.response.status&&E(t)}));else if(s===We||s===Me)if(o.length){var c=o.find((function(e){return e.po_number===a}));void 0!==c&&(c=en(c),b(c),x(c),w(tn.VIEW))}else q.a.post("/api/orders/single-order",{po_number:a},e).then((function(e){if(!1!==e.data.success){var t=en(e.data);b(t),x(t),w(tn.VIEW)}else console.log(e)})).catch((function(e){console.log(e),401===e.response.status&&E(t)}))}),[l,P,o,a,s,r.access_token,t]);var L=function(){u.items.length>0?P.validateFields().then((function(e){R(e)})).catch((function(e){console.log(e)})):function(e){f.a.confirm({title:"Error!",icon:Object(v.jsx)(_r.a,{}),content:"You must have at least one item in an order",okText:"Add Item",cancelText:"Back",onOk:function(){e(!0)}})}(C)},R=function(n){var c=JSON.stringify(u)!==JSON.stringify(O),a=function(e){var t={};return t.po_address_line1=e.po_address_line1,t.po_address_line2=e.po_address_line2,t.po_attention_to=e.po_attention_to,t.po_country=e.po_country,t.po_postcode=e.po_postcode,t.po_state=e.po_state,t.po_suburb=e.po_suburb,t}(n);if(y===tn.ADD){var i=function(e,t){var r={};return r.c_email=e.c_email,r.carrier="dsfsd",r.items=Object(vr.a)(e.items),r.status=We,r.tracking_number="sdfsdf",r.address=t,r}(n,a);console.log(i),o.length>0?(i.issued_date=new Date,cn(i,e)):cn(i)}else if(y===tn.EDIT&&c){var s=function(e,t,r){var n={};return n.po_number=e.po_number,n.c_email=e.c_email,n.carrier=e.carrier,n.items=Object(vr.a)(e.items),n.status=e.status,n.tracking_number=e.tracking_number,n.address=t,n.issued_date=r.issued_date,n}(n,a,O),d=O.status,j=n.status;!function(e,t,r,n,c,a,i,s,o,l,d){var j={headers:{authorization:"Bearer ".concat(l)}};f.a.confirm({title:"Edit Order?",icon:Object(v.jsx)(_r.a,{}),content:"Are you sure you want to edit this order?",okText:"Yes",cancelText:"No",onOk:function(){return q.a.post("/api/orders/edit-order",e,j).then((function(l){l.data.success?(r!==We&&r!==Me||n!==Ge?r!==Ge||n!==Me&&n!==We?n!==Me&&n!==We||r!==Me&&r!==We?c>0&&t({type:se,payload:e}):a>0&&t({type:me,payload:e}):(a>0&&t({type:be,payload:e}),c>0&&t({type:ce,payload:e.po_number})):(a>0&&t({type:de,payload:e.po_number}),c>0&&t({type:ie,payload:e})),i(e),s(e),o(tn.VIEW),on(e)):(console.log(l),ln())})).catch((function(e){console.log(e),401===e.response.status?E(d):ln()}))}})}(s,e,d,j,l.length,o.length,b,x,w,r.access_token,t)}},z={order:u,setOrder:b,visible:A,setNewItemFormVisible:C,form:D},B={order:u,orderOriginal:O,mode:y,form:P,setOrder:b},V={order:u,orderOriginal:O,mode:y,form:P,onClick:C,setOrder:b},U=Object(v.jsx)("div",{style:{margin:"30px",textAlign:"center"},children:Object(v.jsx)(we.a,{onClick:function(){y===tn.VIEW?(w(tn.EDIT),P.setFieldsValue(u),P.setFieldsValue(u.address)):w(tn.VIEW)},style:{width:"500px",fontWeight:"bold"},children:"Toggle 'Edit' Mode"})}),W=Object(v.jsxs)("div",{style:{textAlign:"center"},children:[Object(v.jsx)("div",{children:Object(v.jsx)(we.a,{type:"primary",onClick:function(){JSON.stringify(u)!==JSON.stringify(O)&&L()},style:{width:"500px",fontWeight:"bold"},children:"Submit Details"})}),Object(v.jsx)("div",{style:{paddingTop:"30px",paddingBottom:"30px"},children:Object(v.jsx)(we.a,{onClick:function(){JSON.stringify(u)!==JSON.stringify(O)&&function(e,t,r,n){f.a.confirm({title:"Warning!",icon:Object(v.jsx)(_r.a,{}),content:"Are you sure you want to undo changes",okText:"Yes",cancelText:"No",onOk:function(){n===tn.ADD?(e.resetFields(),r(t)):(e.setFieldsValue(t),e.setFieldsValue(t.address),r(t))}})}(P,O,b,y)},style:{width:"500px",fontWeight:"bold"},children:"Undo Changes"})})]});return Object(v.jsxs)("div",{children:[y===tn.EDIT||y===tn.VIEW?U:Object(v.jsx)(v.Fragment,{}),Object(v.jsx)("h1",{className:"view-order-text",children:"Order Details"}),Object(v.jsxs)("div",{children:[Object(v.jsx)("div",{id:"view-order-row",children:y===tn.EDIT||y===tn.ADD?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(jn,Object(ve.a)({},B))," ",W]}):Object(v.jsx)(un,{order:u})}),Object(v.jsx)("h1",{className:"view-order-text",children:"Ordered Products"}),Object(v.jsx)("div",{style:{height:"400px",display:"table"},children:Object(v.jsx)(dn,Object(ve.a)({},V))})]}),Object(v.jsx)(nn,Object(ve.a)({},z))]})},mn=r(155),hn=function(e){var t=e.order,r=e.dispatch,n=e.access_token,c=e.updateAuth,a=Object(Se.useForm)(),s=Object(i.a)(a,1)[0],o=Object(Se.useForm)(),l=Object(i.a)(o,1)[0],d=new Date(t.issued_date),j="".concat(d.getDate(),"/").concat(d.getMonth(),"/").concat(d.getFullYear());return Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)("tr",{children:[Object(v.jsx)("td",{children:t.po_number}),Object(v.jsx)("td",{children:t.c_email}),Object(v.jsx)("td",{children:t.status}),Object(v.jsx)("td",{children:j}),t.status===We?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("td",{children:Object(v.jsx)(_e.a,{form:s,children:Object(v.jsx)(_e.a.Item,{name:"tracking_number",rules:[{required:!0,message:"Invalid Input",whitespace:!0,validateTrigger:"onSubmit",max:100}],children:Object(v.jsx)(ye.a,{id:t.po_number,placeholder:"Input Tracking Number"})})})}),Object(v.jsx)("td",{children:Object(v.jsx)(_e.a,{form:l,children:Object(v.jsx)(_e.a.Item,{name:"carrier",rules:[{required:!0,message:"Invalid Input",whitespace:!0,validateTrigger:"onSubmit",max:100}],children:Object(v.jsx)(ye.a,{id:t.po_number,placeholder:"Input Carrier of choice"})})})}),Object(v.jsx)("td",{children:Object(v.jsx)(we.a,{type:"primary",onClick:function(){var e=s.validateFields(),a=l.validateFields();Promise.all([e,a]).then((function(e){var a={tracking_number:e[0].tracking_number,carrier:e[1].carrier,po_number:t.po_number};r(Xe(a,n)).then((function(e){console.log(e)})).catch((function(e){console.log(e),401===e.response.status&&E(c)}))})).catch((function(e){console.log(e)}))},children:"Send"})})]}):Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("td",{children:Object(v.jsx)("strong",{children:null===t.tracking_number||null!==t.tracking_number&&0===t.tracking_number.length?Object(v.jsx)("em",{children:"Not Available"}):t.tracking_number})}),Object(v.jsx)("td",{children:null===t.carrier||null!==t.carrier&&0===t.carrier.length?Object(v.jsx)("em",{children:"Not Available"}):t.carrier}),Object(v.jsxs)("td",{children:["Details Sent ",Object(v.jsx)(mn.a,{style:{color:"green"}})]})]}),Object(v.jsx)("td",{children:Object(v.jsx)(we.a,{type:"secondary",onClick:function(){g.push("/order/".concat(t.po_number,"/").concat(t.status))},children:" View "})})]},t.po_number)})},pn=gt.a.Option,On=gt.a.OptGroup,xn=function(){var e=Object(m.c)(),t=F(),r=T(),c=Object(m.d)((function(e){return e.incompleteOrdersState.incompleteOrders})),a=Object(m.d)((function(e){return e.incompleteOrdersState.error})),s=Object(m.d)((function(e){return e.incompleteOrdersState.loading})),o=Object(n.useState)([]),l=Object(i.a)(o,2),d=l[0],j=l[1],u=Object(n.useState)(0),b=Object(i.a)(u,2),h=b[0],p=b[1],O=Math.ceil(d.length/10)-1,x=Object(v.jsx)(v.Fragment,{});Object(n.useEffect)((function(){c.length?j(c):e(Ze(r.access_token,t))}),[c.length,c,e,r.access_token,t]);return 0!==c.length&&(x=d.slice(10*h,10*(h+1)>d.length?d.length:10*(h+1)).map((function(n){var c={order:n,dispatch:e,access_token:r.access_token,updateAuth:t};return Object(v.jsx)(hn,Object(ve.a)({},c),n.po_number)}))),Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("div",{className:"page-title-holder fill",children:Object(v.jsx)("h2",{children:"Current Orders"})}),Object(v.jsxs)("div",{className:"container flex-horizontal-box-container",children:[Object(v.jsxs)(gt.a,{placeholder:"Order By",className:"box-item-xs-6 box-item-sm-4 box-item-md-4 box-item-lg-4 box-item-xl-3",onChange:function(e){!function(e,t,r){switch(e){case"d_decending":r(Object(vr.a)(t).sort((function(e,t){return new Date(t.issued_date)-new Date(e.issued_date)})));break;case"d_ascending":r(Object(vr.a)(t).sort((function(e,t){return new Date(e.issued_date)-new Date(t.issued_date)})));break;case"c_ascending":r(Object(vr.a)(t).sort((function(e,t){return e.c_email>t.c_email?1:t.c_email>e.c_email?-1:0})));break;case"c_decending":r(Object(vr.a)(t).sort((function(e,t){return e.c_email<t.c_email?1:t.c_email<e.c_email?-1:0})));break;case"cn_ascending":r(Object(vr.a)(t).sort((function(e,t){return e.carrier>t.carrier?1:t.carrier>e.carrier?-1:0})));break;case"cn_decending":r(Object(vr.a)(t).sort((function(e,t){return e.carrier<t.carrier?1:t.carrier<e.carrier?-1:0})));break;default:r(t)}}(e,d,j)},children:[Object(v.jsxs)(On,{label:"Data Issued",children:[Object(v.jsx)(pn,{value:"d_decending",children:"Latest"}),Object(v.jsx)(pn,{value:"d_ascending",children:"Earliest"})]}),Object(v.jsxs)(On,{label:"Customer Email",children:[Object(v.jsx)(pn,{value:"c_ascending",children:"A-Z"}),Object(v.jsx)(pn,{value:"c_decending",children:"Z-A"})]}),Object(v.jsxs)(On,{label:"Carrier Name",children:[Object(v.jsx)(pn,{value:"cn_ascending",children:"A-Z"}),Object(v.jsx)(pn,{value:"cn_decending",children:"Z-A"})]})]}),Object(v.jsx)(ye.a.Search,{id:"filter-box-customer-email",className:"box-item-xs-6 box-item-sm-4 box-item-md-4 box-item-lg-4 box-item-xl-3",allowClear:!0,placeholder:"Search Customer Email",enterButton:"Search",onSearch:function(e){""!==e&&S(d,e,j)}}),Object(v.jsx)(we.a,{className:"box-item-xs-3 box-item-sm-4 box-item-md-3 box-item-lg-2 box-item-xl-2",type:"secondary",onClick:function(){j(c),document.getElementById("filter-box-customer-email").value=""},children:"Reset Filters"})]}),Object(v.jsx)("div",{className:"container table-container",children:s?Object(v.jsx)("div",{style:{textAlign:"center"},children:Object(v.jsx)(De.a,{size:"large"})}):a?Object(v.jsx)("h1",{style:{textAlign:"center",color:"red"},children:" Could not load data, please try refreshing page "}):Object(v.jsxs)("table",{className:"box-shadow center-content",children:[Object(v.jsx)("thead",{children:Object(v.jsxs)("tr",{children:[Object(v.jsx)("th",{children:"PO Number"}),Object(v.jsx)("th",{children:"Customer Email"}),Object(v.jsx)("th",{children:"Status"}),Object(v.jsx)("th",{children:"Date Issued"}),Object(v.jsx)("th",{children:"Tracking Number"}),Object(v.jsx)("th",{children:"Carrier"}),Object(v.jsx)("th",{children:"Send Tracking Details"}),Object(v.jsx)("th",{children:"View Order"})]})}),Object(v.jsx)("tbody",{children:x})]})}),Object(v.jsx)(Le.a,{current:h+1,defaultCurrent:1,total:10*(O+1),onChange:function(e){p(e-1)},className:"text-center"})]})},gn=function(e,t,r){var n=e.filter((function(e){return e.c_email===t}));0!==n.length?r(n):f.a.warning({title:"Email not found",content:Object(v.jsx)("div",{children:Object(v.jsx)("p",{children:"Please check the spelling is correct"})}),onOk:function(){}})},fn=gt.a.Option,vn=gt.a.OptGroup,_n=function(){var e=Object(m.c)(),t=F(),r=T(),c=Object(m.d)((function(e){return e.completeOrdersState.completeOrders})),a=Object(m.d)((function(e){return e.completeOrdersState.error})),s=Object(m.d)((function(e){return e.completeOrdersState.loading})),o=Object(n.useState)(0),l=Object(i.a)(o,2),d=l[0],j=l[1],u=Object(n.useState)([]),b=Object(i.a)(u,2),h=b[0],p=b[1],O=Math.ceil(c.length/10)-1,x=Object(v.jsx)(v.Fragment,{});Object(n.useEffect)((function(){c.length?p(c):e(Ke(r.access_token,t))}),[c.length,c,e,r.access_token,t]);return 0!==h.length&&(x=h.slice(10*d,10*(d+1)>h.length?h.length:10*(d+1)).map((function(e){var t=new Date(e.issued_date),r="".concat(t.getDate(),"/").concat(t.getMonth(),"/").concat(t.getFullYear());return Object(v.jsxs)("tr",{children:[Object(v.jsx)("td",{children:e.po_number}),Object(v.jsx)("td",{children:e.c_email}),Object(v.jsx)("td",{children:r}),Object(v.jsx)("td",{children:Object(v.jsx)("strong",{children:null===e.tracking_number||null!==e.tracking_number&&0===e.tracking_number.length?Object(v.jsx)("em",{children:"Not Available"}):e.tracking_number})}),Object(v.jsx)("td",{children:null===e.carrier||null!==e.carrier&&0===e.carrier.length?Object(v.jsx)("em",{children:"Not Available"}):e.carrier}),Object(v.jsx)("td",{children:Object(v.jsx)(we.a,{type:"secondary",onClick:function(){g.push("/order/".concat(e.po_number,"/").concat(e.status))},children:" View "})})]},e.po_number)}))),Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("div",{className:"page-title-holder fill",children:Object(v.jsx)("h2",{children:"Processed Orders"})}),Object(v.jsxs)("div",{className:"container flex-horizontal-box-container",children:[Object(v.jsxs)(gt.a,{allowClear:!0,placeholder:"Order By",className:"box-item-xs-6 box-item-sm-4 box-item-md-4 box-item-lg-4 box-item-xl-3",onSelect:function(e){!function(e,t,r){switch(e){case"d_decending":r(Object(vr.a)(t).sort((function(e,t){return new Date(t.issued_date)-new Date(e.issued_date)})));break;case"d_ascending":r(Object(vr.a)(t).sort((function(e,t){return new Date(e.issued_date)-new Date(t.issued_date)})));break;case"c_ascending":r(Object(vr.a)(t).sort((function(e,t){return e.c_email>t.c_email?1:t.c_email>e.c_email?-1:0})));break;case"c_decending":r(Object(vr.a)(t).sort((function(e,t){return e.c_email<t.c_email?1:t.c_email<e.c_email?-1:0})));break;case"cn_ascending":r(Object(vr.a)(t).sort((function(e,t){return e.carrier>t.carrier?1:t.carrier>e.carrier?-1:0})));break;case"cn_decending":r(Object(vr.a)(t).sort((function(e,t){return e.carrier<t.carrier?1:t.carrier<e.carrier?-1:0})));break;default:r(t)}}(e,h,p)},children:[Object(v.jsxs)(vn,{label:"Data Issued",children:[Object(v.jsx)(fn,{value:"d_decending",children:"Latest"}),Object(v.jsx)(fn,{value:"d_ascending",children:"Earliest"})]}),Object(v.jsxs)(vn,{label:"Customer Email",children:[Object(v.jsx)(fn,{value:"c_ascending",children:"A-Z"}),Object(v.jsx)(fn,{value:"c_decending",children:"Z-A"})]}),Object(v.jsxs)(vn,{label:"Carrier Name",children:[Object(v.jsx)(fn,{value:"cn_ascending",children:"A-Z"}),Object(v.jsx)(fn,{value:"cn_decending",children:"Z-A"})]})]}),Object(v.jsx)(ye.a.Search,{id:"processed-orders-email-filter",className:"box-item-xs-6 box-item-sm-4 box-item-md-4 box-item-lg-4 box-item-xl-3",placeholder:"Search Customer Email",enterButton:"Search",onSearch:function(e){""!==e&&(gn(h,e,p),j(0))}}),Object(v.jsx)(we.a,{className:"box-item-xs-3 box-item-sm-4 box-item-md-3 box-item-lg-2 box-item-xl-2",type:"secondary",onClick:function(){p(c),document.getElementById("processed-orders-email-filter").value=""},children:"Reset Filters"})]}),Object(v.jsxs)("div",{className:"container table-container",children:[s?Object(v.jsx)("div",{style:{textAlign:"center"},children:Object(v.jsx)(De.a,{size:"large"})}):a?Object(v.jsx)("h1",{style:{textAlign:"center",color:"red"},children:" Could not load data, please try refreshing page "}):Object(v.jsxs)("table",{className:"box-shadow center-content",children:[Object(v.jsx)("thead",{children:Object(v.jsxs)("tr",{children:[Object(v.jsx)("th",{children:"PO Number"}),Object(v.jsx)("th",{children:"Customer Email"}),Object(v.jsx)("th",{children:"Date Issued"}),Object(v.jsx)("th",{children:"Tracking Number"}),Object(v.jsx)("th",{children:"Carrier"}),Object(v.jsx)("th",{children:"View Order"})]})}),Object(v.jsx)("tbody",{children:x})]}),Object(v.jsx)(Le.a,{current:d+1,defaultCurrent:1,total:10*(O+1),onChange:function(e){j(e-1)},className:"text-center"})]})]})},yn=(r(424),{labelCol:{span:8},wrapperCol:{span:16}}),wn={wrapperCol:{offset:8,span:16}},Sn=function(){f.a.error({title:"ERROR",content:"There was a problem posting company information. Please try again."})},Nn=function(e,t,r){var n={headers:{authorization:"Bearer ".concat(t)}};return q.a.post("/api/aboutus/edit-info",e,n).then((function(e){e.data.success?f.a.info({title:"Success",content:"Company information was edited successfully.",onOk:function(){g.push("/admin")}}):(console.log(e),Sn())})).catch((function(e){console.log(e),401===e.response.status?E(r):Sn()}))},An=function(){var e=_e.a.useForm(),t=Object(i.a)(e,1)[0],r=Object(n.useState)(null),c=Object(i.a)(r,2),a=c[0],s=c[1],o=Object(n.useState)(!0),l=Object(i.a)(o,2),d=l[0],j=l[1],u=F(),b=T();Object(n.useEffect)((function(){q.a.get("/api/aboutus/").then((function(e){s(e.data),function(e,t){t.setFieldsValue({c_number:e.c_number,c_address:e.c_address,c_email:e.c_email,c_TandC:e.c_TandC,c_about:e.c_about,c_delivery:e.c_delivery,c_blog:e.c_blog})}(e.data,t),j(!1)})).catch((function(e){console.log(e),f.a.error({title:"ERROR",content:"Could not load company information. Please try reloading the page."}),j(!1)}))}),[t]);return Object(v.jsxs)("div",{children:[Object(v.jsx)("h1",{className:"eci-text",children:"Edit Company Information"}),Object(v.jsx)("p",{className:"eci-text",children:"The input fields contain the current company information. Edit these fields if you wish to make changes."}),d?Object(v.jsxs)("div",{style:{textAlign:"center"},children:[Object(v.jsx)(De.a,{size:"large"}),Object(v.jsx)("h3",{style:{color:"#EB6E00"},children:"Data Loading"})]}):Object(v.jsxs)(_e.a,Object(ve.a)(Object(ve.a)({},yn),{},{form:t,onFinish:function(e){e.c_about="_",JSON.stringify(e)!==JSON.stringify(a)&&function(e,t,r){f.a.confirm({title:"Confirm",content:"Are you sure you want to edit the company information?",onOk:function(){return Nn(e,t,r)}})}(e,b.access_token,u)},onFinishFailed:function(e){console.log("Failed:",e)},style:{fontWeight:"bold"},validateTrigger:"onSubmit",children:[Object(v.jsx)(_e.a.Item,{label:"Company Number",name:"c_number",rules:[{whitespace:!0,required:!0,message:"Please provide data"}],children:Object(v.jsx)(ye.a,{style:{width:"500px"},maxLength:20})}),Object(v.jsx)(_e.a.Item,{label:"Company Address",name:"c_address",rules:[{whitespace:!0,required:!0,message:"Please provide data"}],children:Object(v.jsx)(ye.a,{style:{width:"500px"},maxLength:500})}),Object(v.jsx)(_e.a.Item,{label:"Company Email",name:"c_email",rules:[{whitespace:!0,required:!0,message:"Please provide data"}],children:Object(v.jsx)(ye.a,{style:{width:"500px"},maxLength:50})}),Object(v.jsx)(_e.a.Item,{label:"Terms and Conditions",name:"c_TandC",rules:[{whitespace:!0,required:!0,message:"Please provide data"}],children:Object(v.jsx)(ye.a.TextArea,{style:{width:"500px"},rows:6,maxLength:3e4})}),Object(v.jsx)(_e.a.Item,{label:"Delivery and Dispatch",name:"c_delivery",rules:[{whitespace:!0,required:!0,message:"Please provide data"}],children:Object(v.jsx)(ye.a.TextArea,{style:{width:"500px"},rows:6,maxLength:3e4})}),Object(v.jsx)(_e.a.Item,{label:"Company Blog",name:"c_blog",rules:[{whitespace:!0,required:!0,message:"Please provide data"}],children:Object(v.jsx)(ye.a.TextArea,{style:{width:"500px"},rows:6,maxLength:3e4})}),null!==a?Object(v.jsx)(_e.a.Item,Object(ve.a)(Object(ve.a)({},wn),{},{children:Object(v.jsx)(we.a,{type:"primary",htmlType:"submit",children:" Set Company Information "})})):Object(v.jsx)(v.Fragment,{})]}))]})},Cn=(r(425),function(e){var t=e.categories,r=e.productsList,c=e.dispatch,a=e.page,i=F(),s=T();return Object(n.useEffect)((function(){t.length||c(he())}),[t.length,c]),r.length?r.slice(10*a,10*(a+1)>r.length?r.length:10*(a+1)).map((function(e,r){return Object(v.jsxs)("tr",{className:"manage-products-table-row",children:[Object(v.jsx)("td",{children:e.p_name}),Object(v.jsx)("td",{children:e.p_code}),Object(v.jsxs)("td",{children:["$",e.p_price]}),Object(v.jsx)("td",{children:e.p_unit}),Object(v.jsx)("td",{children:_(e.p_categories,t)}),Object(v.jsxs)("td",{children:[Object(v.jsx)(Ye.a,{props:e.p_code,className:"manage-products-icon",onClick:function(){g.push("/editAddProducts/".concat(e.p_code))}}),Object(v.jsx)(Je.a,{className:"manage-products-icon",onClick:function(){et(e.p_code,c,s.access_token,i)},style:{paddingLeft:"15px"}})]})]},e._id)})):[]}),kn=gt.a.Option,En=gt.a.OptGroup,Pn=function(){var e=Object(m.c)(),t=Object(m.d)((function(e){return e.productState.products})),r=Object(m.d)((function(e){return e.productState.error})),c=Object(m.d)((function(e){return e.productState.isLoading})),a=Object(m.d)((function(e){return e.categoryState.categories})),s=Object(n.useState)(null),o=Object(i.a)(s,2),l=o[0],d=o[1],j=Object(n.useState)(null),u=Object(i.a)(j,2),b=u[0],h=u[1],p=Object(n.useState)(0),O=Object(i.a)(p,2),x=O[0],f=O[1],_=Object(vr.a)(t);null!==l&&"default"!==l&&(_=function(e,t){return e.filter((function(e){return e.p_categories===t}))}(_,l)),null!==b&&(_=function(e,t){switch(t){case"p_decending":return e.sort((function(e,t){return Number(e.p_price)<Number(t.p_price)?1:Number(t.p_price)<Number(e.p_price)?-1:0}));case"p_ascending":return e.sort((function(e,t){return Number(e.p_price)>Number(t.p_price)?1:Number(t.p_price)>Number(e.p_price)?-1:0}));case"n_ascending":return e.sort((function(e,t){return e.p_name>t.p_name?1:t.p_name>e.p_name?-1:0}));case"n_decending":return e.sort((function(e,t){return e.p_name<t.p_name?1:t.p_name<e.p_name?-1:0}));case"i_ascending":return e.sort((function(e,t){return e.p_code>t.p_code?1:t.p_code>e.p_code?-1:0}));case"i_decending":return e.sort((function(e,t){return e.p_code<t.p_code?1:t.p_code<e.p_code?-1:0}));default:return}}(_,b));var y=Math.ceil(_.length/10)-1,w={productsList:_,page:x,dispatch:e,categories:a};Object(n.useEffect)((function(){t.length?e(Te()):e(Pe())}),[t.length,e]);var S=Object(v.jsx)(v.Fragment,{});return 0!==a.length&&(S=a.map((function(e){return Object(v.jsx)(kn,{value:e._id,children:e.c_name},e._id)}))),Object(v.jsxs)("div",{children:[Object(v.jsx)("div",{id:"manage-products-header",children:"Manage Products"}),Object(v.jsx)("div",{children:Object(v.jsx)("table",{id:"manage-products-select-table",className:"center-content",children:Object(v.jsx)("tbody",{children:Object(v.jsxs)("tr",{children:[Object(v.jsx)("td",{children:Object(v.jsx)("div",{style:{fontSize:"30px",fontWeight:"bold"},children:"Products"})}),Object(v.jsx)("td",{children:Object(v.jsxs)(gt.a,{placeholder:"Filter by",style:{width:"300px"},onChange:function(e){d(e),f(0)},children:[Object(v.jsx)(kn,{value:"default",children:"Remove Filter"},"default"),Object(v.jsx)(En,{label:"Category",children:S})]})}),Object(v.jsx)("td",{children:Object(v.jsxs)(gt.a,{placeholder:"Order By",style:{width:"300px"},onChange:function(e){return h(e)},children:[Object(v.jsxs)(En,{label:"Price",children:[Object(v.jsx)(kn,{value:"p_decending",children:"high to low"}),Object(v.jsx)(kn,{value:"p_ascending",children:"low to high"})]}),Object(v.jsxs)(En,{label:"Name",children:[Object(v.jsx)(kn,{value:"n_ascending",children:"A-Z"}),Object(v.jsx)(kn,{value:"n_decending",children:"Z-A"})]}),Object(v.jsxs)(En,{label:"Item Code",children:[Object(v.jsx)(kn,{value:"i_ascending",children:"A-Z"}),Object(v.jsx)(kn,{value:"i_decending",children:"Z-A"})]})]})})]})})})}),r?Object(v.jsx)("h1",{style:{textAlign:"center",color:"red"},children:"Could not load data, please try again"}):Object(v.jsx)(v.Fragment,{}),c?Object(v.jsx)("div",{style:{textAlign:"center"},children:Object(v.jsx)(De.a,{size:"large"})}):Object(v.jsx)(v.Fragment,{}),Object(v.jsx)("div",{style:{height:"500px",display:"table"},children:Object(v.jsx)("table",{style:{width:"100%",textAlign:"center",tableLayout:"fixed"},children:Object(v.jsxs)("tbody",{children:[Object(v.jsxs)("tr",{style:{border:"solid black 1px"},children:[Object(v.jsx)("th",{children:"Product Name"}),Object(v.jsx)("th",{children:"Product Code"}),Object(v.jsx)("th",{children:"Price"}),Object(v.jsx)("th",{children:"Unit"}),Object(v.jsx)("th",{children:"Category"}),Object(v.jsx)("th",{className:"manage-products-icon",style:{fontSize:"30px"},onClick:function(){g.push("/editAddProducts")},children:"+"})]}),Object(v.jsx)(Cn,Object(ve.a)({},w))]})})}),Object(v.jsx)("div",{style:{textAlign:"center"},children:Object(v.jsx)(Le.a,{current:x+1,total:10*(y+1),onChange:function(e){f(e-1)}})})]})},In=r(430),Tn=(r(426),"EDIT"),Fn="ADD",Dn=function(e,t,r,n,c,a){f.a.confirm({title:"Image Preview",icon:null,content:Object(v.jsx)("img",{alt:"example",style:{width:"100%"},src:e}),okText:"Keep Image",cancelText:"Delete Image",onOk:function(){},onCancel:function(){Qn(t,r,n,c,a)}})},Ln=function(e){f.a.info({title:"Edit Successful",content:"Successfully edited product: ".concat(e),okText:"Ok",onOk:function(){g.push("/admin")}})},Rn=function(e){f.a.info({title:"Add Successful",content:"Successfully added product: ".concat(e),okText:"Ok",onOk:function(){g.push("/admin")}})},qn=function(e){f.a.info({title:"ERROR",content:"There was a problem editing product: ".concat(e,". Please try again or contact support."),okText:"Ok",onOk:function(){g.push("/admin")}})},zn=function(e){f.a.info({title:"ERROR",content:"There was a problem adding product: ".concat(e,". Please make sure the item code is not taken."),okText:"Ok"})},Bn=function(e){f.a.info({title:"ERROR",content:"There was a problem adding product: ".concat(e,". Please try again or contact support."),okText:"Ok",onOk:function(){g.push("/admin")}})},Vn=function(e,t,r,n,c){var a={headers:{authorization:"Bearer ".concat(r),"content-type":"multipart/form-data"}};f.a.confirm({title:"Editing product: ".concat(e.p_code),content:"Are you sure you want to make these edits?",onOk:function(){return void 0!==c?c(function(e,t,r){return function(n){var c={headers:{authorization:"Bearer ".concat(r)}};return q.a.post("api/products/edit-product",t,c).then((function(t){return t.data.success&&n({type:M,payload:e}),t}))}}(e,t,r)).then((function(t){t.data.success?Ln(e.p_code):(console.log("Error",t),qn(e.p_code))})).catch((function(t){console.log("Error",t),401===t.response.status?E(n):qn(e.p_code)})):Mn(t,a).then((function(t){t.data.success?Ln(e.p_code):(console.log(t),qn(e.p_code))})).catch((function(t){console.log(t),401===t.response.status?E(n):qn(e.p_code)}))},onCancel:function(){}})},Un=function(e,t,r,n,c){var a={headers:{authorization:"Bearer ".concat(r)}};f.a.confirm({title:"Adding product: ".concat(e.p_code),content:"Are you sure you want to add this product?",onOk:function(){return void 0!==c?c(function(e,t,r){return function(n){var c={headers:{authorization:"Bearer ".concat(r)}};return q.a.post("api/products/add-product",e,c).then((function(e){return e.data.success&&n({type:G,payload:t}),e}))}}(t,e,r)).then((function(t){t.data.success?Rn(e.p_code):(console.log("Error",t),zn(e.p_code))})).catch((function(t){console.log("Error",t),401===t.response.status?E(n):Bn(e.p_code)})):Gn(t,a).then((function(t){t.data.success?Rn(e.p_code):(console.log("Error",t),zn(e.p_code))})).catch((function(t){console.log("Error",t),401===t.response.status?E(n):Bn(e.p_code)}))},onCancel:function(){}})},Wn=r(230),Mn=function(e,t){return q.a.post("/api/products/edit-product",e,t)},Gn=function(e,t){return q.a.post("api/products/add-product",e,t)},Jn=function(){var e=Object(mt.a)(bt.a.mark((function e(t,r,n,c,a){var i;return bt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=t.url){e.next=8;break}return e.next=4,new Promise((function(e){var r=new FileReader;r.readAsDataURL(t.originFileObj),r.onload=function(){return e(r.result)}}));case 4:i=e.sent,Dn(i,t,r,n),e.next=9;break;case 8:Dn(i,t,r,n,c,a);case 9:case"end":return e.stop()}}),e)})));return function(t,r,n,c,a){return e.apply(this,arguments)}}(),Yn=function(e,t){var r="image/jpeg"===e.type||"image/png"===e.type;r||Wn.b.error("You can only upload JPG/PNG file!");var n=e.size/1024/1024<2;return n||Wn.b.error("Image must smaller than 2MB!"),r&&n||(e=null,t.pop()),!1},Qn=function(e,t,r,n,c){var a=t.indexOf(e),i=t.slice();if(i.splice(a,1),r(i),e.uid.startsWith("EST")){var s=n.p_image_uri.slice(),o=n;s.splice(a,1),o.p_image_uri=s,c(o)}},Zn=gt.a.Option,Hn=gt.a.OptGroup,Xn=function(){var e=Object(fe.g)().p_code,t=Object(m.c)(),r=F(),c=T(),a=Object(m.d)((function(e){return e.productState.products})),s=Object(m.d)((function(e){return e.categoryState.categories})),o=Object(m.d)((function(e){return e.categoryState.empty})),l=Object(n.useState)([]),d=Object(i.a)(l,2),j=d[0],u=d[1],b=Object(n.useState)([]),h=Object(i.a)(b,2),p=h[0],O=h[1],x=Object(n.useState)(null),f=Object(i.a)(x,2),_=f[0],y=f[1],w=Object(n.useState)(null),S=Object(i.a)(w,2),A=S[0],C=S[1],k=Object(n.useState)([]),E=Object(i.a)(k,2),P=E[0],I=E[1],D=Object(n.useState)(0),L=Object(i.a)(D,2),R=L[0],z=L[1],B=Object(n.useState)(!0),V=Object(i.a)(B,2),U=V[0],W=V[1],M=Object(n.useState)([]),G=Object(i.a)(M,2),J=G[0],Y=G[1],Q=_e.a.useForm(),Z=Object(i.a)(Q,1)[0];Object(n.useEffect)((function(){if(e)if(0!==a.length){var r=function(e,t){return t.find((function(t){return t.p_code===e}))}(e,a);(function(e){for(var t=0;t<e.length;t++)if(e[t].includes("blob"))return!0;return!1})(r.p_image_uri)&&U&&window.location.reload(),void 0!==r?(C(r),y(Tn)):(g.push("/editAddProducts"),window.location.reload())}else!function(e,t,r){q.a.post("/api/products/product-by-id",{p_code:e}).then((function(n){n.data.p_code===e?(t(n.data),r(Tn)):(g.push("/editAddProducts"),window.location.reload())})).catch((function(e){console.log(e),g.push("/editAddProducts"),window.location.reload()}))}(e,C,y);else y(Fn);if(s.length||o){if(!j.length){var n=s.filter((function(e){return null===e.path}));u(n)}if(!p.length){var c=s.filter((function(e){return null!==e.path}));O(c)}}else t(he())}),[s.length,t,e,a,s,p.length,o,j.length,U]),Object(n.useEffect)((function(){_===Tn&&U&&(function(e,t){e.setFieldsValue({p_name:t.p_name,p_code:t.p_code,p_units_sold:"",p_price:t.p_price.toString(),p_categories:t.p_categories,p_description:t.p_description,p_unit:t.p_unit,p_image_uri:[]})}(Z,A),z(A.p_image_uri.length),Y(A.p_size),function(e,t){var r=[];e.forEach((function(e,t){r.push({uid:"EST_".concat(t),name:"image_".concat(t),status:"done",url:e})})),t(r)}(A.p_image_uri,I))}),[s,A,Z,_,U]);var H=j.map((function(e){var t=p.filter((function(t){return t.path===",".concat(e.c_name,",")})).map((function(e){return Object(v.jsx)(Zn,{value:e._id,children:e.c_name},e._id)}));return Object(v.jsx)(Hn,{label:e.c_name,children:t},e._id)})),X=J.map((function(e,t){return Object(v.jsxs)("div",{children:[Object(v.jsx)("span",{children:e}),Object(v.jsx)(we.a,{type:"text",danger:!0,onClick:function(){!function(e,t,r){var n=Object(vr.a)(t),c=n.indexOf(e);-1!==c&&n.splice(c,1),r(n)}(e,J,Y)},children:"x"})]},t)}));return Object(v.jsxs)("div",{children:[_===Tn?Object(v.jsxs)("h1",{id:"ae-product-header-title",children:["Editing Product: ",A.p_code]}):Object(v.jsx)(v.Fragment,{}),_===Fn?Object(v.jsx)("h1",{id:"ae-product-header-title",children:"Add Product"}):Object(v.jsx)(v.Fragment,{}),Object(v.jsx)(_e.a,{encType:"multipart/form-data",form:Z,onFinish:function(e){if(e.p_size=J,_===Tn){e.p_code=A.p_code,e.p_image_uri=A.p_image_uri;var n=0,i=function(e,t,r){var n=new FormData;return n.append("p_name",e.p_name),n.append("p_code",e.p_code),n.append("p_units_sold",e.p_units_sold),n.append("p_price",e.p_price),n.append("p_categories",e.p_categories),n.append("p_description",e.p_description),n.append("p_unit",e.p_unit),e.p_size.forEach((function(e){n.append("p_size[]",e)})),t.p_image_uri<=0?n.append("p_image_uri",[]):Object(vr.a)(t.p_image_uri).forEach((function(e){n.append("p_image_uri",e)})),Object(vr.a)(r).forEach((function(t){t.uid.startsWith("EST")||(n.append("image",t.originFileObj),e.p_image_uri.push(URL.createObjectURL(t.originFileObj)))})),n}(e,A,P);Object(vr.a)(P).forEach((function(e){e.uid.startsWith("EST")||n++})),o=A,l=n,d=R,((s=e).p_code!==o.p_code||s.p_categories!==o.p_categories||s.p_name!==o.p_name||s.p_description!==o.p_description||JSON.stringify(s.p_image_uri)!==JSON.stringify(o.p_image_uri)||s.p_price!==o.p_price.toString()||s.p_image_uri.length+l!==o.p_image_uri.length||s.p_image_uri.length!==d||s.p_unit!==o.p_unit||JSON.stringify(s.p_size)!==JSON.stringify(o.p_size))&&(W(!1),0!==a.length?Vn(e,i,c.access_token,r,t):Vn(e,i,c.access_token,r))}var s,o,l,d;if(_===Fn){W(!1);for(var j=function(e,t){var r=new FormData;return e.p_size.forEach((function(e){r.append("p_size[]",e)})),Object(vr.a)(t).forEach((function(e){r.append("images",e.originFileObj)})),r.append("p_name",e.p_name),r.append("p_code",e.p_code),r.append("p_units_sold",e.p_units_sold),r.append("p_price",e.p_price),r.append("p_categories",e.p_categories),r.append("p_description",e.p_description),r.append("p_unit",e.p_unit),r}(e,P),u=0;u<P.length;u++)e.p_image_uri[u]=URL.createObjectURL(P[u].originFileObj);0!==a.length?Un(e,j,c.access_token,r,t):Un(e,j,c.access_token,r)}},onFinishFailed:function(e){return console.log(e)},children:Object(v.jsxs)("div",{id:"ae-product-form-wrapper",children:[Object(v.jsxs)("div",{className:"ae-product-form",children:[Object(v.jsxs)("div",{className:"ae-product-input",children:[Object(v.jsxs)("div",{children:[Object(v.jsx)("i",{style:{color:"red"},children:"*"})," Product Name"]}),Object(v.jsx)(_e.a.Item,{name:"p_name",rules:[{required:!0,message:"Please input the name of the product",validateTrigger:"onSubmit",whitespace:!0}],children:Object(v.jsx)(ye.a,{style:{width:"500px"}})})]}),_===Fn?Object(v.jsxs)("div",{children:[Object(v.jsxs)("div",{children:[Object(v.jsx)("i",{style:{color:"red"},children:"*"})," Product Code"]}),Object(v.jsx)(_e.a.Item,{name:"p_code",rules:[{required:!0,message:"Please input the product code",whitespace:!0,validateTrigger:"onSubmit"}],children:Object(v.jsx)(ye.a,{onChange:function(e){!function(e,t,r){var n=e.target.value,c={};""===n||/^[a-z0-9A-Z]+$/.test(n)?c[r]=n:c[r]=N(n),t.setFieldsValue(c)}(e,Z,"p_code")},style:{width:"500px"}})})]}):Object(v.jsx)(v.Fragment,{}),Object(v.jsxs)("div",{children:[Object(v.jsx)("i",{style:{color:"red"},children:"*"})," Units per item",Object(v.jsx)(_e.a.Item,{name:"p_unit",rules:[{required:!0,message:"Please add value to this field",validateTrigger:"onSubmit",whitespace:!0},{validator:function(){var e=Object(mt.a)(bt.a.mark((function e(t,r){return bt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(/^\d+?\s\w+?\/\w+$/.test(r)||""===r||void 0===r){e.next=3;break}return e.abrupt("return",Promise.reject(new Error("Please user the correct formatting")));case 3:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),validateTrigger:"onSubmit"}],children:Object(v.jsx)(ye.a,{placeholder:"Valid input e.g., 10 items/box, 20 bags/container",maxLength:30})})]}),Object(v.jsxs)("div",{style:{width:"500px",paddingTop:"4%"},children:[Object(v.jsx)(_e.a.Item,{name:"p_image_uri",getValueFromEvent:function(e){return e.fileList},rules:[{validateTrigger:"onSubmit",validator:function(){var e=Object(mt.a)(bt.a.mark((function e(t){return bt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(P.length<=0)){e.next=2;break}return e.abrupt("return",Promise.reject(new Error("You must have at least one image uploaded")));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}],children:Object(v.jsx)(In.a,{fileList:P,listType:"picture-card",onPreview:function(e){Jn(e,P,I,A,C)},onChange:function(e){I(Object(vr.a)(e.fileList))},beforeUpload:Yn,onRemove:function(e){Qn(e,P,I,A,C)},children:P.length<6&&"+ Drag image or click"})}),Object(v.jsxs)("div",{children:[Object(v.jsx)("i",{style:{color:"red"},children:"*"})," Size Options"]}),Object(v.jsx)(_e.a.Item,{name:"p_size",rules:[{validator:function(){var e=Object(mt.a)(bt.a.mark((function e(t){return bt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(J.length<=0)){e.next=2;break}return e.abrupt("return",Promise.reject(new Error("Must have at least 1 size option")));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),validateTrigger:"onSubmit",message:"Please input at least 1 size option"}],children:Object(v.jsx)(ye.a,{id:"size-option-input",placeholder:"Enter size options for this product",style:{width:"500px"}})}),Object(v.jsx)(we.a,{onClick:function(){!function(e,t){var r=document.getElementById("size-option-input").value;""!==r&&t([].concat(Object(vr.a)(e),[r]))}(J,Y)},children:"Add"}),Object(v.jsx)("div",{style:{textAlign:"left",paddingTop:"2%"},children:X})]})]}),Object(v.jsxs)("div",{className:"ae-product-form",children:[Object(v.jsxs)("div",{className:"ae-product-input",children:[Object(v.jsxs)("div",{children:[Object(v.jsx)("i",{style:{color:"red"},children:"*"})," Unit Price"]}),Object(v.jsx)(_e.a.Item,{name:"p_price",rules:[{required:!0,message:"Please input the price of the product",validateTrigger:"onSubmit",whitespace:!0},{validator:function(){var e=Object(mt.a)(bt.a.mark((function e(t,r){return bt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!isNaN(r)){e.next=2;break}return e.abrupt("return",Promise.reject(new Error("Please only write numbers to the second decimal place")));case 2:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()}],children:Object(v.jsx)(ye.a,{maxLength:6,onChange:function(e){!function(e,t){var r=/^(\d+(\.\d{0,2})?|\.?\d{1,2})$/,n=e.target.value;""===n||r.test(n)?t.setFieldsValue({p_price:n}):(n=n.substring(0,n.length-1),r.test(n)?t.setFieldsValue({p_price:n}):t.setFieldsValue({p_price:""}))}(e,Z)}})})]}),Object(v.jsxs)("div",{children:[Object(v.jsxs)("div",{children:[Object(v.jsx)("i",{style:{color:"red"},children:"*"})," Category"]}),Object(v.jsx)(_e.a.Item,{name:"p_categories",rules:[{required:!0,message:"Please input the product category",validateTrigger:"onSubmit"}],children:Object(v.jsx)(gt.a,{placeholder:"Select a category",children:H})})]}),Object(v.jsxs)("div",{children:[" Product Description",Object(v.jsx)(_e.a.Item,{name:"p_description",rules:[{whitespace:!0,message:"No white spaces",validateTrigger:"onSubmit"}],children:Object(v.jsx)(ye.a.TextArea,{style:{width:"500px",height:"125px"}})})]}),Object(v.jsx)(_e.a.Item,{children:Object(v.jsx)(we.a,{type:"primary",htmlType:"submit",children:Object(v.jsxs)("b",{children:[_===Tn?Object(v.jsx)(v.Fragment,{children:"Edit "}):Object(v.jsx)(v.Fragment,{}),_===Fn?Object(v.jsx)(v.Fragment,{children:"Add "}):Object(v.jsx)(v.Fragment,{}),"Product"]})})})]})]})})]})},Kn=r(438),$n=function(e,t,r,n){f.a.confirm({title:"Adding parent category",content:"Are you sure you want to add a category with name: [".concat(e.categoryName,"] to the database?"),onOk:function(){return function(e,t,r,n){var c={headers:{authorization:"Bearer ".concat(r)}},a={path:"root"===e.categoryParentPath?null:e.categoryParentPath,c_name:e.categoryName,c_description:e.categoryDescription};return q.a.post("api/categories/add-category",a,c).then((function(e){e.data.success?rc('Added parent category "'.concat(a.c_name,'" successfully.')):(console.error("Sorry but the following error occured when adding new category["+a.c_name+"]: "),console.error(e),t.setFields([{name:"categoryName",errors:["Category name already taken!"]}]))})).catch((function(e){console.error(e),401===e.response.status?E(n):tc()}))}(e,t,r,n)}})},ec=function(e,t,r){f.a.confirm({title:"WARNING! Deleting category ["+e.categoryToDelete+"]!",content:"Are you sure you want to delete the category with name: [".concat(e.categoryToDelete,"]? Deleting this category will also delete its sub-categories and any products that falls under these sub-categories. This action cannot be reversed!"),okType:"danger",onOk:function(){return function(e,t,r){var n={headers:{authorization:"Bearer ".concat(t)}};return q.a.delete("api/categories/?c_name="+encodeURI(e),n).then((function(t){t.data.success?rc("Deleted category [".concat(e,"] from the database!")):(console.error("Sorry but the following error occured when deleting the category["+e+"]: "),console.error(t),tc())})).catch((function(e){console.error(e),401===e.response.status?E(r):tc()}))}(e.categoryToDelete,t,r)}})},tc=function(){f.a.error({title:"Something went wrong!",content:"Try refreshing page or contact support!"})},rc=function(e){f.a.info({title:"Success!",content:Object(v.jsx)("p",{children:e}),onOk:function(){window.location.reload()}})},nc=ye.a.TextArea,cc={labelCol:{span:8},wrapperCol:{span:12}},ac={wrapperCol:{span:20}},ic={routes:[{component:xt,url:"/editCustomer",roles:[O],exact:!1},{component:$r,url:"/manageOrders",roles:[O],exact:!1},{component:hr,url:"/emailRequest",roles:[h],exact:!1},{component:fr,url:"/user/reset-password-email/token/:token/email/:email",roles:[h],exact:!1},{component:function(){var e=Object(Se.useForm)(),t=Object(i.a)(e,1)[0],r=Object(n.useState)(!1),c=Object(i.a)(r,2),a=c[0],s=c[1],o=Object(n.useState)(!1),l=Object(i.a)(o,2),d=l[0],j=l[1];return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("div",{className:"page-title-holder with-divider center-page",children:Object(v.jsx)("h2",{children:"Sign Up"})}),Object(v.jsxs)(_e.a,Object(ve.a)(Object(ve.a)({className:"container"},cc),{},{form:t,onFinish:function(e){console.log(e),s(!0),q.a.post("api/auth/sign_up",e).then((function(){var t;s(!1),t=e.first_name,f.a.success({title:"Signup Success!",content:Object(v.jsx)("div",{children:"Welcome to SuperFin ".concat(t,"! You will now be directed to the login screen.")}),okText:"Okay",onOk:function(){g.push("/login")}})})).catch((function(e){console.log(e),s(!1),f.a.confirm({title:"Email taken!",content:Object(v.jsx)("div",{children:"This email is already in our system. Please either login or use a different email addresss"}),okText:"Login",cancelText:"Use another email",onOk:function(){g.push("/login")}})}))},onFinishFailed:function(e){return console.log(e)},children:[Object(v.jsx)(_e.a.Item,{label:"First Name",name:"first_name",style:{color:"#0E5F76"},rules:[{required:!0,message:"Please input your first name!",whitespace:!0}],children:Object(v.jsx)(ye.a,{maxLength:30})}),Object(v.jsx)(_e.a.Item,{label:"Last Name",name:"last_name",style:{color:"#0E5F76"},rules:[{required:!0,message:"Please input your last name!",whitespace:!0}],children:Object(v.jsx)(ye.a,{maxLength:30})}),Object(v.jsx)(_e.a.Item,{label:"Email",name:"email",style:{color:"#0E5F76"},validateTrigger:["onBlur"],rules:[{required:!0,type:"email",message:"Please input a valid email!",whitespace:!0}],children:Object(v.jsx)(ye.a,{maxLength:30})}),Object(v.jsx)(_e.a.Item,{label:"Phone",name:"mobile",style:{color:"#0E5F76"},validateTrigger:["onBlur"],rules:[{validator:function(){var e=Object(mt.a)(bt.a.mark((function e(t,r){return bt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(void 0!==r&&""!==r&&r.length<10)){e.next=2;break}return e.abrupt("return",Promise.reject(new Error("Phone number must be valid!")));case 2:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()},{required:!0,message:"Please input a valid phone number!",whitespace:!0}],children:Object(v.jsx)(ye.a,{onChange:function(e){y(e,t,"phone")},maxLength:10})}),Object(v.jsx)(pr.a,{visible:d,title:"Password must contain at least 8 characters, a special character, a number and an uppercase letter",children:Object(v.jsx)(_e.a.Item,{label:"Password",name:"password",style:{color:"#0E5F76"},rules:[{required:!0,message:"Please input your password!",whitespace:!0},{validator:function(){var e=Object(mt.a)(bt.a.mark((function e(t,r){return bt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===r||""===r||k(r)){e.next=3;break}return j(!0),e.abrupt("return",Promise.reject(new Error("Password not strong enough")));case 3:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),validateTrigger:"onSubmit"}],children:Object(v.jsx)(ye.a.Password,{onFocus:function(){j(!1)},maxLength:50})})}),Object(v.jsx)(_e.a.Item,{label:"Confirm Password",name:"passwordConfirm",style:{color:"#0E5F76"},rules:[{required:!0,message:"Please confirm your password!"},function(e){var t=e.getFieldValue;return{validator:function(e,r){return r&&t("password")!==r?Promise.reject(new Error("The two passwords that you entered do not match!")):Promise.resolve()},validateTrigger:"onSubmit"}}],children:Object(v.jsx)(ye.a.Password,{maxLength:30})}),Object(v.jsx)(_e.a.Item,Object(ve.a)(Object(ve.a)({},ac),{},{children:Object(v.jsx)(we.a,{style:{float:"right"},loading:a,type:"primary",htmlType:"submit",children:"Sign up"})})),Object(v.jsx)(_e.a.Item,Object(ve.a)(Object(ve.a)({},ac),{},{children:Object(v.jsxs)("span",{style:{float:"right"},children:["Already had an account ? \xa0 ",Object(v.jsx)(we.a,{type:"link",onClick:function(){return g.push("/login")},children:"Login"})]})}))]}))]})},url:"/signup",roles:[h],exact:!1},{component:function(){return Object(v.jsxs)("div",{className:"homepage-product-list-outer-container-0",children:[Object(v.jsx)(Ue,{}),Object(v.jsx)("h3",{children:"SHOWN BY CATEGORY"}),Object(v.jsx)("div",{id:"homepage-product-list-outer-container-1",children:Object(v.jsx)(Re,{})})]})},url:"/",roles:[O,h],exact:!0},{component:Ft,url:"/products",roles:[O,h],exact:!0},{component:Ft,url:"/products/:category",roles:[O,h],exact:!1},{component:er,url:"/productDetails",roles:[O,h],exact:!1},{component:rr,url:"/deliveryDispatch",roles:[O,h],exact:!1},{component:lr,url:"/contactUs",roles:[O,h],exact:!1},{component:dr,url:"/termsConditions",roles:[O,h],exact:!1},{component:jr,url:"/blog",roles:[O,h],exact:!1},{component:Er,url:"/cart",roles:[O,h],exact:!1},{component:Lr,url:"/checkoutShipping",roles:[O,h],exact:!1},{component:Br,url:"/checkoutSecurePayment",roles:[O,h],exact:!1},{component:Ur,url:"/checkoutReviewOrder",roles:[O,h],exact:!1},{component:Jr,url:"/checkoutOrderComplete",roles:[O,h],exact:!1},{component:Qr,url:"/paymentCancelled",roles:[O,h],exact:!1},{component:Qr,url:"/paymentCancelled",roles:[O,h],exact:!1},{component:jt,url:"/admin",roles:[p],exact:!1},{component:bn,url:"/order",roles:[p],exact:!0},{component:bn,url:"/order/:po_number",roles:[p],exact:!0},{component:bn,url:"/order/:po_number/:status",roles:[p],exact:!1},{component:xn,url:"/currentOrders",roles:[p],exact:!1},{component:_n,url:"/processedOrders",roles:[p],exact:!1},{component:An,url:"/editCompanyInformation",roles:[p],exact:!1},{component:Pn,url:"/manageProducts",roles:[p],exact:!1},{component:Xn,url:"/editAddProducts",roles:[p],exact:!0},{component:Xn,url:"/editAddProducts/:p_code",roles:[p],exact:!1},{component:function(){var e=Object(m.c)(),t=Object(m.d)((function(e){return e.categoryState.categories})),r=_e.a.useForm(),c=Object(i.a)(r,1)[0],a=_e.a.useForm(),s=Object(i.a)(a,1)[0],o=F(),l=T(),d=function(e){return null===e?(console.error("Invalid selection for parent node"),null):null===e.path?","+e.c_name+",":"root"===e.value?null:e.path+e.c_name+","};return Object(n.useEffect)((function(){t.length||e(he())}),[t.length,e,t]),Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("div",{className:"page-title-holder fill",children:Object(v.jsx)("h2",{children:"Manage Categories"})}),Object(v.jsxs)("div",{className:"container flex-horizontal-box-container",children:[Object(v.jsxs)("div",{className:"box-item-xs-12 box-item-sm-12 box-item-md-6 box-item-lg-6 box-item-xl-4 box-shadow",id:"manage-categories-current-panel",children:[Object(v.jsx)("h3",{children:"Current Categories"}),Object(v.jsx)(Kn.a,{treeData:It(t,!1),selectable:!1})]}),Object(v.jsxs)("div",{className:"box-item-xs-12 box-item-sm-12 box-item-md-6 box-item-lg-6 box-item-xl-4 box-shadow",id:"manage-categories-add-category-panel",children:[Object(v.jsx)("h3",{children:"Add Category"}),Object(v.jsxs)(_e.a,{form:c,onFinish:function(e){$n(e,c,l.access_token,o)},initialValues:{categoryParentPath:"root"},children:[Object(v.jsx)("label",{htmlFor:"categoryParentPath",children:"Select parent category"}),Object(v.jsx)(_e.a.Item,{name:"categoryParentPath",rules:[{required:!0,message:"Please select a parent category!"}],children:Object(v.jsx)(ft.a,{treeData:[{title:"<No Parent> Root",value:"root",children:It(t,!1)}],treeDefaultExpandAll:!0,placeholder:"<No Parent> Root",onSelect:function(e,t,r){c.setFieldsValue({categoryParentPath:d(t)})}})}),Object(v.jsx)("label",{htmlFor:"categoryName",children:"Enter category name"}),Object(v.jsx)(_e.a.Item,{name:"categoryName",rules:[{required:!0,message:"Please input the new category's name!"}],children:Object(v.jsx)(ye.a,{maxLength:30,placeholder:"Type new category name here"})}),Object(v.jsx)("label",{htmlFor:"categoryDescription",children:"Enter category description"}),Object(v.jsx)(_e.a.Item,{name:"categoryDescription",rules:[{required:!0,message:"Please input the new category's description!"}],children:Object(v.jsx)(nc,{rows:4,placeholder:"Type new category description here",style:{resize:"none"}})}),Object(v.jsx)(_e.a.Item,{children:Object(v.jsxs)("div",{children:[Object(v.jsx)(we.a,{type:"primary",htmlType:"submit",children:"Add Category"}),"\u2002",Object(v.jsx)(we.a,{type:"secondary",onClick:function(e){c.setFieldsValue({categoryParentPath:"root",categoryName:void 0,categoryDescription:void 0})},children:"Clear Details"})]})})]})]}),Object(v.jsxs)("div",{className:"box-item-xs-12 box-item-sm-12 box-item-md-12 box-item-lg-12 box-item-xl-4 box-shadow",id:"manage-categories-delete-category-panel",children:[Object(v.jsx)("h3",{children:"Delete Category"}),Object(v.jsxs)(_e.a,{form:s,onFinish:function(e){ec(e,l.access_token,o)},children:[Object(v.jsx)("label",{htmlFor:"categoryToDelete",children:"Select category to delete"}),Object(v.jsx)(_e.a.Item,{name:"categoryToDelete",rules:[{required:!0,message:"Please select a category!"}],children:Object(v.jsx)(ft.a,{treeData:It(t,!1),treeDefaultExpandAll:!0,placeholder:"Please select a category to delete",onSelect:function(e,t,r){s.setFieldsValue({categoryToDelete:t.c_name})}})}),Object(v.jsx)(_e.a.Item,{children:Object(v.jsx)(we.a,{type:"primary",htmlType:"submit",children:"Delete Category"})})]})]})]})]})},url:"/manageCategories",roles:[p],exact:!1},{component:Ce,url:"/login",roles:null,exact:!1},{component:Ce,url:"*",roles:null,exact:!1}]},sc=r(234),oc=function(e){var t=e.component,r=e.roles,n=void 0===r?[]:r,c=Object(sc.a)(e,["component","roles"]),a=T(),i=n.some((function(e){return a.roles[0].includes(e)}));return Object(v.jsx)(fe.b,Object(ve.a)(Object(ve.a)({},c),{},{render:function(e){return i?Object(v.jsx)(t,Object(ve.a)({},e)):a.roles[0]===p?Object(v.jsx)(fe.a,{to:"/admin"}):Object(v.jsx)(fe.a,{to:"/"})}}))};function lc(){return Object(v.jsxs)(s.a,{className:"footer-menubar",mode:"horizontal",children:[Object(v.jsx)(s.a.Item,{className:"item",children:Object(v.jsx)(b.a,{to:"/termsConditions",children:" Terms and Conditions "})},"Terms"),Object(v.jsx)(s.a.Item,{className:"item",children:"Support"},"Support"),Object(v.jsx)(s.a.Item,{className:"item",children:Object(v.jsx)(b.a,{to:"/contactUs",children:" Contact Us "})},"Contact")]})}function dc(){return Object(v.jsxs)(s.a,{className:"footer-menubar-mobile",mode:"vertical",children:[Object(v.jsx)(s.a.Item,{className:"item",children:"Home"},"Home"),Object(v.jsx)(s.a.Item,{className:"item",children:Object(v.jsx)(b.a,{to:"/termsAndConditions",children:" Terms and Conditions "})},"Terms"),Object(v.jsx)(s.a.Item,{className:"item",children:"Support"},"Support"),Object(v.jsx)(s.a.Item,{className:"item",children:Object(v.jsx)(b.a,{to:"/contactUs",children:" Contact Us "})},"Contact")]})}function jc(){var e=Object(m.d)((function(e){return e.cartState.loading})),t=T();return Object(v.jsx)(v.Fragment,{children:t.roles[0]===p?Object(v.jsx)(v.Fragment,{}):e?Object(v.jsx)("div",{id:"copyright-background",children:"\xa9Copyright \xa92020 Sungent Packaging | All rights reserved"}):Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(lc,{}),Object(v.jsx)(dc,{}),Object(v.jsx)("div",{id:"copyright-background",children:"\xa9Copyright \xa92020 Sungent Packaging | All rights reserved"})]})})}var uc=function(){return Object(v.jsx)(v.Fragment,{children:Object(v.jsx)(L,{children:Object(v.jsxs)(fe.c,{history:g,children:[Object(v.jsx)("div",{className:"Website-Header",children:Object(v.jsx)(ge,{})}),Object(v.jsx)("div",{className:"Website-Body",children:Object(v.jsx)(fe.d,{children:ic.routes.map((function(e){var t=e.component,r=e.url,n=e.roles,c=e.exact;return null===n?Object(v.jsx)(fe.b,{path:r,component:t},r):c?Object(v.jsx)(oc,{exact:!0,path:r,component:t,roles:n},r):Object(v.jsx)(oc,{path:r,component:t,roles:n},r)}))})}),Object(v.jsx)("footer",{className:"Website-Footer",children:Object(v.jsx)(jc,{})})]})})})},bc=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,460)).then((function(t){var r=t.getCLS,n=t.getFID,c=t.getFCP,a=t.getLCP,i=t.getTTFB;r(e),n(e),c(e),a(e),i(e)}))},mc=r(225),hc={products:[],isLoading:!1,error:!1},pc=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hc,t=arguments.length>1?arguments[1]:void 0,r=t.type,n=t.payload;switch(r){case z:return Object(ve.a)(Object(ve.a)({},e),{},{products:n.sort((function(e,t){return e.p_code>t.p_code?1:t.p_code>e.p_code?-1:0})),isLoading:!1,error:!1});case V:return Object(ve.a)(Object(ve.a)({},e),{},{products:Object(vr.a)(e.products).sort((function(e,t){return e.p_code>t.p_code?1:t.p_code>e.p_code?-1:0}))});case U:return Object(ve.a)(Object(ve.a)({},e),{},{isLoading:n});case M:var c=e.products.findIndex((function(e){return e.p_code===n.p_code}));return Object(ve.a)(Object(ve.a)({},e),{},{products:[].concat(Object(vr.a)(e.products.slice(0,c)),[n],Object(vr.a)(e.products.slice(c+1)))});case W:return Object(ve.a)(Object(ve.a)({},e),{},{products:e.products.filter((function(e){return e.p_code!==n}))});case G:return Object(ve.a)(Object(ve.a)({},e),{},{products:[].concat(Object(vr.a)(e.products),[n])});case J:return Object(ve.a)(Object(ve.a)({},e),{},{error:!0});default:return e}},Oc={product:null,isLoading:!1,error:!1},xc=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oc,t=arguments.length>1?arguments[1]:void 0,r=t.type,n=t.payload;switch(r){case B:return Object(ve.a)(Object(ve.a)({},e),{},{product:n,isLoading:!1,error:!1});case Y:return Object(ve.a)(Object(ve.a)({},e),{},{isLoading:!0,error:!1});case J:return Object(ve.a)(Object(ve.a)({},e),{},{error:!0});default:return e}},gc={categories:[],loading:!1,error:!1,empty:!1},fc=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gc,t=arguments.length>1?arguments[1]:void 0,r=t.type,n=t.payload;switch(r){case Q:case Z:return Object(ve.a)(Object(ve.a)({},e),{},{categories:n,loading:!1});case X:return Object(ve.a)(Object(ve.a)({},e),{},{loading:!0});case H:return Object(ve.a)(Object(ve.a)({},e),{},{loading:!1,error:!0});case K:return Object(ve.a)(Object(ve.a)({},e),{},{loading:!1,empty:!0});default:return e}},vc={companyInfo:{},loading:!1,error:!1},_c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vc,t=arguments.length>1?arguments[1]:void 0,r=t.type,n=t.payload;switch(r){case $:case ee:return Object(ve.a)(Object(ve.a)({},e),{},{companyInfo:n});case te:return Object(ve.a)(Object(ve.a)({},e),{},{loading:!e.loading});default:return e}},yc={completeOrders:[],loading:!1,error:!1},wc=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yc,t=arguments.length>1?arguments[1]:void 0,r=t.type,n=t.payload;switch(r){case re:return Object(ve.a)(Object(ve.a)({},e),{},{completeOrders:n.sort((function(e,t){return new Date(t.issued_date)-new Date(e.issued_date)})),loading:!1,error:!1});case ae:return Object(ve.a)(Object(ve.a)({},e),{},{error:!0,loading:!1});case ne:return Object(ve.a)(Object(ve.a)({},e),{},{loading:n});case ce:return Object(ve.a)(Object(ve.a)({},e),{},{completeOrders:e.completeOrders.filter((function(e){return e.po_number!==n}))});case ie:var c=[].concat(Object(vr.a)(e.completeOrders),[n]);return c.sort((function(e,t){return new Date(t.issued_date)-new Date(e.issued_date)})),Object(ve.a)(Object(ve.a)({},e),{},{completeOrders:c});case se:var a=e.completeOrders.findIndex((function(e){return e.po_number===n.po_number}));return Object(ve.a)(Object(ve.a)({},e),{},{completeOrders:[].concat(Object(vr.a)(e.completeOrders.slice(0,a)),[n],Object(vr.a)(e.completeOrders.slice(a+1)))});default:return e}},Sc={incompleteOrders:[],loading:!1,error:!1},Nc=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Sc,t=arguments.length>1?arguments[1]:void 0,r=t.type,n=t.payload;switch(r){case oe:return Object(ve.a)(Object(ve.a)({},e),{},{incompleteOrders:n.sort((function(e,t){return new Date(t.issued_date)-new Date(e.issued_date)})),loading:!1,error:!1});case je:return Object(ve.a)(Object(ve.a)({},e),{},{error:!0,loading:!1});case le:return Object(ve.a)(Object(ve.a)({},e),{},{loading:n});case de:return Object(ve.a)(Object(ve.a)({},e),{},{incompleteOrders:e.incompleteOrders.filter((function(e){return e.po_number!==n}))});case ue:var c=e.incompleteOrders.findIndex((function(e){return e.po_number===n.po_number})),a=e.incompleteOrders,i=a[c];return i.tracking_number=n.tracking_number,i.carrier=n.carrier,i.status=Me,Object(ve.a)(Object(ve.a)({},e),{},{incompleteOrders:Object(vr.a)(a)});case be:var s=[].concat(Object(vr.a)(e.incompleteOrders),[n]);return s.sort((function(e,t){return new Date(t.issued_date)-new Date(e.issued_date)})),Object(ve.a)(Object(ve.a)({},e),{},{incompleteOrders:s});case me:var o=e.incompleteOrders.findIndex((function(e){return e.po_number===n.po_number}));return Object(ve.a)(Object(ve.a)({},e),{},{incompleteOrders:[].concat(Object(vr.a)(e.incompleteOrders.slice(0,o)),[n],Object(vr.a)(e.incompleteOrders.slice(o+1)))});default:return e}},Ac={po_attention_to:"",po_address_line1:"",po_address_line2:"",po_suburb:"Sydney",po_state:"NSW",po_postcode:2e3},Cc={items:JSON.parse(localStorage.getItem("items"))||[],total:0,address:JSON.parse(localStorage.getItem("address"))||Ac,c_email:JSON.parse(localStorage.getItem("email"))||"",loading:!1,error:null,stripe:null},kc=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Cc,t=arguments.length>1?arguments[1]:void 0;if(t.type===Rt){var r=t.product,n=e.total+r.p_price*t.quantity,c=e.items.findIndex((function(e){return e.item_code===r.p_code&&e.special_requirements===t.special_requirements&&e.p_size===t.p_size}));return-1!==c?(e.items[c].quantity+=t.quantity,Object(ve.a)(Object(ve.a)({},e),{},{total:n})):Object(ve.a)(Object(ve.a)({},e),{},{items:[].concat(Object(vr.a)(e.items),[{item_code:r.p_code,p_size:t.p_size,quantity:t.quantity,special_requirements:t.special_requirements}]),total:n})}if(t.type===Bt){var a=t.index;e.items[a].quantity+=1;var i=e.total+e.items[a].unit_price;return Object(ve.a)(Object(ve.a)({},e),{},{total:i})}if(t.type===Vt){var s=t.index;e.items[s].quantity-=1;var o=e.total-e.items[s].unit_price;return 0===e.items[s].quantity&&e.items.splice(s,1),Object(ve.a)(Object(ve.a)({},e),{},{total:o})}if(t.type===zt){var l=e.items;t.invalid_pcodes.forEach((function(t){l=e.items.filter((function(e){return e.item_code!==t.item_code&&e.p_size!==t.p_size}))}));var d=0;return e.items.forEach((function(e){d+=e.quantity*e.unit_price})),Object(ve.a)(Object(ve.a)({},e),{},{items:l,total:d})}if(t.type===qt)return Object(ve.a)(Object(ve.a)({},e),{},{total:0,items:[],address:Ac,c_email:""});if(t.type===Jt){t.items.forEach((function(t){e.items.filter((function(e){return e.item_code===t.p_code})).forEach((function(r,n){e.items[n].p_name=t.p_name,e.items[n].price_id=t.p_price_id,e.items[n].unit_price=t.p_price,e.items[n].p_image_uri=t.p_image_uri[0]}))}));var j=0;return e.items.forEach((function(e){j+=e.quantity*e.unit_price})),console.log({total:j}),Object(ve.a)(Object(ve.a)({},e),{},{total:j})}return t.type===Ut?Object(ve.a)(Object(ve.a)({},e),{},{address:t.address,c_email:t.email}):t.type===Wt?Object(ve.a)(Object(ve.a)({},e),{},{loading:t.loading}):t.type===Mt?Object(ve.a)(Object(ve.a)({},e),{},{error:t.error}):t.type===Gt?Object(ve.a)(Object(ve.a)({},e),{},{stripe:t.stripe}):e},Ec=r(91),Pc=Object(Ec.c)({productState:pc,productDetailsState:xc,categoryState:fc,companyInfoState:_c,completeOrdersState:wc,incompleteOrdersState:Nc,cartState:kc}),Ic=Object(Ec.d)(Pc,Object(Ec.a)(mc.a)),Tc=r(226);a.a.render(Object(v.jsx)(m.a,{store:Ic,children:Object(v.jsx)(Tc.a,{children:Object(v.jsx)(uc,{})})}),document.getElementById("main")),bc()}},[[427,1,2]]]);
//# sourceMappingURL=main.338f0c4e.chunk.js.map